(function(e,t){'object'==typeof exports&&'object'==typeof module?module.exports=t():'function'==typeof define&&define.amd?define('ole',[],t):'object'==typeof exports?exports.ole=t():e.ole=t()})('undefined'==typeof self?this:self,function(){var e=Math.atan,_=Math.log,t=Math.atan2,g=Math.ceil,o=Math.round,n=Number.isInteger,I=Math.pow,d=Math.floor,a=Number.isNaN,s=Math.PI,l=Math.abs,p=Math.exp,r=Math.sin,c=Math.cos,E=Math.max,C=Math.min,N=Math.sqrt,u=Math.trunc;return function(e){function t(n){if(o[n])return o[n].exports;var a=o[n]={i:n,l:!1,exports:{}};return e[n].call(a.exports,a,a.exports,t),a.l=!0,a.exports}var o={};return t.m=e,t.c=o,t.d=function(e,o,n){t.o(e,o)||Object.defineProperty(e,o,{configurable:!1,enumerable:!0,get:n})},t.n=function(e){var o=e&&e.__esModule?function(){return e['default']}:function(){return e};return t.d(o,'a',o),o},t.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},t.p='',t(t.s=213)}([function(e,t,o){'use strict';function n(){this.array_=[],arguments[0]instanceof a.a&&this.addAll(arguments[0])}t.a=n;var a=o(32),i=o(179),r=o(78),s=o(97);n.prototype=Object.create(r.a.prototype),n.prototype.constructor=n,n.prototype.ensureCapacity=function(){},n.prototype.interfaces_=[r.a,a.a],n.prototype.add=function(t){return 1===arguments.length?this.array_.push(t):this.array_.splice(arguments[0],0,arguments[1]),!0},n.prototype.clear=function(){this.array_=[]},n.prototype.addAll=function(e){for(let t=e.iterator();t.hasNext();)this.add(t.next());return!0},n.prototype.set=function(e,t){const o=this.array_[e];return this.array_[e]=t,o},n.prototype.iterator=function(){return new d(this)},n.prototype.get=function(e){if(0>e||e>=this.size())throw new i.a;return this.array_[e]},n.prototype.isEmpty=function(){return 0===this.array_.length},n.prototype.size=function(){return this.array_.length},n.prototype.toArray=function(){const e=[];for(let t=0,o=this.array_.length;t<o;t++)e.push(this.array_[t]);return e},n.prototype.remove=function(e){let t=!1;for(let o=0,n=this.array_.length;o<n;o++)if(this.array_[o]===e){this.array_.splice(o,1),t=!0;break}return t},n.prototype.removeAll=function(e){for(let t=e.iterator();t.hasNext();)this.remove(t.next());return!0};const d=function(e){this.arrayList_=e,this.position_=0};d.prototype.next=function(){if(this.position_===this.arrayList_.size())throw new s.a;return this.arrayList_.get(this.position_++)},d.prototype.hasNext=function(){return!!(this.position_<this.arrayList_.size())},d.prototype.set=function(e){return this.arrayList_.set(this.position_-1,e)},d.prototype.remove=function(){this.arrayList_.remove(this.arrayList_.get(this.position_))}},function(e,t,o){'use strict';var n=o(291),a=o(5),i=o(21),r=o(16),s=o(76),d=o(94),l=o(22),p=o(4);class _{constructor(){_.constructor_.apply(this,arguments)}static hashCode(){if(1===arguments.length&&'number'==typeof arguments[0]){const e=arguments[0],t=i.a.doubleToLongBits(e);return u(t^t>>>32)}}setOrdinate(e,t){switch(e){case _.X:this.x=t;break;case _.Y:this.y=t;break;case _.Z:this.z=t;break;default:throw new a.a('Invalid ordinate index: '+e);}}equals2D(){if(1===arguments.length){const e=arguments[0];return!(this.x!==e.x)&&!(this.y!==e.y)}if(2===arguments.length){const e=arguments[0],t=arguments[1];return!!n.a.equalsWithTolerance(this.x,e.x,t)&&!!n.a.equalsWithTolerance(this.y,e.y,t)}}getOrdinate(e){switch(e){case _.X:return this.x;case _.Y:return this.y;case _.Z:return this.z;}throw new a.a('Invalid ordinate index: '+e)}equals3D(e){return this.x===e.x&&this.y===e.y&&(this.z===e.z||i.a.isNaN(this.z)&&i.a.isNaN(e.z))}equals(e){return!!(e instanceof _)&&this.equals2D(e)}equalInZ(e,t){return n.a.equalsWithTolerance(this.z,e.z,t)}compareTo(e){const t=e;return this.x<t.x?-1:this.x>t.x?1:this.y<t.y?-1:this.y>t.y?1:0}clone(){try{return null}catch(t){if(t instanceof CloneNotSupportedException)return p.a.shouldNeverReachHere('this shouldn\'t happen because this class is Cloneable'),null;throw t}finally{}}copy(){return new _(this)}toString(){return'('+this.x+', '+this.y+', '+this.z+')'}distance3D(e){const t=this.x-e.x,o=this.y-e.y,n=this.z-e.z;return N(t*t+o*o+n*n)}distance(e){const t=this.x-e.x,o=this.y-e.y;return N(t*t+o*o)}hashCode(){let e=17;return e=37*e+_.hashCode(this.x),e=37*e+_.hashCode(this.y),e}setCoordinate(e){this.x=e.x,this.y=e.y,this.z=e.z}getClass(){return _}get interfaces_(){return[r.a,s.a,l.a]}}t.a=_;class g{constructor(){g.constructor_.apply(this,arguments)}static compare(e,t){return e<t?-1:e>t?1:i.a.isNaN(e)?i.a.isNaN(t)?0:-1:i.a.isNaN(t)?1:0}compare(e,t){const o=e,n=t,a=g.compare(o.x,n.x);if(0!==a)return a;const i=g.compare(o.y,n.y);if(0!==i)return i;if(2>=this._dimensionsToTest)return 0;const r=g.compare(o.z,n.z);return r}getClass(){return g}get interfaces_(){return[d.a]}}g.constructor_=function(){if(this._dimensionsToTest=2,0===arguments.length)g.constructor_.call(this,2);else if(1===arguments.length){const e=arguments[0];if(2!==e&&3!==e)throw new a.a('only 2 or 3 dimensions may be specified');this._dimensionsToTest=e}},_.DimensionalComparator=g,_.constructor_=function(){if(this.x=null,this.y=null,this.z=null,0===arguments.length)_.constructor_.call(this,0,0);else if(1===arguments.length){const e=arguments[0];_.constructor_.call(this,e.x,e.y,e.z)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];_.constructor_.call(this,e,t,_.NULL_ORDINATE)}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];this.x=e,this.y=t,this.z=o}},_.serialVersionUID=6683108902428367000,_.NULL_ORDINATE=i.a.NaN,_.X=0,_.Y=1,_.Z=2},function(e,t,o){'use strict';function n(e,t,o){var n=C.apply(null,e),a=C.apply(null,t),r=E.apply(null,e),s=E.apply(null,t);return i(n,a,r,s,o)}function a(e,t){var o=e[0],n=e[1],a=e[2],i=e[3],r=t[0],s=t[1],d=N.a.UNKNOWN;return r<o?d|=N.a.LEFT:r>a&&(d|=N.a.RIGHT),s<n?d|=N.a.BELOW:s>i&&(d|=N.a.ABOVE),d===N.a.UNKNOWN&&(d=N.a.INTERSECTING),d}function r(){return[Infinity,Infinity,-Infinity,-Infinity]}function i(e,t,o,n,a){return a?(a[0]=e,a[1]=t,a[2]=o,a[3]=n,a):[e,t,o,n]}function s(e){return i(Infinity,Infinity,-Infinity,-Infinity,e)}function d(e,t){t[0]<e[0]&&(e[0]=t[0]),t[0]>e[2]&&(e[2]=t[0]),t[1]<e[1]&&(e[1]=t[1]),t[1]>e[3]&&(e[3]=t[1])}function l(e,t){for(var o=0,n=t.length;o<n;++o)d(e,t[o]);return e}function p(e,t,o,n,a){for(;o<n;o+=a)_(e,t[o],t[o+1]);return e}function _(e,t,o){e[0]=C(e[0],t),e[1]=C(e[1],o),e[2]=E(e[2],t),e[3]=E(e[3],o)}function g(e){return[e[0],e[1]]}function c(e){return[e[2],e[1]]}function u(e){return e[3]-e[1]}function y(e){return[e[0],e[3]]}function m(e){return[e[2],e[3]]}function h(e){return e[2]-e[0]}function f(e){return e[2]<e[0]||e[3]<e[1]}t.b=function(e){for(var t=r(),o=0,n=e.length;o<n;++o)d(t,e[o]);return t},t.c=function(e,t,o){return o?(o[0]=e[0]-t,o[1]=e[1]-t,o[2]=e[2]+t,o[3]=e[3]+t,o):[e[0]-t,e[1]-t,e[2]+t,e[3]+t]},t.d=function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e.slice()},t.e=function(e,t,o){var n,a;return n=t<e[0]?e[0]-t:e[2]<t?t-e[2]:0,a=o<e[1]?e[1]-o:e[3]<o?o-e[3]:0,n*n+a*a},t.f=function(e,t){return e[0]<=t[0]&&t[2]<=e[2]&&e[1]<=t[1]&&t[3]<=e[3]},t.g=function(e,t,o){return e[0]<=t&&t<=e[2]&&e[1]<=o&&o<=e[3]},t.h=a,t.i=r,t.j=i,t.k=s,t.l=function(e,t){var o=e[0],n=e[1];return i(o,n,o,n,t)},t.m=function(e,t){var o=s(t);return l(o,e)},t.n=function(e,t,o,n,a){var i=s(a);return p(i,e,t,o,n)},t.o=function(e,t){return e[0]==t[0]&&e[2]==t[2]&&e[1]==t[1]&&e[3]==t[3]},t.p=function(e,t){return t[0]<e[0]&&(e[0]=t[0]),t[2]>e[2]&&(e[2]=t[2]),t[1]<e[1]&&(e[1]=t[1]),t[3]>e[3]&&(e[3]=t[3]),e},t.q=d,t.r=p,t.s=function(e,t){var o;return(o=t(g(e)),o)?o:(o=t(c(e)),o)?o:(o=t(m(e)),o)?o:(o=t(y(e)),!!o&&o)},t.t=function(e){var t=0;return f(e)||(t=h(e)*u(e)),t},t.u=g,t.v=c,t.w=function(e){return[(e[0]+e[2])/2,(e[1]+e[3])/2]},t.x=u,t.y=y,t.z=m,t.A=h,t.B=function(e,t){return e[0]<=t[2]&&e[2]>=t[0]&&e[1]<=t[3]&&e[3]>=t[1]},t.D=function(e,t){return t?(t[0]=e[0],t[1]=e[1],t[2]=e[2],t[3]=e[3],t):e},t.E=function(e,t){var o=(e[2]-e[0])/2*(t-1),n=(e[3]-e[1])/2*(t-1);e[0]-=o,e[2]+=o,e[1]-=n,e[3]+=n},t.C=function(e,t,o){var n=!1,i=a(e,t),r=a(e,o);if(i===N.a.INTERSECTING||r===N.a.INTERSECTING)n=!0;else{var s=e[0],d=e[1],l=e[2],p=e[3],_=t[0],g=t[1],c=o[0],u=o[1],m=(u-g)/(c-_),h=void 0,f=void 0;!(r&N.a.ABOVE)||i&N.a.ABOVE||(h=c-(u-p)/m,n=h>=s&&h<=l),n||!(r&N.a.RIGHT)||i&N.a.RIGHT||(f=u-(c-l)*m,n=f>=d&&f<=p),n||!(r&N.a.BELOW)||i&N.a.BELOW||(h=c-(u-d)/m,n=h>=s&&h<=l),n||!(r&N.a.LEFT)||i&N.a.LEFT||(f=u-(c-s)*m,n=f>=d&&f<=p)}return n},t.a=function(e,t,o){var a=[e[0],e[1],e[0],e[3],e[2],e[1],e[2],e[3]];t(a,a,2);var i=[a[0],a[2],a[4],a[6]],r=[a[1],a[3],a[5],a[7]];return n(i,r,o)};var x=o(30),I=o(224),N=o(144)},function(e,t){'use strict';t.a=function(e,t){return e.interfaces_&&-1<e.interfaces_.indexOf(t)}},function(e,t,o){'use strict';var n=o(292);class a{constructor(){a.constructor_.apply(this,arguments)}static shouldNeverReachHere(){if(0===arguments.length)a.shouldNeverReachHere(null);else if(1===arguments.length){const e=arguments[0];throw new n.a('Should never reach here'+(null===e?'':': '+e))}}static isTrue(){if(1===arguments.length){const e=arguments[0];a.isTrue(e,null)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];if(!e)if(null===t)throw new n.a;else throw new n.a(t)}}static equals(){if(2===arguments.length){const e=arguments[0],t=arguments[1];a.equals(e,t,null)}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];if(!t.equals(e))throw new n.a('Expected '+e+' but encountered '+t+(null===o?'':': '+o))}}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){}},function(e,t){'use strict';t.a=function(e){this.message=e}},function(e,t,o){'use strict';t.b=function(){return function(){throw new Error('Unimplemented abstract method.')}()},t.c=function(e){return e.ol_uid||(e.ol_uid=++n+'')},o.d(t,'a',function(){return a});var n=0,a='6.0.0-beta.13'},function(e,t){'use strict';t.a={CHANGE:'change',ERROR:'error',CLEAR:'clear',CONTEXTMENU:'contextmenu',CLICK:'click',DBLCLICK:'dblclick',DRAGENTER:'dragenter',DRAGOVER:'dragover',DROP:'drop',KEYDOWN:'keydown',KEYPRESS:'keypress',LOAD:'load',MOUSEDOWN:'mousedown',MOUSEMOVE:'mousemove',MOUSEOUT:'mouseout',MOUSEUP:'mouseup',MOUSEWHEEL:'mousewheel',MSPOINTERDOWN:'MSPointerDown',RESIZE:'resize',TOUCHSTART:'touchstart',TOUCHMOVE:'touchmove',TOUCHEND:'touchend',WHEEL:'wheel'}},function(e,t){'use strict';t.a={POINT:'Point',LINE_STRING:'LineString',LINEAR_RING:'LinearRing',POLYGON:'Polygon',MULTI_POINT:'MultiPoint',MULTI_LINE_STRING:'MultiLineString',MULTI_POLYGON:'MultiPolygon',GEOMETRY_COLLECTION:'GeometryCollection',CIRCLE:'Circle'}},function(e,t,o){'use strict';var n=o(5);class a{constructor(){a.constructor_.apply(this,arguments)}static toLocationSymbol(e){switch(e){case a.EXTERIOR:return'e';case a.BOUNDARY:return'b';case a.INTERIOR:return'i';case a.NONE:return'-';}throw new n.a('Unknown location value: '+e)}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){},a.INTERIOR=0,a.BOUNDARY=1,a.EXTERIOR=2,a.NONE=-1},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}static opposite(e){return e===o.LEFT?o.RIGHT:e===o.RIGHT?o.LEFT:e}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){},o.ON=0,o.LEFT=1,o.RIGHT=2},function(e,t,o){'use strict';function n(e){var t=function(t){var o=e.listener,n=e.bindTo||e.target;return e.callOnce&&p(e),o.call(n,t)};return e.boundListener=t,t}function a(e,t,o,n){for(var a=0,i=e.length,r;a<i;++a)if(r=e[a],r.listener===t&&r.bindTo===o)return n&&(r.deleteIndex=a),r}function r(e,t){var o=s(e);return o?o[t]:void 0}function s(e,t){var o=e.ol_lm;return!o&&t&&(o=e.ol_lm={}),o}function d(e){delete e.ol_lm}function l(e,t){var o=r(e,t);if(o){for(var n=0,a=o.length;n<a;++n)e.removeEventListener(t,o[n].boundListener),Object(_.b)(o[n]);o.length=0;var i=s(e);i&&(delete i[t],0===Object.keys(i).length&&d(e))}}function i(e,t,o,i,r){var d=s(e,!0),l=d[t];l||(l=d[t]=[]);var p=a(l,o,i,!1);return p?!r&&(p.callOnce=!1):(p={bindTo:i,callOnce:!!r,listener:o,target:e,type:t},e.addEventListener(t,n(p)),l.push(p)),p}function p(e){if(e&&e.target){e.target.removeEventListener(e.type,e.boundListener);var t=r(e.target,e.type);if(t){var o='deleteIndex'in e?e.deleteIndex:t.indexOf(e);-1!==o&&t.splice(o,1),0===t.length&&l(e.target,e.type)}Object(_.b)(e)}}t.a=i,t.b=function(e,t,o,n){return i(e,t,o,n,!0)},t.c=function(e,t,o,n){var i=r(e,t);if(i){var s=a(i,o,n,!0);s&&p(s)}},t.e=p,t.d=function(e){var t=s(e);if(t)for(var o in t)l(e,o)};var _=o(12)},function(e,t,o){'use strict';o.d(t,'a',function(){return n}),t.b=function(e){for(var t in e)delete e[t]},o.d(t,'c',function(){return a}),t.d=function(e){for(var t in e)return!1;return!t};var n='function'==typeof Object.assign?Object.assign:function(e){if(e===void 0||null===e)throw new TypeError('Cannot convert undefined or null to object');for(var t=Object(e),o=1,n=arguments.length,a;o<n;++o)if(a=arguments[o],void 0!==a&&null!==a)for(var i in a)a.hasOwnProperty(i)&&(t[i]=a[i]);return t},a='function'==typeof Object.values?Object.values:function(e){var t=[];for(var o in e)t.push(e[o]);return t}},function(e,t){'use strict';t.b=function(){return!0},t.a=function(){return!1},t.c=function(){}},function(e,t,o){'use strict';function n(e,t,o,n){var a=o-e,i=n-t;return a*a+i*i}t.a=function(e,t,o){return C(E(e,t),o)},o.d(t,'b',function(){return a}),t.f=function(e,o,a,i,r,s){var d=r-a,l=s-i;if(0!=d||0!=l){var p=((e-a)*d+(o-i)*l)/(d*d+l*l);1<p?(a=r,i=s):0<p&&(a+=d*p,i+=l*p)}return n(e,o,a,i)},t.e=n,t.g=function(e){return 180*e/s},t.h=function(e){return e*s/180},t.d=function(e,t){var o=e%t;return 0>o*t?o+t:o},t.c=function(e,t,o){return e+o*(t-e)};var a=function(){var e;return e='cosh'in Math?Math.cosh:function(e){var t=p(e);return(t+1/t)/2},e}()},function(e,t){'use strict';function o(e,t){return e>t?1:e<t?-1:0}t.a=function(e,t,n){for(var a=0,i=e.length,r=!1,s,d;a<i;)s=a+(i-a>>1),d=+(n||o)(e[s],t),0>d?a=s+1:(i=s,r=!d);return r?a:~a},t.e=o,t.d=function(e,t){return 0<=e.indexOf(t)},t.f=function(e,t,o){for(;t<o;){var n=e[t];e[t]=e[o],e[o]=n,++t,--o}},t.c=function(e,t){for(var o=Array.isArray(t)?t:[t],n=o.length,a=0;a<n;a++)e[e.length]=o[a]},t.b=function(e,t){var o=e.length;if(o!==t.length)return!1;for(var n=0;n<o;n++)if(e[n]!==t[n])return!1;return!0}},function(e,t){'use strict';t.a=function(){}},function(e,t,o){'use strict';var n=o(5),a=o(187);class i{constructor(){i.constructor_.apply(this,arguments)}static index(e,t,o){return a.a.orientationIndex(e,t,o)}static isCCW(e){const t=e.length-1;if(3>t)throw new n.a('Ring has fewer than 4 points, so orientation cannot be determined');let o=e[0],a=0;for(let n=1;n<=t;n++){const t=e[n];t.y>o.y&&(o=t,a=n)}let r=a;do--r,0>r&&(r=t);while(e[r].equals2D(o)&&r!==a);let s=a;do s=(s+1)%t;while(e[s].equals2D(o)&&s!==a);const d=e[r],l=e[s];if(d.equals2D(o)||l.equals2D(o)||d.equals2D(l))return!1;const p=i.index(d,o,l);let _=null;return _=0===p?d.x>l.x:0<p,_}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){},i.CLOCKWISE=-1,i.RIGHT=i.CLOCKWISE,i.COUNTERCLOCKWISE=1,i.LEFT=i.COUNTERCLOCKWISE,i.COLLINEAR=0,i.STRAIGHT=i.COLLINEAR},function(e,t){'use strict';var o=function(){function e(e){this.propagationStopped,this.type=e,this.target=null}return e.prototype.preventDefault=function(){this.propagationStopped=!0},e.prototype.stopPropagation=function(){this.propagationStopped=!0},e}();t.a=o},function(e,t,o){'use strict';o.d(t,'a',function(){return s}),o.d(t,'b',function(){return d}),o.d(t,'e',function(){return l}),o.d(t,'c',function(){return p}),o.d(t,'f',function(){return _}),o.d(t,'h',function(){return g}),o.d(t,'j',function(){return c}),o.d(t,'m',function(){return u}),o.d(t,'d',function(){return y}),o.d(t,'i',function(){return m}),o.d(t,'l',function(){return h}),o.d(t,'n',function(){return f}),o.d(t,'g',function(){return x}),o.d(t,'k',function(){return I});var n=o(59),a=o(30),i=o(13),r=o(118),s=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},d=function(e){var t=e.originalEvent;return t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},l=function(e){return e.target.getTargetElement()===document.activeElement},p=i.b,_=function(e){var t=e.originalEvent;return 0==t.button&&!(r.f&&r.d&&t.ctrlKey)},g=i.a,c=function(e){return'pointermove'==e.type},u=function(e){return e.type==n.a.SINGLECLICK},y=function(e){return e.type==n.a.DBLCLICK},m=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&!t.shiftKey},h=function(e){var t=e.originalEvent;return!t.altKey&&!(t.metaKey||t.ctrlKey)&&t.shiftKey},f=function(e){var t=e.originalEvent.target,o=t.tagName;return'INPUT'!==o&&'SELECT'!==o&&'TEXTAREA'!==o},x=function(e){var t=e.pointerEvent;return Object(a.a)(void 0!==t,56),'mouse'==t.pointerType},I=function(e){var t=e.pointerEvent;return Object(a.a)(void 0!==t,56),t.isPrimary&&0===t.button}},function(e,t,o){'use strict';function n(e){var t=e.type;return t===a.a.POINTERDOWN||t===a.a.POINTERDRAG||t===a.a.POINTERUP}t.a=function(e){for(var t=e.length,o=0,n=0,a=0;a<t;a++)o+=e[a].clientX,n+=e[a].clientY;return[o/t,n/t]};var a=o(59),i=o(35),r=o(12),s=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),d=function(e){function t(t){var o=this,n=t?t:{};return o=e.call(this,n)||this,n.handleDownEvent&&(o.handleDownEvent=n.handleDownEvent),n.handleDragEvent&&(o.handleDragEvent=n.handleDragEvent),n.handleMoveEvent&&(o.handleMoveEvent=n.handleMoveEvent),n.handleUpEvent&&(o.handleUpEvent=n.handleUpEvent),n.stopDown&&(o.stopDown=n.stopDown),o.handlingDownUpSequence=!1,o.trackedPointers_={},o.targetPointers=[],o}return s(t,e),t.prototype.handleDownEvent=function(){return!1},t.prototype.handleDragEvent=function(){},t.prototype.handleEvent=function(e){if(!e.pointerEvent)return!0;var t=!1;if(this.updateTrackedPointers_(e),this.handlingDownUpSequence){if(e.type==a.a.POINTERDRAG)this.handleDragEvent(e);else if(e.type==a.a.POINTERUP){var o=this.handleUpEvent(e);this.handlingDownUpSequence=o&&0<this.targetPointers.length}}else if(e.type==a.a.POINTERDOWN){var n=this.handleDownEvent(e);n&&e.preventDefault(),this.handlingDownUpSequence=n,t=this.stopDown(n)}else e.type==a.a.POINTERMOVE&&this.handleMoveEvent(e);return!t},t.prototype.handleMoveEvent=function(){},t.prototype.handleUpEvent=function(){return!1},t.prototype.stopDown=function(e){return e},t.prototype.updateTrackedPointers_=function(e){if(n(e)){var t=e.pointerEvent,o=t.pointerId.toString();e.type==a.a.POINTERUP?delete this.trackedPointers_[o]:e.type==a.a.POINTERDOWN?this.trackedPointers_[o]=t:o in this.trackedPointers_&&(this.trackedPointers_[o]=t),this.targetPointers=Object(r.c)(this.trackedPointers_)}},t}(i.a);t.b=d},function(e,t,o){'use strict';function n(){}t.a=n;var i=o(176);n.isNaN=(e)=>a(e),n.isInfinite=(e)=>!Number.isFinite(e),n.MAX_VALUE=Number.MAX_VALUE,'function'==typeof Float64Array&&'function'==typeof Int32Array?function(){const e=2146435072,t=new Float64Array(1),o=new Int32Array(t.buffer);n.doubleToLongBits=function(n){t[0]=n;let a=0|o[0],r=0|o[1];return(r&e)==e&&0!=(r&1048575)&&0!=a&&(a=0,r=2146959360),new i.a(r,a)},n.longBitsToDouble=function(e){return o[0]=e.low,o[1]=e.high,t[0]}}():function(){const e=1023,t=Math.log2,o=d,a=I,r=function(){for(let e=53;0<e;e--){const n=a(2,e)-1;if(o(t(n))+1===e)return n}return 0}();n.doubleToLongBits=function(n){let s,d,l,p,_,g,c,u,y;if(0>n||1/n===Number.NEGATIVE_INFINITY?(g=-2147483648,n=-n):g=0,0===n)return y=0,u=g,new i.a(u,y);if(n===Infinity)return y=0,u=2146435072|g,new i.a(u,y);if(n!==n)return y=0,u=2146959360,new i.a(u,y);if(p=0,y=0,s=o(n),1<s)if(s<=r)p=o(t(s)),20>=p?(y=0,u=1048575&s<<20-p):(l=p-20,d=a(2,l),y=s%d<<32-l,u=1048575&s/d);else for(l=s,y=0;d=l/2,l=o(d),0!==l;)p++,y>>>=1,y|=(1&u)<<31,u>>>=1,d!==l&&(u|=524288);if(c=p+e,_=0===s,s=n-s,52>p&&0!==s)for(l=0;;){if(d=2*s,1<=d?(s=d-1,_?(c--,_=!1):(l<<=1,l|=1,p++)):(s=d,_?0==--c&&(p++,_=!1):(l<<=1,p++)),20===p)u|=l,l=0;else if(52===p){y|=l;break}if(1===d){20>p?u|=l<<20-p:52>p&&(y|=l<<52-p);break}}return u|=c<<20,u|=g,new i.a(u,y)},n.longBitsToDouble=function(t){let o,n,r,s,d;const l=t.high,p=t.low;for(r=-2147483648&l?-1:1,s=((2146435072&l)>>20)-e,d=0,n=524288,o=1;20>=o;o++)l&n&&(d+=a(2,-o)),n>>>=1;for(n=-2147483648,o=21;52>=o;o++)p&n&&(d+=a(2,-o)),n>>>=1;if(s===-e){if(0===d)return 0*r;s=-1022}else{if(s===e+1)return 0===d?r/0:NaN;d+=1}return r*d*a(2,s)}}()},function(e,t){'use strict';t.a=function(){}},function(e,t,o){'use strict';var n=o(1),a=o(16),i=o(22);class r{constructor(){r.constructor_.apply(this,arguments)}static intersects(){if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];return o.x>=(e.x<t.x?e.x:t.x)&&o.x<=(e.x>t.x?e.x:t.x)&&o.y>=(e.y<t.y?e.y:t.y)&&o.y<=(e.y>t.y?e.y:t.y)}if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3];let a=C(o.x,n.x),i=E(o.x,n.x),r=C(e.x,t.x),s=E(e.x,t.x);return!(r>i)&&!(s<a)&&(a=C(o.y,n.y),i=E(o.y,n.y),r=C(e.y,t.y),s=E(e.y,t.y),!(r>i)&&!(s<a))}}getArea(){return this.getWidth()*this.getHeight()}equals(e){if(!(e instanceof r))return!1;const t=e;return this.isNull()?t.isNull():this._maxx===t.getMaxX()&&this._maxy===t.getMaxY()&&this._minx===t.getMinX()&&this._miny===t.getMinY()}intersection(e){if(this.isNull()||e.isNull()||!this.intersects(e))return new r;const t=this._minx>e._minx?this._minx:e._minx,o=this._miny>e._miny?this._miny:e._miny,n=this._maxx<e._maxx?this._maxx:e._maxx,a=this._maxy<e._maxy?this._maxy:e._maxy;return new r(t,n,o,a)}isNull(){return this._maxx<this._minx}getMaxX(){return this._maxx}covers(){if(1===arguments.length){if(arguments[0]instanceof n.a){const e=arguments[0];return this.covers(e.x,e.y)}if(arguments[0]instanceof r){const e=arguments[0];return this.isNull()||e.isNull()?!1:e.getMinX()>=this._minx&&e.getMaxX()<=this._maxx&&e.getMinY()>=this._miny&&e.getMaxY()<=this._maxy}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];return!this.isNull()&&e>=this._minx&&e<=this._maxx&&t>=this._miny&&t<=this._maxy}}intersects(){if(1===arguments.length){if(arguments[0]instanceof r){const e=arguments[0];return this.isNull()||e.isNull()?!1:!(e._minx>this._maxx||e._maxx<this._minx||e._miny>this._maxy||e._maxy<this._miny)}if(arguments[0]instanceof n.a){const e=arguments[0];return this.intersects(e.x,e.y)}}else if(2===arguments.length){if(arguments[0]instanceof n.a&&arguments[1]instanceof n.a){const e=arguments[0],t=arguments[1];if(this.isNull())return!1;const o=e.x<t.x?e.x:t.x;if(o>this._maxx)return!1;const n=e.x>t.x?e.x:t.x;if(n<this._minx)return!1;const a=e.y<t.y?e.y:t.y;if(a>this._maxy)return!1;const i=e.y>t.y?e.y:t.y;return!(i<this._miny)}if('number'==typeof arguments[0]&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1];return!this.isNull()&&!(e>this._maxx||e<this._minx||t>this._maxy||t<this._miny)}}}getMinY(){return this._miny}getMinX(){return this._minx}expandToInclude(){if(1===arguments.length){if(arguments[0]instanceof n.a){const e=arguments[0];this.expandToInclude(e.x,e.y)}else if(arguments[0]instanceof r){const e=arguments[0];if(e.isNull())return null;this.isNull()?(this._minx=e.getMinX(),this._maxx=e.getMaxX(),this._miny=e.getMinY(),this._maxy=e.getMaxY()):(e._minx<this._minx&&(this._minx=e._minx),e._maxx>this._maxx&&(this._maxx=e._maxx),e._miny<this._miny&&(this._miny=e._miny),e._maxy>this._maxy&&(this._maxy=e._maxy))}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.isNull()?(this._minx=e,this._maxx=e,this._miny=t,this._maxy=t):(e<this._minx&&(this._minx=e),e>this._maxx&&(this._maxx=e),t<this._miny&&(this._miny=t),t>this._maxy&&(this._maxy=t))}}minExtent(){if(this.isNull())return 0;const e=this.getWidth(),t=this.getHeight();return e<t?e:t}getWidth(){return this.isNull()?0:this._maxx-this._minx}compareTo(e){const t=e;if(this.isNull())return t.isNull()?0:-1;return t.isNull()?1:this._minx<t._minx?-1:this._minx>t._minx?1:this._miny<t._miny?-1:this._miny>t._miny?1:this._maxx<t._maxx?-1:this._maxx>t._maxx?1:this._maxy<t._maxy?-1:this._maxy>t._maxy?1:0}translate(e,t){return this.isNull()?null:void this.init(this.getMinX()+e,this.getMaxX()+e,this.getMinY()+t,this.getMaxY()+t)}toString(){return'Env['+this._minx+' : '+this._maxx+', '+this._miny+' : '+this._maxy+']'}setToNull(){this._minx=0,this._maxx=-1,this._miny=0,this._maxy=-1}getHeight(){return this.isNull()?0:this._maxy-this._miny}maxExtent(){if(this.isNull())return 0;const e=this.getWidth(),t=this.getHeight();return e>t?e:t}expandBy(){if(1===arguments.length){const e=arguments[0];this.expandBy(e,e)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];if(this.isNull())return null;this._minx-=e,this._maxx+=e,this._miny-=t,this._maxy+=t,(this._minx>this._maxx||this._miny>this._maxy)&&this.setToNull()}}contains(){if(1===arguments.length){if(arguments[0]instanceof r){const e=arguments[0];return this.covers(e)}if(arguments[0]instanceof n.a){const e=arguments[0];return this.covers(e)}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];return this.covers(e,t)}}centre(){return this.isNull()?null:new n.a((this.getMinX()+this.getMaxX())/2,(this.getMinY()+this.getMaxY())/2)}init(){if(0===arguments.length)this.setToNull();else if(1===arguments.length){if(arguments[0]instanceof n.a){const e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof r){const e=arguments[0];this._minx=e._minx,this._maxx=e._maxx,this._miny=e._miny,this._maxy=e._maxy}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.init(e.x,t.x,e.y,t.y)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3];e<t?(this._minx=e,this._maxx=t):(this._minx=t,this._maxx=e),o<n?(this._miny=o,this._maxy=n):(this._miny=n,this._maxy=o)}}getMaxY(){return this._maxy}distance(e){if(this.intersects(e))return 0;let t=0;this._maxx<e._minx?t=e._minx-this._maxx:this._minx>e._maxx&&(t=this._minx-e._maxx);let o=0;return this._maxy<e._miny?o=e._miny-this._maxy:this._miny>e._maxy&&(o=this._miny-e._maxy),0==t?o:0==o?t:N(t*t+o*o)}hashCode(){let e=17;return e=37*e+n.a.hashCode(this._minx),e=37*e+n.a.hashCode(this._maxx),e=37*e+n.a.hashCode(this._miny),e=37*e+n.a.hashCode(this._maxy),e}getClass(){return r}get interfaces_(){return[a.a,i.a]}}t.a=r,r.constructor_=function(){if(this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,0===arguments.length)this.init();else if(1===arguments.length){if(arguments[0]instanceof n.a){const e=arguments[0];this.init(e.x,e.x,e.y,e.y)}else if(arguments[0]instanceof r){const e=arguments[0];this.init(e)}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.init(e.x,t.x,e.y,t.y)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3];this.init(e,t,o,n)}},r.serialVersionUID=5873921885273102000},function(e,t,o){'use strict';var n=o(5),a=o(62),i=o(16),r=o(76),s=o(22),d=o(23);class l{constructor(){l.constructor_.apply(this,arguments)}isGeometryCollection(){return this.getTypeCode()===l.TYPECODE_GEOMETRYCOLLECTION}getFactory(){return this._factory}getGeometryN(){return this}getArea(){return 0}isRectangle(){return!1}equals(){if(arguments[0]instanceof l){const e=arguments[0];return null!==e&&this.equalsTopo(e)}if(arguments[0]instanceof Object){const e=arguments[0];if(!(e instanceof l))return!1;return this.equalsExact(e)}}equalsExact(e){return this===e||this.equalsExact(e,0)}geometryChanged(){this.apply(l.geometryChangedFilter)}geometryChangedAction(){this._envelope=null}equalsNorm(e){return null!==e&&this.norm().equalsExact(e.norm())}getLength(){return 0}getNumGeometries(){return 1}compareTo(){let e;if(1===arguments.length){const t=arguments[0];return e=t,this.getTypeCode()===e.getTypeCode()?this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t):this.getTypeCode()-e.getTypeCode()}if(2===arguments.length){const t=arguments[0],o=arguments[1];return e=t,this.getTypeCode()===e.getTypeCode()?this.isEmpty()&&e.isEmpty()?0:this.isEmpty()?-1:e.isEmpty()?1:this.compareToSameClass(t,o):this.getTypeCode()-e.getTypeCode()}}getUserData(){return this._userData}getSRID(){return this._SRID}getEnvelope(){return this.getFactory().toGeometry(this.getEnvelopeInternal())}checkNotGeometryCollection(e){if(e.getTypeCode()===l.TYPECODE_GEOMETRYCOLLECTION)throw new n.a('This method does not support GeometryCollection arguments')}equal(e,t,o){return 0===o?e.equals(t):e.distance(t)<=o}norm(){const e=this.copy();return e.normalize(),e}getPrecisionModel(){return this._factory.getPrecisionModel()}getEnvelopeInternal(){return null===this._envelope&&(this._envelope=this.computeEnvelopeInternal()),new d.a(this._envelope)}setSRID(e){this._SRID=e}setUserData(e){this._userData=e}compare(e,t){const o=e.iterator(),n=t.iterator();for(;o.hasNext()&&n.hasNext();){const e=o.next(),t=n.next(),a=e.compareTo(t);if(0!==a)return a}return o.hasNext()?1:n.hasNext()?-1:0}hashCode(){return this.getEnvelopeInternal().hashCode()}isGeometryCollectionOrDerived(){return this.getTypeCode()===l.TYPECODE_GEOMETRYCOLLECTION||this.getTypeCode()===l.TYPECODE_MULTIPOINT||this.getTypeCode()===l.TYPECODE_MULTILINESTRING||this.getTypeCode()===l.TYPECODE_MULTIPOLYGON}get interfaces_(){return[r.a,i.a,s.a]}getClass(){return l}static hasNonEmptyElements(e){for(let t=0;t<e.length;t++)if(!e[t].isEmpty())return!0;return!1}static hasNullElements(e){for(let t=0;t<e.length;t++)if(null===e[t])return!0;return!1}}t.a=l;l.constructor_=function(e){e&&(this._envelope=null,this._userData=null,this._factory=e,this._SRID=e.getSRID())},l.serialVersionUID=8763622679187377000,l.TYPECODE_POINT=0,l.TYPECODE_MULTIPOINT=1,l.TYPECODE_LINESTRING=2,l.TYPECODE_LINEARRING=3,l.TYPECODE_MULTILINESTRING=4,l.TYPECODE_POLYGON=5,l.TYPECODE_MULTIPOLYGON=6,l.TYPECODE_GEOMETRYCOLLECTION=7,l.TYPENAME_POINT='Point',l.TYPENAME_MULTIPOINT='MultiPoint',l.TYPENAME_LINESTRING='LineString',l.TYPENAME_LINEARRING='LinearRing',l.TYPENAME_MULTILINESTRING='MultiLineString',l.TYPENAME_POLYGON='Polygon',l.TYPENAME_MULTIPOLYGON='MultiPolygon',l.TYPENAME_GEOMETRYCOLLECTION='GeometryCollection',l.geometryChangedFilter={get interfaces_(){return[a.a]},filter(e){e.geometryChangedAction()}}},function(e,t,o){'use strict';var n=o(184),a=o(24),i=o(129),r=o(77),s=o(3),d=o(5),l=o(62),p=o(48),_=o(98),g=o(79),c=o(23),u=o(4);class y extends a.a{constructor(){super(),y.constructor_.apply(this,arguments)}computeEnvelopeInternal(){const e=new c.a;for(let t=0;t<this._geometries.length;t++)e.expandToInclude(this._geometries[t].getEnvelopeInternal());return e}getGeometryN(e){return this._geometries[e]}getCoordinates(){const e=Array(this.getNumPoints()).fill(null);let t=-1;for(let o=0;o<this._geometries.length;o++){const n=this._geometries[o].getCoordinates();for(let o=0;o<n.length;o++)t++,e[t]=n[o]}return e}getArea(){let e=0;for(let t=0;t<this._geometries.length;t++)e+=this._geometries[t].getArea();return e}equalsExact(){if(2===arguments.length&&'number'==typeof arguments[1]&&arguments[0]instanceof a.a){const e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;const o=e;if(this._geometries.length!==o._geometries.length)return!1;for(let e=0;e<this._geometries.length;e++)if(!this._geometries[e].equalsExact(o._geometries[e],t))return!1;return!0}return super.equalsExact.apply(this,arguments)}normalize(){for(let e=0;e<this._geometries.length;e++)this._geometries[e].normalize();i.a.sort(this._geometries)}getCoordinate(){return this.isEmpty()?null:this._geometries[0].getCoordinate()}getBoundaryDimension(){let e=p.a.FALSE;for(let t=0;t<this._geometries.length;t++)e=E(e,this._geometries[t].getBoundaryDimension());return e}getTypeCode(){return a.a.TYPECODE_GEOMETRYCOLLECTION}getDimension(){let e=p.a.FALSE;for(let t=0;t<this._geometries.length;t++)e=E(e,this._geometries[t].getDimension());return e}getLength(){let e=0;for(let t=0;t<this._geometries.length;t++)e+=this._geometries[t].getLength();return e}getNumPoints(){let e=0;for(let t=0;t<this._geometries.length;t++)e+=this._geometries[t].getNumPoints();return e}getNumGeometries(){return this._geometries.length}reverse(){const e=this._geometries.length,t=Array(e).fill(null);for(let e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createGeometryCollection(t)}compareToSameClass(){if(1===arguments.length){const e=arguments[0],t=new n.a(i.a.asList(this._geometries)),o=new n.a(i.a.asList(e._geometries));return this.compare(t,o)}if(2===arguments.length){const e=arguments[0],t=arguments[1],o=e,n=this.getNumGeometries(),a=o.getNumGeometries();let r=0;for(;r<n&&r<a;){const e=this.getGeometryN(r),n=o.getGeometryN(r),a=e.compareToSameClass(n,t);if(0!==a)return a;r++}return r<n?1:r<a?-1:0}}apply(){if(Object(s.a)(arguments[0],r.a)){const e=arguments[0];for(let t=0;t<this._geometries.length;t++)this._geometries[t].apply(e)}else if(Object(s.a)(arguments[0],g.a)){const e=arguments[0];if(0===this._geometries.length)return null;for(let t=0;t<this._geometries.length&&(this._geometries[t].apply(e),!e.isDone());t++);e.isGeometryChanged()&&this.geometryChanged()}else if(Object(s.a)(arguments[0],_.a)){const e=arguments[0];e.filter(this);for(let t=0;t<this._geometries.length;t++)this._geometries[t].apply(e)}else if(Object(s.a)(arguments[0],l.a)){const e=arguments[0];e.filter(this);for(let t=0;t<this._geometries.length;t++)this._geometries[t].apply(e)}}getBoundary(){return this.checkNotGeometryCollection(this),u.a.shouldNeverReachHere(),null}getGeometryType(){return a.a.TYPENAME_GEOMETRYCOLLECTION}copy(){const e=Array(this._geometries.length).fill(null);for(let t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new y(e,this._factory)}isEmpty(){for(let e=0;e<this._geometries.length;e++)if(!this._geometries[e].isEmpty())return!1;return!0}getClass(){return y}get interfaces_(){return[]}}t.a=y,y.constructor_=function(){if(this._geometries=null,0===arguments.length);else if(2===arguments.length){let e=arguments[0];const t=arguments[1];if(a.a.constructor_.call(this,t),null===e&&(e=[]),a.a.hasNullElements(e))throw new d.a('geometries must not contain null elements');this._geometries=e}},y.serialVersionUID=-5694727726395021000},function(e,t,o){'use strict';function n(e){return g.hasOwnProperty(e)?g[e]:g[e]='change:'+e}t.b=n;var a=o(6),i=o(142),r=o(108),s=o(18),d=o(12),l=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),p=function(e){function t(t,o,n){var a=e.call(this,t)||this;return a.key=o,a.oldValue=n,a}return l(t,e),t}(s.a),_=function(e){function t(t){var o=e.call(this)||this;return Object(a.c)(o),o.values_={},void 0!==t&&o.setProperties(t),o}return l(t,e),t.prototype.get=function(e){var t;return this.values_.hasOwnProperty(e)&&(t=this.values_[e]),t},t.prototype.getKeys=function(){return Object.keys(this.values_)},t.prototype.getProperties=function(){return Object(d.a)({},this.values_)},t.prototype.notify=function(e,t){var o;o=n(e),this.dispatchEvent(new p(o,e,t)),o=i.a.PROPERTYCHANGE,this.dispatchEvent(new p(o,e,t))},t.prototype.set=function(e,t,o){if(o)this.values_[e]=t;else{var n=this.values_[e];this.values_[e]=t,n!==t&&this.notify(e,n)}},t.prototype.setProperties=function(e,t){for(var o in e)this.set(o,e[o],t)},t.prototype.unset=function(e,t){if(e in this.values_){var o=this.values_[e];delete this.values_[e],t||this.notify(e,o)}},t}(r.a),g={};t.a=_},function(e,t,o){'use strict';var n=o(24),a=o(77),i=o(3),r=o(178),s=o(295),d=o(5),l=o(183),p=o(130),_=o(62),g=o(48),c=o(98),y=o(79),m=o(23);class h extends n.a{constructor(){super(),h.constructor_.apply(this,arguments)}computeEnvelopeInternal(){return this.isEmpty()?new m.a:this._points.expandEnvelope(new m.a)}isRing(){return this.isClosed()&&this.isSimple()}getCoordinates(){return this._points.toCoordinateArray()}equalsExact(){if(2===arguments.length&&'number'==typeof arguments[1]&&arguments[0]instanceof n.a){const e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;const o=e;if(this._points.size()!==o._points.size())return!1;for(let e=0;e<this._points.size();e++)if(!this.equal(this._points.getCoordinate(e),o._points.getCoordinate(e),t))return!1;return!0}return super.equalsExact.apply(this,arguments)}normalize(){for(let e=0;e<u(this._points.size()/2);e++){const t=this._points.size()-1-e;if(!this._points.getCoordinate(e).equals(this._points.getCoordinate(t))){if(0<this._points.getCoordinate(e).compareTo(this._points.getCoordinate(t))){const e=this._points.copy();p.a.reverse(e),this._points=e}return null}}}getCoordinate(){return this.isEmpty()?null:this._points.getCoordinate(0)}getBoundaryDimension(){return this.isClosed()?g.a.FALSE:0}isClosed(){return!this.isEmpty()&&this.getCoordinateN(0).equals2D(this.getCoordinateN(this.getNumPoints()-1))}getEndPoint(){return this.isEmpty()?null:this.getPointN(this.getNumPoints()-1)}getTypeCode(){return n.a.TYPECODE_LINESTRING}getDimension(){return 1}getLength(){return s.a.ofLine(this._points)}getNumPoints(){return this._points.size()}reverse(){const e=this._points.copy();p.a.reverse(e);const t=this.getFactory().createLineString(e);return t}compareToSameClass(){if(1===arguments.length){const e=arguments[0],t=e;let o=0,n=0;for(;o<this._points.size()&&n<t._points.size();){const e=this._points.getCoordinate(o).compareTo(t._points.getCoordinate(n));if(0!==e)return e;o++,n++}return o<this._points.size()?1:n<t._points.size()?-1:0}if(2===arguments.length){const e=arguments[0],t=arguments[1];return t.compare(this._points,e._points)}}apply(){if(Object(i.a)(arguments[0],a.a)){const e=arguments[0];for(let t=0;t<this._points.size();t++)e.filter(this._points.getCoordinate(t))}else if(Object(i.a)(arguments[0],y.a)){const e=arguments[0];if(0===this._points.size())return null;for(let t=0;t<this._points.size()&&(e.filter(this._points,t),!e.isDone());t++);e.isGeometryChanged()&&this.geometryChanged()}else if(Object(i.a)(arguments[0],c.a)){const e=arguments[0];e.filter(this)}else if(Object(i.a)(arguments[0],_.a)){const e=arguments[0];e.filter(this)}}getBoundary(){return new r.a(this).getBoundary()}isEquivalentClass(e){return e instanceof h}getCoordinateN(e){return this._points.getCoordinate(e)}getGeometryType(){return n.a.TYPENAME_LINESTRING}copy(){return new h(this._points.copy(),this._factory)}getCoordinateSequence(){return this._points}isEmpty(){return 0===this._points.size()}init(e){if(null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),1===e.size())throw new d.a('Invalid number of points in LineString (found '+e.size()+' - must be 0 or >= 2)');this._points=e}isCoordinate(e){for(let t=0;t<this._points.size();t++)if(this._points.getCoordinate(t).equals(e))return!0;return!1}getStartPoint(){return this.isEmpty()?null:this.getPointN(0)}getPointN(e){return this.getFactory().createPoint(this._points.getCoordinate(e))}getClass(){return h}get interfaces_(){return[l.a]}}t.a=h,h.constructor_=function(){if(this._points=null,0===arguments.length);else if(2===arguments.length){const e=arguments[0],t=arguments[1];n.a.constructor_.call(this,t),this.init(e)}},h.serialVersionUID=3110669828065365500},function(e,t){'use strict';function o(){}t.a=o,o.arraycopy=(e,t,o,n,a)=>{let r=0;for(let s=t;s<t+a;s++)o[n+r]=e[s],r++},o.getProperty=(e)=>({"line.separator":'\n'})[e]},function(e,t,o){'use strict';var a=o(99),i=o(9),r=o(10),s=o(319);class d{constructor(){d.constructor_.apply(this,arguments)}static toLineLabel(e){const t=new d(i.a.NONE);for(let o=0;2>o;o++)t.setLocation(o,e.getLocation(o));return t}getGeometryCount(){let e=0;return this.elt[0].isNull()||e++,this.elt[1].isNull()||e++,e}setAllLocations(e,t){this.elt[e].setAllLocations(t)}isNull(e){return this.elt[e].isNull()}setAllLocationsIfNull(){if(1===arguments.length){const e=arguments[0];this.setAllLocationsIfNull(0,e),this.setAllLocationsIfNull(1,e)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.elt[e].setAllLocationsIfNull(t)}}isLine(e){return this.elt[e].isLine()}merge(e){for(let t=0;2>t;t++)null===this.elt[t]&&null!==e.elt[t]?this.elt[t]=new s.a(e.elt[t]):this.elt[t].merge(e.elt[t])}flip(){this.elt[0].flip(),this.elt[1].flip()}getLocation(){if(1===arguments.length){const e=arguments[0];return this.elt[e].get(r.a.ON)}if(2===arguments.length){const e=arguments[0],t=arguments[1];return this.elt[e].get(t)}}toString(){const e=new a.a;return null!==this.elt[0]&&(e.append('A:'),e.append(this.elt[0].toString())),null!==this.elt[1]&&(e.append(' B:'),e.append(this.elt[1].toString())),e.toString()}isArea(){if(0===arguments.length)return this.elt[0].isArea()||this.elt[1].isArea();if(1===arguments.length){const e=arguments[0];return this.elt[e].isArea()}}isAnyNull(e){return this.elt[e].isAnyNull()}setLocation(){if(2===arguments.length){const e=arguments[0],t=arguments[1];this.elt[e].setLocation(r.a.ON,t)}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];this.elt[e].setLocation(t,o)}}isEqualOnSide(e,t){return this.elt[0].isEqualOnSide(e.elt[0],t)&&this.elt[1].isEqualOnSide(e.elt[1],t)}allPositionsEqual(e,t){return this.elt[e].allPositionsEqual(t)}toLine(e){this.elt[e].isArea()&&(this.elt[e]=new s.a(this.elt[e].location[0]))}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){if(this.elt=[,,].fill(null),1===arguments.length){if(n(arguments[0])){const e=arguments[0];this.elt[0]=new s.a(e),this.elt[1]=new s.a(e)}else if(arguments[0]instanceof d){const e=arguments[0];this.elt[0]=new s.a(e.elt[0]),this.elt[1]=new s.a(e.elt[1])}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.elt[0]=new s.a(i.a.NONE),this.elt[1]=new s.a(i.a.NONE),this.elt[e].setLocation(t)}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];this.elt[0]=new s.a(e,t,o),this.elt[1]=new s.a(e,t,o)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3];this.elt[0]=new s.a(i.a.NONE,i.a.NONE,i.a.NONE),this.elt[1]=new s.a(i.a.NONE,i.a.NONE,i.a.NONE),this.elt[e].setLocations(t,o,n)}}},function(e,t,o){'use strict';t.a=function(e,t){if(!e)throw new n.a(t)};var n=o(141)},function(e,t,o){'use strict';var n=o(76);class a{constructor(){a.constructor_.apply(this,arguments)}setOrdinate(){}size(){}getOrdinate(){}getCoordinate(){if(1===arguments.length){arguments[0]}else if(2===arguments.length){const e=arguments[0],t=arguments[1]}}getCoordinateCopy(){}getDimension(){}getX(){}expandEnvelope(){}copy(){}getY(){}toCoordinateArray(){}getClass(){return a}get interfaces_(){return[n.a]}}t.a=a,a.constructor_=function(){},a.X=0,a.Y=1,a.Z=2,a.M=3},function(e,t){'use strict';function o(){}t.a=o;o.prototype.add=function(){},o.prototype.addAll=function(){},o.prototype.isEmpty=function(){},o.prototype.iterator=function(){},o.prototype.size=function(){},o.prototype.toArray=function(){},o.prototype.remove=function(){}},function(e,t,o){'use strict';function n(e){var t;return 2==e?t=d.a.XY:3==e?t=d.a.XYZ:4==e&&(t=d.a.XYZM),t}function a(e){var t;return e==d.a.XY?t=2:e==d.a.XYZ||e==d.a.XYM?t=3:e==d.a.XYZM&&(t=4),t}var i=o(6),r=o(2),s=o(119),d=o(55),l=o(72),p=o(12),_=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g=function(e){function t(){var t=e.call(this)||this;return t.layout=d.a.XY,t.stride=2,t.flatCoordinates=null,t}return _(t,e),t.prototype.computeExtent=function(e){return Object(r.n)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinates=function(){return Object(i.b)()},t.prototype.getFirstCoordinate=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.getFlatCoordinates=function(){return this.flatCoordinates},t.prototype.getLastCoordinate=function(){return this.flatCoordinates.slice(this.flatCoordinates.length-this.stride)},t.prototype.getLayout=function(){return this.layout},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(p.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),0>e||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<=this.simplifiedGeometryMaxMinSquaredTolerance)return this;var t=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(t))return this.simplifiedGeometryCache[t];var o=this.getSimplifiedGeometryInternal(e),n=o.getFlatCoordinates();return n.length<this.flatCoordinates.length?(this.simplifiedGeometryCache[t]=o,o):(this.simplifiedGeometryMaxMinSquaredTolerance=e,this)},t.prototype.getSimplifiedGeometryInternal=function(){return this},t.prototype.getStride=function(){return this.stride},t.prototype.setFlatCoordinates=function(e,t){this.stride=a(e),this.layout=e,this.flatCoordinates=t},t.prototype.setCoordinates=function(){Object(i.b)()},t.prototype.setLayout=function(e,t,o){var r;if(e)r=a(e);else{for(var s=0;s<o;++s){if(0===t.length)return this.layout=d.a.XY,void(this.stride=2);t=t[0]}r=t.length,e=n(r)}this.layout=e,this.stride=r},t.prototype.applyTransform=function(e){this.flatCoordinates&&(e(this.flatCoordinates,this.flatCoordinates,this.stride),this.changed())},t.prototype.rotate=function(e,t){var o=this.getFlatCoordinates();if(o){var n=this.getStride();Object(l.a)(o,0,o.length,n,e,t,o),this.changed()}},t.prototype.scale=function(e,t,o){var n=t;void 0===n&&(n=e);var a=o;a||(a=Object(r.w)(this.getExtent()));var i=this.getFlatCoordinates();if(i){var s=this.getStride();Object(l.b)(i,0,i.length,s,e,n,a,i),this.changed()}},t.prototype.translate=function(e,t){var o=this.getFlatCoordinates();if(o){var n=this.getStride();Object(l.d)(o,0,o.length,n,e,t,o),this.changed()}},t}(s.a);t.a=g},function(e,t){'use strict';function o(e,t,o,n){for(var a=0,i=o.length,r;a<i;++a){r=o[a];for(var s=0;s<n;++s)e[t++]=r[s]}return t}function n(e,t,n,a,r){for(var s=r?r:[],d=0,i=0,l=n.length,p;i<l;++i)p=o(e,t,n[i],a),s[d++]=p,t=p;return s.length=d,s}t.a=function(e,t,o){for(var n=0,a=o.length;n<a;++n)e[t++]=o[n];return t},t.b=o,t.c=n,t.d=function(e,t,o,a,r){for(var s=r?r:[],d=0,i=0,l=o.length,p;i<l;++i)p=n(e,t,o[i],a,s[d]),s[d++]=p,t=p[p.length-1];return s.length=d,s}},function(e,t,o){'use strict';t.b=function(e,t,o){var n=e.getCenter();if(n){var i=[n[0]+t[0],n[1]+t[1]];e.animate_({duration:o===void 0?250:o,easing:a.b,center:e.getConstrainedCenter(i)})}},t.c=function(e,t,o,n){var i=e.getZoom();if(void 0!==i){var r=e.getConstrainedZoom(i+t),s=e.getResolutionForZoom(r);e.getAnimating()&&e.cancelAnimations(),e.animate({resolution:s,anchor:o,duration:void 0===n?250:n,easing:a.a})}};var n=o(26),a=o(124),i=o(125),r=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s=function(e){function t(t){var o=e.call(this)||this;return t.handleEvent&&(o.handleEvent=t.handleEvent),o.map_=null,o.setActive(!0),o}return r(t,e),t.prototype.getActive=function(){return this.get(i.a.ACTIVE)},t.prototype.getMap=function(){return this.map_},t.prototype.handleEvent=function(){return!0},t.prototype.setActive=function(e){this.set(i.a.ACTIVE,e)},t.prototype.setMap=function(e){this.map_=e},t}(n.a);t.a=s},function(e,t,o){'use strict';var n=o(177),a=o(27),i=o(24),r=o(3),s=o(1),d=o(64),l=o(49),p=o(83),_=o(305),g=o(50),c=o(306),u=o(65),y=o(130),m=o(31),h=o(25),f=o(132),x=o(22),I=o(4),E=o(47);class C{constructor(){C.constructor_.apply(this,arguments)}static toMultiPolygonArray(e){const t=Array(e.size()).fill(null);return e.toArray(t)}static toGeometryArray(e){if(null===e)return null;const t=Array(e.size()).fill(null);return e.toArray(t)}static getDefaultCoordinateSequenceFactory(){return c.a.instance()}static toMultiLineStringArray(e){const t=Array(e.size()).fill(null);return e.toArray(t)}static toLineStringArray(e){const t=Array(e.size()).fill(null);return e.toArray(t)}static toMultiPointArray(e){const t=Array(e.size()).fill(null);return e.toArray(t)}static toLinearRingArray(e){const t=Array(e.size()).fill(null);return e.toArray(t)}static toPointArray(e){const t=Array(e.size()).fill(null);return e.toArray(t)}static toPolygonArray(e){const t=Array(e.size()).fill(null);return e.toArray(t)}static createPointFromInternalCoord(e,t){return t.getPrecisionModel().makePrecise(e),t.getFactory().createPoint(e)}toGeometry(e){return e.isNull()?this.createPoint():e.getMinX()===e.getMaxX()&&e.getMinY()===e.getMaxY()?this.createPoint(new s.a(e.getMinX(),e.getMinY())):e.getMinX()===e.getMaxX()||e.getMinY()===e.getMaxY()?this.createLineString([new s.a(e.getMinX(),e.getMinY()),new s.a(e.getMaxX(),e.getMaxY())]):this.createPolygon(this.createLinearRing([new s.a(e.getMinX(),e.getMinY()),new s.a(e.getMinX(),e.getMaxY()),new s.a(e.getMaxX(),e.getMaxY()),new s.a(e.getMaxX(),e.getMinY()),new s.a(e.getMinX(),e.getMinY())]),null)}createLineString(){if(0===arguments.length)return this.createLineString(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){const e=arguments[0];return this.createLineString(null===e?null:this.getCoordinateSequenceFactory().create(e))}if(Object(r.a)(arguments[0],m.a)){const e=arguments[0];return new a.a(e,this)}}}createMultiLineString(){if(0===arguments.length)return new E.a(null,this);if(1===arguments.length){const e=arguments[0];return new E.a(e,this)}}buildGeometry(e){let t=null,o=!1,n=!1;for(let a=e.iterator();a.hasNext();){const e=a.next(),i=e.getClass();null==t&&(t=i),i!==t&&(o=!0),e instanceof h.a&&(n=!0)}if(null===t)return this.createGeometryCollection();if(o||n)return this.createGeometryCollection(C.toGeometryArray(e));const i=e.iterator().next(),r=1<e.size();if(r){if(i instanceof l.a)return this.createMultiPolygon(C.toPolygonArray(e));if(i instanceof a.a)return this.createMultiLineString(C.toLineStringArray(e));if(i instanceof d.a)return this.createMultiPoint(C.toPointArray(e));I.a.shouldNeverReachHere('Unhandled class: '+i.getClass().getName())}return i}createMultiPointFromCoords(e){return this.createMultiPoint(null===e?null:this.getCoordinateSequenceFactory().create(e))}createPoint(){if(0===arguments.length)return this.createPoint(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof s.a){const e=arguments[0];return this.createPoint(null===e?null:this.getCoordinateSequenceFactory().create([e]))}if(Object(r.a)(arguments[0],m.a)){const e=arguments[0];return new d.a(e,this)}}}getCoordinateSequenceFactory(){return this._coordinateSequenceFactory}createPolygon(){if(0===arguments.length)return this.createPolygon(null,null);if(1===arguments.length){if(Object(r.a)(arguments[0],m.a)){const e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof Array){const e=arguments[0];return this.createPolygon(this.createLinearRing(e))}if(arguments[0]instanceof g.a){const e=arguments[0];return this.createPolygon(e,null)}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];return new l.a(e,t,this)}}getSRID(){return this._SRID}createGeometryCollection(){if(0===arguments.length)return new h.a(null,this);if(1===arguments.length){const e=arguments[0];return new h.a(e,this)}}createGeometry(e){const t=new _.a(this);return t.edit(e,new N(this._coordinateSequenceFactory))}getPrecisionModel(){return this._precisionModel}createLinearRing(){if(0===arguments.length)return this.createLinearRing(this.getCoordinateSequenceFactory().create([]));if(1===arguments.length){if(arguments[0]instanceof Array){const e=arguments[0];return this.createLinearRing(null===e?null:this.getCoordinateSequenceFactory().create(e))}if(Object(r.a)(arguments[0],m.a)){const e=arguments[0];return new g.a(e,this)}}}createMultiPolygon(){if(0===arguments.length)return new u.a(null,this);if(1===arguments.length){const e=arguments[0];return new u.a(e,this)}}createMultiPoint(){if(0===arguments.length)return new p.a(null,this);if(1===arguments.length){if(arguments[0]instanceof Array){const e=arguments[0];return new p.a(e,this)}if(Object(r.a)(arguments[0],m.a)){const e=arguments[0];if(null===e)return this.createMultiPoint([].fill(null));const t=Array(e.size()).fill(null);for(let o=0;o<e.size();o++){const n=this.getCoordinateSequenceFactory().create(1,e.getDimension());y.a.copy(e,o,n,0,1),t[o]=this.createPoint(n)}return this.createMultiPoint(t)}}}getClass(){return C}get interfaces_(){return[x.a]}}t.a=C;class N extends _.a.CoordinateSequenceOperation{constructor(){super(),N.constructor_.apply(this,arguments)}edit(){if(2===arguments.length&&arguments[1]instanceof i.a&&Object(r.a)(arguments[0],m.a)){const e=arguments[0],t=arguments[1];return this.coordinateSequenceFactory.create(e)}return super.edit.apply(this,arguments)}getClass(){return N}get interfaces_(){return[]}}N.constructor_=function(){this.coordinateSequenceFactory=null;const e=arguments[0];this.coordinateSequenceFactory=e},C.CloneOp=N,C.constructor_=function(){if(this._precisionModel=null,this._coordinateSequenceFactory=null,this._SRID=null,0===arguments.length)C.constructor_.call(this,new f.a,0);else if(1===arguments.length){if(Object(r.a)(arguments[0],n.a)){const e=arguments[0];C.constructor_.call(this,new f.a,0,e)}else if(arguments[0]instanceof f.a){const e=arguments[0];C.constructor_.call(this,e,0,C.getDefaultCoordinateSequenceFactory())}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];C.constructor_.call(this,e,t,C.getDefaultCoordinateSequenceFactory())}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];this._precisionModel=e,this._coordinateSequenceFactory=o,this._SRID=t}},C.serialVersionUID=-6820524753094096000},function(e,t,o){'use strict';var n=o(1),a=o(61);class i extends a.a{constructor(){if(1===arguments.length){const e=arguments[0];super(e),a.a.call(this,e)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];super(i.msgWithCoord(e,t)),this.name='TopologyException',this.pt=new n.a(t)}else throw Error()}getCoordinate(){return this.pt}get interfaces_(){return[]}getClass(){return i}static msgWithCoord(e,t){return null===t?e:e+' [ '+t+' ]'}}t.a=i},function(e,t,o){'use strict';var n=o(102),a=o(1),i=o(17),r=o(187),s=o(28),d=o(103),_=o(23),p=o(104),g=o(315);class c extends g.a{constructor(){super(),c.constructor_.apply(this,arguments)}static nearestEndpoint(e,t,o,n){let a=e,i=p.a.pointToSegment(e,o,n),r=p.a.pointToSegment(t,o,n);return r<i&&(i=r,a=t),r=p.a.pointToSegment(o,e,t),r<i&&(i=r,a=o),r=p.a.pointToSegment(n,e,t),r<i&&(i=r,a=n),a}isInSegmentEnvelopes(e){const t=new _.a(this._inputLines[0][0],this._inputLines[0][1]),o=new _.a(this._inputLines[1][0],this._inputLines[1][1]);return t.contains(e)&&o.contains(e)}computeIntersection(){if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];if(this._isProper=!1,_.a.intersects(t,o,e)&&0===i.a.index(t,o,e)&&0===i.a.index(o,t,e))return this._isProper=!0,(e.equals(t)||e.equals(o))&&(this._isProper=!1),this._result=g.a.POINT_INTERSECTION,null;this._result=g.a.NO_INTERSECTION}else return super.computeIntersection.apply(this,arguments)}normalizeToMinimum(e,t,o,n,a){a.x=this.smallestInAbsValue(e.x,t.x,o.x,n.x),a.y=this.smallestInAbsValue(e.y,t.y,o.y,n.y),e.x-=a.x,e.y-=a.y,t.x-=a.x,t.y-=a.y,o.x-=a.x,o.y-=a.y,n.x-=a.x,n.y-=a.y}safeHCoordinateIntersection(t,o,a,i){let r=null;try{r=d.a.intersection(t,o,a,i)}catch(s){if(s instanceof n.a)r=c.nearestEndpoint(t,o,a,i);else throw s}finally{}return r}intersection(e,t,o,n){let i=this.intersectionWithNormalization(e,t,o,n);return this.isInSegmentEnvelopes(i)||(i=new a.a(c.nearestEndpoint(e,t,o,n))),null!==this._precisionModel&&this._precisionModel.makePrecise(i),i}smallestInAbsValue(e,t,o,n){let a=e,i=l(a);return l(t)<i&&(a=t,i=l(t)),l(o)<i&&(a=o,i=l(o)),l(n)<i&&(a=n),a}checkDD(e,t,o,n,a){const i=r.a.intersection(e,t,o,n),d=this.isInSegmentEnvelopes(i);s.a.out.println('DD in env = '+d+'  --------------------- '+i),1e-4<a.distance(i)&&s.a.out.println('Distance = '+a.distance(i))}intersectionWithNormalization(e,t,o,n){const i=new a.a(e),r=new a.a(t),s=new a.a(o),d=new a.a(n),l=new a.a;this.normalizeToEnvCentre(i,r,s,d,l);const p=this.safeHCoordinateIntersection(i,r,s,d);return p.x+=l.x,p.y+=l.y,p}computeCollinearIntersection(e,t,o,n){const a=_.a.intersects(e,t,o),i=_.a.intersects(e,t,n),r=_.a.intersects(o,n,e),s=_.a.intersects(o,n,t);return a&&i?(this._intPt[0]=o,this._intPt[1]=n,g.a.COLLINEAR_INTERSECTION):r&&s?(this._intPt[0]=e,this._intPt[1]=t,g.a.COLLINEAR_INTERSECTION):a&&r?(this._intPt[0]=o,this._intPt[1]=e,!o.equals(e)||i||s?g.a.COLLINEAR_INTERSECTION:g.a.POINT_INTERSECTION):a&&s?(this._intPt[0]=o,this._intPt[1]=t,!o.equals(t)||i||r?g.a.COLLINEAR_INTERSECTION:g.a.POINT_INTERSECTION):i&&r?(this._intPt[0]=n,this._intPt[1]=e,!n.equals(e)||a||s?g.a.COLLINEAR_INTERSECTION:g.a.POINT_INTERSECTION):i&&s?(this._intPt[0]=n,this._intPt[1]=t,!n.equals(t)||a||r?g.a.COLLINEAR_INTERSECTION:g.a.POINT_INTERSECTION):g.a.NO_INTERSECTION}normalizeToEnvCentre(e,t,o,n,a){const i=e.x<t.x?e.x:t.x,r=e.y<t.y?e.y:t.y,s=e.x>t.x?e.x:t.x,d=e.y>t.y?e.y:t.y,l=o.x<n.x?o.x:n.x,p=o.y<n.y?o.y:n.y,_=o.x>n.x?o.x:n.x,g=o.y>n.y?o.y:n.y,c=i>l?i:l,u=s<_?s:_,y=r>p?r:p,m=d<g?d:g;a.x=(c+u)/2,a.y=(y+m)/2,e.x-=a.x,e.y-=a.y,t.x-=a.x,t.y-=a.y,o.x-=a.x,o.y-=a.y,n.x-=a.x,n.y-=a.y}computeIntersect(e,t,o,n){if(this._isProper=!1,!_.a.intersects(e,t,o,n))return g.a.NO_INTERSECTION;const r=i.a.index(e,t,o),s=i.a.index(e,t,n);if(0<r&&0<s||0>r&&0>s)return g.a.NO_INTERSECTION;const d=i.a.index(o,n,e),l=i.a.index(o,n,t);if(0<d&&0<l||0>d&&0>l)return g.a.NO_INTERSECTION;return 0===r&&0===s&&0===d&&0===l?this.computeCollinearIntersection(e,t,o,n):(0===r||0===s||0===d||0===l?(this._isProper=!1,e.equals2D(o)||e.equals2D(n)?this._intPt[0]=e:t.equals2D(o)||t.equals2D(n)?this._intPt[0]=t:0===r?this._intPt[0]=new a.a(o):0===s?this._intPt[0]=new a.a(n):0===d?this._intPt[0]=new a.a(e):0===l&&(this._intPt[0]=new a.a(t))):(this._isProper=!0,this._intPt[0]=this.intersection(e,t,o,n)),g.a.POINT_INTERSECTION)}getClass(){return c}get interfaces_(){return[]}}t.a=c,c.constructor_=function(){}},function(e,t){'use strict';t.a=function(e,t){var o=document.createElement('canvas');return e&&(o.width=e),t&&(o.height=t),o.getContext('2d')},t.b=function(e){return e&&e.parentNode?e.parentNode.removeChild(e):null}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=o(143),s=o(41),d=Object.assign||function(e){for(var t=1,o;t<arguments.length;t++)for(var n in o=arguments[t],o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);return e},l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),p=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(n)},_=function(e){function t(e){n(this,t);var o=null;e.element||(o=document.createElement('button'),o.className='ole-control '+e.className);var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{element:e.element||o}));if(i.dialogTarget=e.dialogTarget,i.properties=d({},e),i.className=e.className,i.title=e.title,o){var r=document.createElement('img');r.src=e.image,o.appendChild(r),o.title=i.title,o.addEventListener('click',i.onClick.bind(i))}return i.source=e.source||new s.a({features:e.features}),i.layerFilter=e.layerFilter||function(e){return!i.source||e&&e.getSource()===i.source},i.editor=null,i.standalone=!0,i}return i(t,e),l(t,[{key:'getElement',value:function(){return this.element}},{key:'onClick',value:function(){this.active?this.deactivate():this.activate()}},{key:'setMap',value:function(e){this.map=e,p(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setMap',this).call(this,this.map)}},{key:'setEditor',value:function(e){this.editor=e}},{key:'activate',value:function(e){this.active=!0,this.element.className+=' active',e||this.dispatchEvent({type:'change:active',target:this,detail:{control:this}}),this.openDialog()}},{key:'deactivate',value:function(e){this.active=!1,this.element.classList.remove('active'),e||this.dispatchEvent({type:'change:active',target:this,detail:{control:this}}),this.closeDialog()}},{key:'getActive',value:function(){return this.active}},{key:'openDialog',value:function(){this.closeDialog(),this.getDialogTemplate&&(this.dialogDiv=document.createElement('div'),this.dialogDiv.innerHTML='\n        <div class="ole-dialog">\n          '+this.getDialogTemplate()+'\n        </div>\n      ',(this.dialogTarget||this.map.getTargetElement()).appendChild(this.dialogDiv))}},{key:'closeDialog',value:function(){this.dialogDiv&&((this.dialogTarget||this.map.getTargetElement()).removeChild(this.dialogDiv),this.dialogDiv=null)}},{key:'setProperties',value:function(e,t){this.properties=d({},this.properties,e),t||this.dispatchEvent({type:'propertychange',target:this,detail:{properties:this.properties,control:this}})}},{key:'getProperties',value:function(){return d({},this.properties)}}]),t}(r.a);t.a=_},function(e,t,o){'use strict';var n=o(6),a=o(69),i=o(70),r=o(142),s=o(15),d=o(30),l=o(11),p=o(18),_=o(7),g=o(2),c=o(225),u=o(13),y=o(227),m=o(12),h=o(228),f=o(89),x=o(111),I=o(112),E=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),C=function(e){function t(t,o){var n=e.call(this,t)||this;return n.feature=o,n}return E(t,e),t}(p.a),T=function(e){function t(t){var o=this,n=t||{};o=e.call(this,{attributions:n.attributions,projection:void 0,state:f.a.READY,wrapX:void 0===n.wrapX||n.wrapX})||this,o.loader_=u.c,o.format_=n.format,o.overlaps_=void 0==n.overlaps||n.overlaps,o.url_=n.url,void 0===n.loader?void 0!==o.url_&&(Object(d.a)(o.format_,7),o.loader_=Object(c.a)(o.url_,o.format_)):o.loader_=n.loader,o.strategy_=void 0===n.strategy?y.a:n.strategy;var i=void 0===n.useSpatialIndex||n.useSpatialIndex;o.featuresRtree_=i?new I.a:null,o.loadedExtentsRtree_=new I.a,o.nullGeometryFeatures_={},o.idIndex_={},o.uidIndex_={},o.featureChangeKeys_={},o.featuresCollection_=null;var r,s;return Array.isArray(n.features)?s=n.features:n.features&&(r=n.features,s=r.getArray()),i||void 0!==r||(r=new a.a(s)),void 0!==s&&o.addFeaturesInternal(s),void 0!==r&&o.bindFeaturesCollection_(r),o}return E(t,e),t.prototype.addFeature=function(e){this.addFeatureInternal(e),this.changed()},t.prototype.addFeatureInternal=function(e){var t=Object(n.c)(e);if(!this.addToIndex_(t,e))return void(this.featuresCollection_&&this.featuresCollection_.remove(e));this.setupChangeEvents_(t,e);var o=e.getGeometry();if(o){var a=o.getExtent();this.featuresRtree_&&this.featuresRtree_.insert(a,e)}else this.nullGeometryFeatures_[t]=e;this.dispatchEvent(new C(x.a.ADDFEATURE,e))},t.prototype.setupChangeEvents_=function(e,t){this.featureChangeKeys_[e]=[Object(l.a)(t,_.a.CHANGE,this.handleFeatureChange_,this),Object(l.a)(t,r.a.PROPERTYCHANGE,this.handleFeatureChange_,this)]},t.prototype.addToIndex_=function(e,t){var o=!0,n=t.getId();return void 0!==n&&(n.toString()in this.idIndex_?o=!1:this.idIndex_[n.toString()]=t),o&&(Object(d.a)(!(e in this.uidIndex_),30),this.uidIndex_[e]=t),o},t.prototype.addFeatures=function(e){this.addFeaturesInternal(e),this.changed()},t.prototype.addFeaturesInternal=function(e){for(var t=[],o=[],a=[],r=0,i=e.length;r<i;r++){var s=e[r],d=Object(n.c)(s);this.addToIndex_(d,s)&&o.push(s)}for(var r=0,l=o.length;r<l;r++){var s=o[r],d=Object(n.c)(s);this.setupChangeEvents_(d,s);var p=s.getGeometry();if(p){var _=p.getExtent();t.push(_),a.push(s)}else this.nullGeometryFeatures_[d]=s}this.featuresRtree_&&this.featuresRtree_.load(t,a);for(var r=0,g=o.length;r<g;r++)this.dispatchEvent(new C(x.a.ADDFEATURE,o[r]))},t.prototype.bindFeaturesCollection_=function(e){var t=!1;Object(l.a)(this,x.a.ADDFEATURE,function(o){t||(t=!0,e.push(o.feature),t=!1)}),Object(l.a)(this,x.a.REMOVEFEATURE,function(o){t||(t=!0,e.remove(o.feature),t=!1)}),Object(l.a)(e,i.a.ADD,function(e){t||(t=!0,this.addFeature(e.element),t=!1)},this),Object(l.a)(e,i.a.REMOVE,function(e){t||(t=!0,this.removeFeature(e.element),t=!1)},this),this.featuresCollection_=e},t.prototype.clear=function(e){if(e){for(var t in this.featureChangeKeys_){var o=this.featureChangeKeys_[t];o.forEach(l.e)}this.featuresCollection_||(this.featureChangeKeys_={},this.idIndex_={},this.uidIndex_={})}else if(this.featuresRtree_)for(var n in this.featuresRtree_.forEach(this.removeFeatureInternal.bind(this)),this.nullGeometryFeatures_)this.removeFeatureInternal(this.nullGeometryFeatures_[n]);this.featuresCollection_&&this.featuresCollection_.clear(),this.featuresRtree_&&this.featuresRtree_.clear(),this.nullGeometryFeatures_={};var a=new C(x.a.CLEAR);this.dispatchEvent(a),this.changed()},t.prototype.forEachFeature=function(e){return this.featuresRtree_?this.featuresRtree_.forEach(e):void(this.featuresCollection_&&this.featuresCollection_.forEach(e))},t.prototype.forEachFeatureAtCoordinateDirect=function(e,t){var o=[e[0],e[1],e[0],e[1]];return this.forEachFeatureInExtent(o,function(o){var n=o.getGeometry();return n.intersectsCoordinate(e)?t(o):void 0})},t.prototype.forEachFeatureInExtent=function(e,t){return this.featuresRtree_?this.featuresRtree_.forEachInExtent(e,t):void(this.featuresCollection_&&this.featuresCollection_.forEach(t))},t.prototype.forEachFeatureIntersectingExtent=function(e,t){return this.forEachFeatureInExtent(e,function(o){var n=o.getGeometry();if(n.intersectsExtent(e)){var a=t(o);if(a)return a}})},t.prototype.getFeaturesCollection=function(){return this.featuresCollection_},t.prototype.getFeatures=function(){var e;return this.featuresCollection_?e=this.featuresCollection_.getArray():this.featuresRtree_&&(e=this.featuresRtree_.getAll(),!Object(m.d)(this.nullGeometryFeatures_)&&Object(s.c)(e,Object(m.c)(this.nullGeometryFeatures_))),e},t.prototype.getFeaturesAtCoordinate=function(e){var t=[];return this.forEachFeatureAtCoordinateDirect(e,function(e){t.push(e)}),t},t.prototype.getFeaturesInExtent=function(e){return this.featuresRtree_.getInExtent(e)},t.prototype.getClosestFeatureToCoordinate=function(e,t){var o=e[0],n=e[1],a=null,i=[NaN,NaN],r=Infinity,s=[-Infinity,-Infinity,Infinity,Infinity],d=t?t:u.b;return this.featuresRtree_.forEachInExtent(s,function(e){if(d(e)){var t=e.getGeometry(),l=r;if(r=t.closestPointXY(o,n,i,r),r<l){a=e;var p=N(r);s[0]=o-p,s[1]=n-p,s[2]=o+p,s[3]=n+p}}}),a},t.prototype.getExtent=function(e){return this.featuresRtree_.getExtent(e)},t.prototype.getFeatureById=function(e){var t=this.idIndex_[e.toString()];return void 0===t?null:t},t.prototype.getFeatureByUid=function(e){var t=this.uidIndex_[e];return void 0===t?null:t},t.prototype.getFormat=function(){return this.format_},t.prototype.getOverlaps=function(){return this.overlaps_},t.prototype.getUrl=function(){return this.url_},t.prototype.handleFeatureChange_=function(e){var t=e.target,o=Object(n.c)(t),a=t.getGeometry();if(!a)o in this.nullGeometryFeatures_||(this.featuresRtree_&&this.featuresRtree_.remove(t),this.nullGeometryFeatures_[o]=t);else{var i=a.getExtent();o in this.nullGeometryFeatures_?(delete this.nullGeometryFeatures_[o],this.featuresRtree_&&this.featuresRtree_.insert(i,t)):this.featuresRtree_&&this.featuresRtree_.update(i,t)}var r=t.getId();if(void 0!==r){var s=r.toString();this.idIndex_[s]!==t&&(this.removeFromIdIndex_(t),this.idIndex_[s]=t)}else this.removeFromIdIndex_(t),this.uidIndex_[o]=t;this.changed(),this.dispatchEvent(new C(x.a.CHANGEFEATURE,t))},t.prototype.hasFeature=function(e){var t=e.getId();return void 0===t?Object(n.c)(e)in this.uidIndex_:t in this.idIndex_},t.prototype.isEmpty=function(){return this.featuresRtree_.isEmpty()&&Object(m.d)(this.nullGeometryFeatures_)},t.prototype.loadFeatures=function(e,t,o){var n=this.loadedExtentsRtree_,a=this.strategy_(e,t);this.loading=!1;for(var r=function(e){var i=a[e],r=n.forEachInExtent(i,function(e){return Object(g.f)(e.extent,i)});r||(s.loader_.call(s,i,t,o),n.insert(i,{extent:i.slice()}),s.loading=s.loader_!==u.c)},s=this,d=0,i=a.length;d<i;++d)r(d,i)},t.prototype.refresh=function(){this.clear(!0),this.loadedExtentsRtree_.clear(),e.prototype.refresh.call(this)},t.prototype.removeLoadedExtent=function(e){var t=this.loadedExtentsRtree_,o;t.forEachInExtent(e,function(t){if(Object(g.o)(t.extent,e))return o=t,!0}),o&&t.remove(o)},t.prototype.removeFeature=function(e){var t=Object(n.c)(e);t in this.nullGeometryFeatures_?delete this.nullGeometryFeatures_[t]:this.featuresRtree_&&this.featuresRtree_.remove(e),this.removeFeatureInternal(e),this.changed()},t.prototype.removeFeatureInternal=function(e){var t=Object(n.c)(e);this.featureChangeKeys_[t].forEach(l.e),delete this.featureChangeKeys_[t];var o=e.getId();void 0!==o&&delete this.idIndex_[o.toString()],delete this.uidIndex_[t],this.dispatchEvent(new C(x.a.REMOVEFEATURE,e))},t.prototype.removeFromIdIndex_=function(e){var t=!1;for(var o in this.idIndex_)if(this.idIndex_[o]===e){delete this.idIndex_[o],t=!0;break}return t},t.prototype.setLoader=function(e){this.loader_=e},t.prototype.setUrl=function(e){Object(d.a)(this.format_,7),this.setLoader(Object(c.a)(e,this.format_))},t}(h.a);t.a=T},function(e,t,o){'use strict';function n(){return S||(S=Object(i.a)(1,1)),S}function a(e,t){var o=n();return e!=v&&(o.font=v=e),o.measureText(t).width}o.d(t,'c',function(){return p}),o.d(t,'b',function(){return _}),o.d(t,'d',function(){return g}),o.d(t,'e',function(){return c}),o.d(t,'f',function(){return u}),o.d(t,'g',function(){return y}),o.d(t,'i',function(){return m}),o.d(t,'k',function(){return h}),o.d(t,'l',function(){return f}),o.d(t,'m',function(){return x}),o.d(t,'j',function(){return I}),o.d(t,'h',function(){return C}),o.d(t,'o',function(){return N}),o.d(t,'a',function(){return O}),o.d(t,'q',function(){return R}),t.p=function(e,t,o){if(t in o)return o[t];var n=o[t]=a(e,t);return n},t.r=function(e,t,o){for(var n=t.length,r=0,s=0,i;s<n;++s)i=a(e,t[s]),r=E(r,i),o.push(i);return r},t.s=function(e,t,o,n){0!==t&&(e.translate(o,n),e.rotate(t),e.translate(-o,-n))},t.n=function(e,t,o,n,a,i,r,s,d,l,p){var _;1!=o&&(_=e.globalAlpha,e.globalAlpha=_*o),t&&e.setTransform.apply(e,t),e.drawImage(n,a,i,r,s,d,l,r*p,s*p),1!=o&&(e.globalAlpha=_),t&&e.setTransform.apply(e,P)};var r=o(234),i=o(39),s=o(12),d=o(52),l=o(235),p='10px sans-serif',_='#000',g='round',c=[],u=0,y='round',m=10,h='#000',f='center',x='middle',I=[0,0,0,0],C=1,N=new l.a,T={},S=null,L={},O=function(){function e(e,t,o){for(var a=n(),r=!0,s=0,i;s<p;++s)if(i=l[s],a.font=e+' '+t+' '+d+i,c=a.measureText(_).width,o!=i){a.font=e+' '+t+' '+d+o+','+i;var g=a.measureText(_).width;r=r&&g!=c}return!!r}function t(){var t=!0;for(var n in a)a[n]<o&&(e.apply(this,n.split('\n'))?(a[n]=o,Object(s.b)(L),S=null,v=void 0,N.getCount()&&N.clear()):(++a[n],t=!1));t&&(clearInterval(g),g=void 0)}var o=100,a=T,d='32px ',l=['monospace','serif'],p=l.length,_='wmytzilWMYTZIL@#/&?$%10\uF013',g,c;return function(n){var s=Object(r.a)(n);if(s)for(var d=s.families,l=0,i=d.length;l<i;++l){var p=d[l],_=s.style+'\n'+s.weight+'\n'+p;_ in a||(a[_]=o,!e(s.style,s.weight,p)&&(a[_]=0,void 0==g&&(g=setInterval(t,32))))}}}(),R=function(){var e=L,t;return function(o){var n=e[o];return void 0==n&&(!t&&(t=document.createElement('div'),t.innerHTML='M',t.style.margin=t.style.padding='0 !important',t.style.position='absolute !important',t.style.left='-99999px !important'),t.style.font=o,document.body.appendChild(t),n=e[o]=t.offsetHeight,document.body.removeChild(t)),n}}(),P=Object(d.c)(),v},function(e,t){'use strict';function o(e,t,o,n,a){for(var r=void 0===a?[]:a,s=0,i=t;i<o;i+=n)r[s++]=e.slice(i,i+n);return r.length=s,r}function n(e,t,n,a,r){for(var s=void 0===r?[]:r,d=0,i=0,l=n.length,p;i<l;++i)p=n[i],s[d++]=o(e,t,p,a,s[d]),t=p;return s.length=d,s}t.a=o,t.b=n,t.c=function(e,t,o,a,r){for(var s=void 0===r?[]:r,d=0,i=0,l=o.length,p;i<l;++i)p=o[i],s[d++]=n(e,t,p,a,s[d]),t=p[p.length-1];return s.length=d,s}},function(e,t,o){'use strict';var n=o(2),a=o(8),i=o(33),r=o(34),s=o(14),d=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=function(e){function t(t,o){var n=e.call(this)||this;return n.setCoordinates(t,o),n}return d(t,e),t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e},t.prototype.closestPointXY=function(e,t,o,n){var a=this.flatCoordinates,r=Object(s.e)(e,t,a[0],a[1]);if(r<n){for(var d=this.stride,l=0;l<d;++l)o[l]=a[l];return o.length=d,r}return n},t.prototype.getCoordinates=function(){return this.flatCoordinates?this.flatCoordinates.slice():[]},t.prototype.computeExtent=function(e){return Object(n.l)(this.flatCoordinates,e)},t.prototype.getType=function(){return a.a.POINT},t.prototype.intersectsExtent=function(e){return Object(n.g)(e,this.flatCoordinates[0],this.flatCoordinates[1])},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,0),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(r.a)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(i.a);t.a=l},function(e,t,o){'use strict';function n(e,t,o,n){for(var a=e.getFlatCoordinates(),d=e.getStride(),l=a.length/d-1,p=n?n:0,_=0;_<=l;++_){var i=_*d,g=p+2*Object(S.d)(_,l)*s/l;a[i]=t[0]+o*c(g),a[i+1]=t[1]+o*r(g)}e.changed()}t.c=function(e){var t=e[0],o=e[1],n=e[2],a=e[3],i=[t,o,t,a,n,a,n,o,t,o];return new O(i,d.a.XY,[i.length])},t.b=function(e,t,o){for(var a=t?t:32,r=e.getStride(),s=e.getLayout(),d=e.getCenter(),l=r*(a+1),p=Array(l),_=0;_<l;_+=r){p[_]=0,p[_+1]=0;for(var i=2;i<r;i++)p[_+i]=d[i]}var g=[p.length],c=new O(p,s,g);return n(c,d,e.getRadius(),o),c},t.d=n;var a=o(15),i=o(2),d=o(55),l=o(8),p=o(74),_=o(44),g=o(33),u=o(145),y=o(122),m=o(73),h=o(91),f=o(34),x=o(43),I=o(159),E=o(90),C=o(160),T=o(56),S=o(14),L=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),O=function(e){function t(t,o,n){var a=e.call(this)||this;return a.ends_=[],a.flatInteriorPointRevision_=-1,a.flatInteriorPoint_=null,a.maxDelta_=-1,a.maxDeltaRevision_=-1,a.orientedRevision_=-1,a.orientedFlatCoordinates_=null,void 0!==o&&n?(a.setFlatCoordinates(o,t),a.ends_=n):a.setCoordinates(t,o),a}return L(t,e),t.prototype.appendLinearRing=function(e){this.flatCoordinates?Object(a.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},t.prototype.closestPointXY=function(e,t,o,n){return n<Object(i.e)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=N(Object(m.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(m.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!0,e,t,o,n))},t.prototype.containsXY=function(e,t){return Object(h.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,t)},t.prototype.getArea=function(){return Object(y.b)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0===e?t=this.flatCoordinates:(t=this.getOrientedFlatCoordinates().slice(),Object(C.c)(t,0,this.ends_,this.stride,e)),Object(x.b)(t,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getFlatInteriorPoint=function(){if(this.flatInteriorPointRevision_!=this.getRevision()){var e=Object(i.w)(this.getExtent());this.flatInteriorPoint_=Object(I.a)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e,0),this.flatInteriorPointRevision_=this.getRevision()}return this.flatInteriorPoint_},t.prototype.getInteriorPoint=function(){return new _.a(this.getFlatInteriorPoint(),d.a.XYM)},t.prototype.getLinearRingCount=function(){return this.ends_.length},t.prototype.getLinearRing=function(e){return 0>e||this.ends_.length<=e?null:new p.a(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLinearRings=function(){for(var e=this.layout,t=this.flatCoordinates,o=this.ends_,n=[],a=0,r=0,i=o.length;r<i;++r){var s=o[r],d=new p.a(t.slice(a,s),e);n.push(d),a=s}return n},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Object(C.a)(e,0,this.ends_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(C.c)(this.orientedFlatCoordinates_,0,this.ends_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var o=[],n=[];return o.length=Object(T.c)(this.flatCoordinates,0,this.ends_,this.stride,N(e),o,0,n),new t(o,d.a.XY,n)},t.prototype.getType=function(){return l.a.POLYGON},t.prototype.intersectsExtent=function(e){return Object(E.c)(this.getOrientedFlatCoordinates(),0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=Object(f.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===o.length?0:o[o.length-1],this.changed()},t}(g.a);t.a=O},function(e,t,o){'use strict';var n=o(96),a=o(1),i=o(127),r=o(28),s=o(94),d=o(23);class l{constructor(){l.constructor_.apply(this,arguments)}static isRing(e){return!(4>e.length)&&!!e[0].equals2D(e[e.length-1])}static ptNotInList(e,t){for(let o=0;o<e.length;o++){const n=e[o];if(0>l.indexOf(n,t))return n}return null}static scroll(e,t){const o=l.indexOf(t,e);if(0>o)return null;const n=Array(e.length).fill(null);r.a.arraycopy(e,o,n,0,e.length-o),r.a.arraycopy(e,0,n,e.length-o,o),r.a.arraycopy(n,0,e,0,e.length)}static equals(){if(2===arguments.length){const e=arguments[0],t=arguments[1];if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(let o=0;o<e.length;o++)if(!e[o].equals(t[o]))return!1;return!0}if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];if(e===t)return!0;if(null===e||null===t)return!1;if(e.length!==t.length)return!1;for(let n=0;n<e.length;n++)if(0!==o.compare(e[n],t[n]))return!1;return!0}}static intersection(e,t){const o=new n.a;for(let n=0;n<e.length;n++)t.intersects(e[n])&&o.add(e[n],!0);return o.toCoordinateArray()}static hasRepeatedPoints(e){for(let t=1;t<e.length;t++)if(e[t-1].equals(e[t]))return!0;return!1}static removeRepeatedPoints(e){if(!l.hasRepeatedPoints(e))return e;const t=new n.a(e,!1);return t.toCoordinateArray()}static reverse(e){const t=e.length-1,o=u(t/2);for(let n=0;n<=o;n++){const o=e[n];e[n]=e[t-n],e[t-n]=o}}static removeNull(e){let t=0;for(let o=0;o<e.length;o++)null!==e[o]&&t++;const o=Array(t).fill(null);if(0==t)return o;let n=0;for(let t=0;t<e.length;t++)null!==e[t]&&(o[n++]=e[t]);return o}static copyDeep(){if(1===arguments.length){const e=arguments[0],t=Array(e.length).fill(null);for(let o=0;o<e.length;o++)t[o]=new a.a(e[o]);return t}if(5===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3],r=arguments[4];for(let s=0;s<r;s++)o[n+s]=new a.a(e[t+s])}}static isEqualReversed(e,t){for(let o=0;o<e.length;o++){const n=e[o],a=t[e.length-o-1];if(0!==n.compareTo(a))return!1}return!0}static envelope(e){const t=new d.a;for(let o=0;o<e.length;o++)t.expandToInclude(e[o]);return t}static toCoordinateArray(e){return e.toArray(l.coordArrayType)}static atLeastNCoordinatesOrNothing(e,t){return t.length>=e?t:[]}static indexOf(e,t){for(let o=0;o<t.length;o++)if(e.equals(t[o]))return o;return-1}static increasingDirection(e){for(let t=0;t<u(e.length/2);t++){const o=e.length-1-t,n=e[t].compareTo(e[o]);if(0!==n)return n}return 1}static compare(e,t){let o=0;for(;o<e.length&&o<t.length;){const n=e[o].compareTo(t[o]);if(0!==n)return n;o++}return o<t.length?-1:o<e.length?1:0}static minCoordinate(e){let t=null;for(let o=0;o<e.length;o++)(null==t||0<t.compareTo(e[o]))&&(t=e[o]);return t}static extract(e,t,o){t=i.a.clamp(t,0,e.length),o=i.a.clamp(o,-1,e.length);let n=o-t+1;0>o&&(n=0),t>=e.length&&(n=0),o<t&&(n=0);const a=Array(n).fill(null);if(0==n)return a;let r=0;for(let n=t;n<=o;n++)a[r++]=e[n];return a}getClass(){return l}get interfaces_(){return[]}}t.a=l;class p{constructor(){p.constructor_.apply(this,arguments)}compare(e,t){return l.compare(e,t)}getClass(){return p}get interfaces_(){return[s.a]}}p.constructor_=function(){};class _{constructor(){_.constructor_.apply(this,arguments)}compare(e,t){const o=e,n=t;if(o.length<n.length)return-1;if(o.length>n.length)return 1;if(0===o.length)return 0;const a=l.compare(o,n),i=l.isEqualReversed(o,n);return i?0:a}OLDcompare(e,t){const o=e,n=t;if(o.length<n.length)return-1;if(o.length>n.length)return 1;if(0===o.length)return 0;const a=l.increasingDirection(o),i=l.increasingDirection(n);let r=0<a?0:o.length-1,s=0<i?0:o.length-1;for(let d=0;d<o.length;d++){const e=o[r].compareTo(n[s]);if(0!==e)return e;r+=a,s+=i}return 0}getClass(){return _}get interfaces_(){return[s.a]}}_.constructor_=function(){},l.ForwardComparator=p,l.BidirectionalComparator=_,l.constructor_=function(){},l.coordArrayType=[].fill(null)},function(e,t,o){'use strict';var n=o(24),a=o(178),i=o(183),r=o(25),s=o(48);class d extends r.a{constructor(){super(),d.constructor_.apply(this,arguments)}equalsExact(){if(2===arguments.length&&'number'==typeof arguments[1]&&arguments[0]instanceof n.a){const e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&super.equalsExact.call(this,e,t)}return super.equalsExact.apply(this,arguments)}getBoundaryDimension(){return this.isClosed()?s.a.FALSE:0}isClosed(){if(this.isEmpty())return!1;for(let e=0;e<this._geometries.length;e++)if(!this._geometries[e].isClosed())return!1;return!0}getTypeCode(){return n.a.TYPECODE_MULTILINESTRING}getDimension(){return 1}reverse(){const e=this._geometries.length,t=Array(e).fill(null);for(let o=0;o<this._geometries.length;o++)t[e-1-o]=this._geometries[o].reverse();return this.getFactory().createMultiLineString(t)}getBoundary(){return new a.a(this).getBoundary()}getGeometryType(){return n.a.TYPENAME_MULTILINESTRING}copy(){const e=Array(this._geometries.length).fill(null);for(let t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new d(e,this._factory)}getClass(){return d}get interfaces_(){return[i.a]}}t.a=d,d.constructor_=function(){const e=arguments[0],t=arguments[1];r.a.constructor_.call(this,e,t)},d.serialVersionUID=8166665132445434000},function(e,t,o){'use strict';var n=o(5),a=o(185);class i{constructor(){i.constructor_.apply(this,arguments)}static toDimensionSymbol(e){switch(e){case i.FALSE:return i.SYM_FALSE;case i.TRUE:return i.SYM_TRUE;case i.DONTCARE:return i.SYM_DONTCARE;case i.P:return i.SYM_P;case i.L:return i.SYM_L;case i.A:return i.SYM_A;}throw new n.a('Unknown dimension value: '+e)}static toDimensionValue(e){switch(a.a.toUpperCase(e)){case i.SYM_FALSE:return i.FALSE;case i.SYM_TRUE:return i.TRUE;case i.SYM_DONTCARE:return i.DONTCARE;case i.SYM_P:return i.P;case i.SYM_L:return i.L;case i.SYM_A:return i.A;}throw new n.a('Unknown dimension symbol: '+e)}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){},i.P=0,i.L=1,i.A=2,i.FALSE=-1,i.TRUE=-2,i.DONTCARE=-3,i.SYM_FALSE='F',i.SYM_TRUE='T',i.SYM_DONTCARE='*',i.SYM_P='0',i.SYM_L='1',i.SYM_A='2'},function(e,t,o){'use strict';var n=o(303),a=o(24),i=o(129),r=o(77),s=o(3),d=o(5),l=o(17),p=o(28),_=o(62),g=o(46),c=o(82),u=o(98),y=o(79);class m extends a.a{constructor(){super(),m.constructor_.apply(this,arguments)}computeEnvelopeInternal(){return this._shell.getEnvelopeInternal()}getCoordinates(){if(this.isEmpty())return[];const e=Array(this.getNumPoints()).fill(null);let t=-1;const o=this._shell.getCoordinates();for(let n=0;n<o.length;n++)t++,e[t]=o[n];for(let o=0;o<this._holes.length;o++){const n=this._holes[o].getCoordinates();for(let o=0;o<n.length;o++)t++,e[t]=n[o]}return e}getArea(){let e=0;e+=n.a.ofRing(this._shell.getCoordinateSequence());for(let t=0;t<this._holes.length;t++)e-=n.a.ofRing(this._holes[t].getCoordinateSequence());return e}isRectangle(){if(0!==this.getNumInteriorRing())return!1;if(null===this._shell)return!1;if(5!==this._shell.getNumPoints())return!1;const e=this._shell.getCoordinateSequence(),t=this.getEnvelopeInternal();for(let o=0;5>o;o++){const n=e.getX(o);if(n!==t.getMinX()&&n!==t.getMaxX())return!1;const a=e.getY(o);if(a!==t.getMinY()&&a!==t.getMaxY())return!1}let o=e.getX(0),n=e.getY(0);for(let t=1;4>=t;t++){const a=e.getX(t),i=e.getY(t),r=a!==o,s=i!==n;if(r==s)return!1;o=a,n=i}return!0}equalsExact(){if(2===arguments.length&&'number'==typeof arguments[1]&&arguments[0]instanceof a.a){const e=arguments[0],t=arguments[1];if(!this.isEquivalentClass(e))return!1;const o=e,n=this._shell,a=o._shell;if(!n.equalsExact(a,t))return!1;if(this._holes.length!==o._holes.length)return!1;for(let e=0;e<this._holes.length;e++)if(!this._holes[e].equalsExact(o._holes[e],t))return!1;return!0}return super.equalsExact.apply(this,arguments)}normalize(){if(0===arguments.length){this.normalize(this._shell,!0);for(let e=0;e<this._holes.length;e++)this.normalize(this._holes[e],!1);i.a.sort(this._holes)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];if(e.isEmpty())return null;const o=Array(e.getCoordinates().length-1).fill(null);p.a.arraycopy(e.getCoordinates(),0,o,0,o.length);const n=g.a.minCoordinate(e.getCoordinates());g.a.scroll(o,n),p.a.arraycopy(o,0,e.getCoordinates(),0,o.length),e.getCoordinates()[o.length]=o[0],l.a.isCCW(e.getCoordinates())===t&&g.a.reverse(e.getCoordinates())}}getCoordinate(){return this._shell.getCoordinate()}getNumInteriorRing(){return this._holes.length}getBoundaryDimension(){return 1}getTypeCode(){return a.a.TYPECODE_POLYGON}getDimension(){return 2}getLength(){let e=0;e+=this._shell.getLength();for(let t=0;t<this._holes.length;t++)e+=this._holes[t].getLength();return e}getNumPoints(){let e=this._shell.getNumPoints();for(let t=0;t<this._holes.length;t++)e+=this._holes[t].getNumPoints();return e}reverse(){const e=this.copy();e._shell=this._shell.copy().reverse(),e._holes=Array(this._holes.length).fill(null);for(let t=0;t<this._holes.length;t++)e._holes[t]=this._holes[t].copy().reverse();return e}convexHull(){return this.getExteriorRing().convexHull()}compareToSameClass(){if(1===arguments.length){const e=arguments[0],t=this._shell,o=e._shell;return t.compareToSameClass(o)}if(2===arguments.length){const e=arguments[0],t=arguments[1],o=e,n=this._shell,a=o._shell,r=n.compareToSameClass(a,t);if(0!==r)return r;const s=this.getNumInteriorRing(),d=o.getNumInteriorRing();let l=0;for(;l<s&&l<d;){const e=this.getInteriorRingN(l),n=o.getInteriorRingN(l),a=e.compareToSameClass(n,t);if(0!==a)return a;l++}return l<s?1:l<d?-1:0}}apply(){if(Object(s.a)(arguments[0],r.a)){const e=arguments[0];this._shell.apply(e);for(let t=0;t<this._holes.length;t++)this._holes[t].apply(e)}else if(Object(s.a)(arguments[0],y.a)){const e=arguments[0];if(this._shell.apply(e),!e.isDone())for(let t=0;t<this._holes.length&&(this._holes[t].apply(e),!e.isDone());t++);e.isGeometryChanged()&&this.geometryChanged()}else if(Object(s.a)(arguments[0],u.a)){const e=arguments[0];e.filter(this)}else if(Object(s.a)(arguments[0],_.a)){const e=arguments[0];e.filter(this),this._shell.apply(e);for(let t=0;t<this._holes.length;t++)this._holes[t].apply(e)}}getBoundary(){if(this.isEmpty())return this.getFactory().createMultiLineString();const e=Array(this._holes.length+1).fill(null);e[0]=this._shell;for(let t=0;t<this._holes.length;t++)e[t+1]=this._holes[t];return 1>=e.length?this.getFactory().createLinearRing(e[0].getCoordinateSequence()):this.getFactory().createMultiLineString(e)}getGeometryType(){return a.a.TYPENAME_POLYGON}copy(){const e=this._shell.copy(),t=Array(this._holes.length).fill(null);for(let e=0;e<this._holes.length;e++)t[e]=this._holes[e].copy();return new m(e,t,this._factory)}getExteriorRing(){return this._shell}isEmpty(){return this._shell.isEmpty()}getInteriorRingN(e){return this._holes[e]}getClass(){return m}get interfaces_(){return[c.a]}}t.a=m,m.constructor_=function(){this._shell=null,this._holes=null;let e=arguments[0],t=arguments[1];const o=arguments[2];if(a.a.constructor_.call(this,o),null===e&&(e=this.getFactory().createLinearRing()),null===t&&(t=[]),a.a.hasNullElements(t))throw new d.a('holes must not contain null elements');if(e.isEmpty()&&a.a.hasNonEmptyElements(t))throw new d.a('shell is empty but holes are not');this._shell=e,this._holes=t},m.serialVersionUID=-3494792200821764600},function(e,t,o){'use strict';var n=o(27),a=o(24),i=o(3),r=o(36),s=o(5),d=o(130),l=o(31),p=o(48);class _ extends n.a{constructor(){super(),_.constructor_.apply(this,arguments)}getBoundaryDimension(){return p.a.FALSE}isClosed(){return!!this.isEmpty()||super.isClosed.call(this)}getTypeCode(){return a.a.TYPECODE_LINEARRING}reverse(){const e=this._points.copy();d.a.reverse(e);const t=this.getFactory().createLinearRing(e);return t}validateConstruction(){if(!this.isEmpty()&&!super.isClosed.call(this))throw new s.a('Points of LinearRing do not form a closed linestring');if(1<=this.getCoordinateSequence().size()&&this.getCoordinateSequence().size()<_.MINIMUM_VALID_SIZE)throw new s.a('Invalid number of points in LinearRing (found '+this.getCoordinateSequence().size()+' - must be 0 or >= 4)')}getGeometryType(){return a.a.TYPENAME_LINEARRING}copy(){return new _(this._points.copy(),this._factory)}getClass(){return _}get interfaces_(){return[]}}t.a=_,_.constructor_=function(){if(arguments[0]instanceof Array&&arguments[1]instanceof r.a){const e=arguments[0],t=arguments[1];_.constructor_.call(this,t.getCoordinateSequenceFactory().create(e),t)}else if(Object(i.a)(arguments[0],l.a)&&arguments[1]instanceof r.a){const e=arguments[0],t=arguments[1];n.a.constructor_.call(this,e,t),this.validateConstruction()}},_.MINIMUM_VALID_SIZE=4,_.serialVersionUID=-4261142084085851600},function(e,t){'use strict';t.a={IDLE:0,LOADING:1,LOADED:2,ERROR:3,EMPTY:4}},function(e,t,o){'use strict';function n(t,o,n,a,i,r,e){return t[0]=o,t[1]=n,t[2]=a,t[3]=i,t[4]=r,t[5]=e,t}function i(e){return e[0]*e[3]-e[1]*e[2]}t.c=function(){return[1,0,0,1,0,0]},t.f=function(e,t){return e[0]=t[0],e[1]=t[1],e[2]=t[2],e[3]=t[3],e[4]=t[4],e[5]=t[5],e},t.a=function(e,t){var o=t[0],n=t[1];return t[0]=e[0]*o+e[2]*n+e[4],t[1]=e[1]*o+e[3]*n+e[5],t},t.e=function(e,t,o){return n(e,t,0,0,o,0,0)},t.b=function(e,t,o,n,a,i,s,d){var l=r(i),p=c(i);return e[0]=n*p,e[1]=a*l,e[2]=-n*l,e[3]=a*p,e[4]=s*n*p-d*n*l+t,e[5]=s*a*l+d*a*p+o,e},t.d=function(t,o){var n=i(o);Object(s.a)(0!==n,32);var r=o[0],a=o[1],l=o[2],p=o[3],d=o[4],e=o[5];return t[0]=p/n,t[1]=-a/n,t[2]=-l/n,t[3]=r/n,t[4]=(l*e-p*d)/n,t[5]=-(r*e-a*d)/n,t},t.g=function(e){return'matrix('+e.join(', ')+')'};var s=o(30),a=[,,,,,,]},function(e,t,o){'use strict';function n(e){return e.getGeometry()}t.d=function(e){var t;if('function'==typeof e)t=e;else{var o;if(Array.isArray(e))o=e;else{Object(a.a)('function'==typeof e.getZIndex,41);o=[e]}t=function(){return o}}return t},t.a=function(){if(!p){var e=new s.a({color:'rgba(255,255,255,0.4)'}),t=new d.a({color:'#3399CC',width:1.25});p=[new l({image:new r.a({fill:e,stroke:t,radius:5}),fill:e,stroke:t})]}return p},t.b=function(){var e={},t=[255,255,255,1],o=[0,153,255,1],n=3;return e[i.a.POLYGON]=[new l({fill:new s.a({color:[255,255,255,0.5]})})],e[i.a.MULTI_POLYGON]=e[i.a.POLYGON],e[i.a.LINE_STRING]=[new l({stroke:new d.a({color:t,width:n+2})}),new l({stroke:new d.a({color:o,width:n})})],e[i.a.MULTI_LINE_STRING]=e[i.a.LINE_STRING],e[i.a.CIRCLE]=e[i.a.POLYGON].concat(e[i.a.LINE_STRING]),e[i.a.POINT]=[new l({image:new r.a({radius:2*n,fill:new s.a({color:o}),stroke:new d.a({color:t,width:n/2})}),zIndex:Infinity})],e[i.a.MULTI_POINT]=e[i.a.POINT],e[i.a.GEOMETRY_COLLECTION]=e[i.a.POLYGON].concat(e[i.a.LINE_STRING],e[i.a.POINT]),e};var a=o(30),i=o(8),r=o(147),s=o(117),d=o(150),l=function(){function e(e){var t=e||{};this.geometry_=null,this.geometryFunction_=n,void 0!==t.geometry&&this.setGeometry(t.geometry),this.fill_=void 0===t.fill?null:t.fill,this.image_=void 0===t.image?null:t.image,this.renderer_=void 0===t.renderer?null:t.renderer,this.stroke_=void 0===t.stroke?null:t.stroke,this.text_=void 0===t.text?null:t.text,this.zIndex_=t.zIndex}return e.prototype.clone=function(){var t=this.getGeometry();return t&&'object'==typeof t&&(t=t.clone()),new e({geometry:t,fill:this.getFill()?this.getFill().clone():void 0,image:this.getImage()?this.getImage().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,text:this.getText()?this.getText().clone():void 0,zIndex:this.getZIndex()})},e.prototype.getRenderer=function(){return this.renderer_},e.prototype.setRenderer=function(e){this.renderer_=e},e.prototype.getGeometry=function(){return this.geometry_},e.prototype.getGeometryFunction=function(){return this.geometryFunction_},e.prototype.getFill=function(){return this.fill_},e.prototype.setFill=function(e){this.fill_=e},e.prototype.getImage=function(){return this.image_},e.prototype.setImage=function(e){this.image_=e},e.prototype.getStroke=function(){return this.stroke_},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.getText=function(){return this.text_},e.prototype.setText=function(e){this.text_=e},e.prototype.getZIndex=function(){return this.zIndex_},e.prototype.setGeometry=function(e){'function'==typeof e?this.geometryFunction_=e:'string'==typeof e?this.geometryFunction_=function(t){return t.get(e)}:e?void 0!==e&&(this.geometryFunction_=function(){return e}):this.geometryFunction_=n,this.geometry_=e},e.prototype.setZIndex=function(e){this.zIndex_=e},e}(),p=null;t.c=l},function(e,t,o){'use strict';var n=o(152),a=o(119),i=o(153),r=o(120);o.d(t,'a',function(){return r.a});var s=o(157);o.d(t,'b',function(){return s.a});var d=o(121);o.d(t,'c',function(){return d.a});var l=o(158);o.d(t,'d',function(){return l.a});var p=o(44);o.d(t,'e',function(){return p.a});var _=o(45);o.d(t,'f',function(){return _.a})},function(e,t){'use strict';t.a={XY:'XY',XYZ:'XYZ',XYM:'XYM',XYZM:'XYZM'}},function(e,t,n){'use strict';function a(e,t,o,a,r,s,l){var p=(o-t)/a;if(3>p){for(;t<o;t+=a)s[l++]=e[t],s[l++]=e[t+1];return l}var n=Array(p);n[0]=1,n[p-1]=1;for(var _=[t,o-a],g=0;0<_.length;){for(var c=_.pop(),u=_.pop(),m=0,h=e[u],f=e[u+1],I=e[c],E=e[c+1],C=u+a;C<c;C+=a){var i=e[C],x=e[C+1],y=Object(d.f)(i,x,h,f,I,E);y>m&&(g=C,m=y)}m>r&&(n[(g-t)/a]=1,u+a<g&&_.push(u,g),g+a<c&&_.push(g,c))}for(var C=0;C<p;++C)n[C]&&(s[l++]=e[t+C*a],s[l++]=e[t+C*a+1]);return l}function i(e,t){return t*o(e/t)}function r(e,t,o,n,a,r,s){if(t==o)return s;var d=i(e[t],a),l=i(e[t+1],a);t+=n,r[s++]=d,r[s++]=l;var p,_;do if(p=i(e[t],a),_=i(e[t+1],a),t+=n,t==o)return r[s++]=p,r[s++]=_,s;while(p==d&&_==l);for(;t<o;){var g=i(e[t],a),c=i(e[t+1],a);if(t+=n,g!=p||c!=_){var u=p-d,y=_-l,m=g-d,h=c-l;if(u*h==y*m&&(0>u&&m<u||u==m||0<u&&m>u)&&(0>y&&h<y||y==h||0<y&&h>y)){p=g,_=c;continue}r[s++]=p,r[s++]=_,d=p,l=_,p=g,_=c}}return r[s++]=p,r[s++]=_,s}function s(e,t,o,n,a,s,d,l){for(var p=0,i=o.length,_;p<i;++p)_=o[p],d=r(e,t,_,n,a,s,d),l.push(d),t=_;return d}t.a=a,t.b=function(e,t,o,n,r,s,d,l){for(var p=0,i=o.length,_;p<i;++p)_=o[p],d=a(e,t,_,n,r,s,d),l.push(d),t=_;return d},t.e=i,t.c=s,t.d=function(e,t,o,n,a,r,d,l){for(var p=0,i=o.length;p<i;++p){var _=o[p],g=[];d=s(e,t,_,n,a,r,d,g),l.push(g),t=_[_.length-1]}return d};var d=n(14)},function(e,t,o){'use strict';var n=o(246),a=o(249),i=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=function(e){function t(t){return e.call(this,t)||this}return i(t,e),t.prototype.createRenderer=function(){return new a.a(this)},t}(n.a);t.a=r},function(e,t,o){'use strict';o.d(t,'d',function(){return a}),o.d(t,'e',function(){return i}),o.d(t,'a',function(){return r}),o.d(t,'b',function(){return s});var n={BEGIN_GEOMETRY:0,BEGIN_PATH:1,CIRCLE:2,CLOSE_PATH:3,CUSTOM:4,DRAW_CHARS:5,DRAW_IMAGE:6,END_GEOMETRY:7,FILL:8,MOVE_TO_LINE_TO:9,SET_FILL_STYLE:10,SET_STROKE_STYLE:11,STROKE:12},a=[n.FILL],i=[n.STROKE],r=[n.BEGIN_PATH],s=[n.CLOSE_PATH];t.c=n},function(e,t,o){'use strict';var n=o(7);t.a={SINGLECLICK:'singleclick',CLICK:n.a.CLICK,DBLCLICK:n.a.DBLCLICK,POINTERDRAG:'pointerdrag',POINTERMOVE:'pointermove',POINTERDOWN:'pointerdown',POINTERUP:'pointerup',POINTEROVER:'pointerover',POINTEROUT:'pointerout',POINTERENTER:'pointerenter',POINTERLEAVE:'pointerleave',POINTERCANCEL:'pointercancel'}},function(e,t,o){'use strict';function n(e,t){var o=e[0],n=e[1],a=t[0],i=t[1],r=a[0],s=a[1],d=i[0],l=i[1],p=d-r,_=l-s,g=0==p&&0==_?0:(p*(o-r)+_*(n-s))/(p*p+_*_||0),c,u;return 0>=g?(c=r,u=s):1<=g?(c=d,u=l):(c=r+g*p,u=s+g*_),[c,u]}function a(e,t){for(var o=!0,n=e.length-1;0<=n;--n)if(e[n]!=t[n]){o=!1;break}return o}function i(e,t){return e[0]*=t,e[1]*=t,e}function s(e,t){var o=e[0]-t[0],n=e[1]-t[1];return o*o+n*n}t.a=function(e,t){var o=t.getRadius(),n=t.getCenter(),a=n[0],i=n[1],r=e[0],s=e[1],l=r-a,p=s-i;0==l&&0==p&&(l=1);var _=N(l*l+p*p),d=a+o*l/_;return[d,i+o*p/_]},t.b=n,t.d=a,t.e=function(e,t){var o=c(t),n=r(t),a=e[0]*o-e[1]*n,i=e[1]*o+e[0]*n;return e[0]=a,e[1]=i,e},t.f=i,t.g=s,t.c=function(e,t){return N(s(e,t))},t.h=function(e,t){return s(e,n(e,t))};var d=o(14),l=o(265)},function(e,t){'use strict';function o(e){this.name='RuntimeException',this.message=e,this.stack=new Error().stack,Error.call(this,e)}t.a=o,o.prototype=Object.create(Error.prototype),o.prototype.constructor=Error},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}filter(){}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t,o){'use strict';function n(e){return null==e?g:e.color}function a(e){return null==e?null:e.parent}function i(e,t){null!==e&&(e.color=t)}function r(e){return null==e?null:e.left}function s(e){return null==e?null:e.right}function d(){this.root_=null,this.size_=0}t.a=d;var l=o(0),p=o(293),_=o(128);const g=0,c=1;d.prototype=new p.a,d.prototype.get=function(e){for(var t=this.root_;null!==t;){var o=e.compareTo(t.key);if(0>o)t=t.left;else if(0<o)t=t.right;else return t.value}return null},d.prototype.put=function(o,n){if(null===this.root_)return this.root_={key:o,value:n,left:null,right:null,parent:null,color:g,getValue(){return this.value},getKey(){return this.key}},this.size_=1,null;var a=this.root_,t,i;do if(t=a,i=o.compareTo(a.key),0>i)a=a.left;else if(0<i)a=a.right;else{var r=a.value;return a.value=n,r}while(null!==a);var s={key:o,left:null,right:null,value:n,parent:t,color:g,getValue(){return this.value},getKey(){return this.key}};return 0>i?t.left=s:t.right=s,this.fixAfterInsertion(s),this.size_++,null},d.prototype.fixAfterInsertion=function(e){let t;for(e.color=c;null!=e&&e!==this.root_&&e.parent.color===c;)a(e)===r(a(a(e)))?(t=s(a(a(e))),n(t)===c?(i(a(e),g),i(t,g),i(a(a(e)),c),e=a(a(e))):(e===s(a(e))&&(e=a(e),this.rotateLeft(e)),i(a(e),g),i(a(a(e)),c),this.rotateRight(a(a(e))))):(t=r(a(a(e))),n(t)===c?(i(a(e),g),i(t,g),i(a(a(e)),c),e=a(a(e))):(e===r(a(e))&&(e=a(e),this.rotateRight(e)),i(a(e),g),i(a(a(e)),c),this.rotateLeft(a(a(e)))));this.root_.color=g},d.prototype.values=function(){var e=new l.a,t=this.getFirstEntry();if(null!==t)for(e.add(t.value);null!==(t=d.successor(t));)e.add(t.value);return e},d.prototype.entrySet=function(){var e=new _.a,t=this.getFirstEntry();if(null!==t)for(e.add(t);null!==(t=d.successor(t));)e.add(t);return e},d.prototype.rotateLeft=function(e){if(null!=e){var t=e.right;e.right=t.left,null!=t.left&&(t.left.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.left===e?e.parent.left=t:e.parent.right=t,t.left=e,e.parent=t}},d.prototype.rotateRight=function(e){if(null!=e){var t=e.left;e.left=t.right,null!=t.right&&(t.right.parent=e),t.parent=e.parent,null==e.parent?this.root_=t:e.parent.right===e?e.parent.right=t:e.parent.left=t,t.right=e,e.parent=t}},d.prototype.getFirstEntry=function(){var e=this.root_;if(null!=e)for(;null!=e.left;)e=e.left;return e},d.successor=function(e){let t;if(null===e)return null;if(null!==e.right){for(t=e.right;null!==t.left;)t=t.left;return t}t=e.parent;for(var o=e;null!==t&&o===t.right;)o=t,t=t.parent;return t},d.prototype.size=function(){return this.size_},d.prototype.containsKey=function(e){for(var t=this.root_;null!==t;){var o=e.compareTo(t.key);if(0>o)t=t.left;else if(0<o)t=t.right;else return!0}return!1}},function(e,t,o){'use strict';var n=o(24),a=o(77),i=o(3),r=o(62),s=o(48),d=o(98),l=o(79),p=o(186),_=o(23),g=o(4);class c extends n.a{constructor(){super(),c.constructor_.apply(this,arguments)}computeEnvelopeInternal(){if(this.isEmpty())return new _.a;const e=new _.a;return e.expandToInclude(this._coordinates.getX(0),this._coordinates.getY(0)),e}getCoordinates(){return this.isEmpty()?[]:[this.getCoordinate()]}equalsExact(){if(2===arguments.length&&'number'==typeof arguments[1]&&arguments[0]instanceof n.a){const e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&(this.isEmpty()&&e.isEmpty()||!(this.isEmpty()!==e.isEmpty())&&this.equal(e.getCoordinate(),this.getCoordinate(),t))}return super.equalsExact.apply(this,arguments)}normalize(){}getCoordinate(){return 0===this._coordinates.size()?null:this._coordinates.getCoordinate(0)}getBoundaryDimension(){return s.a.FALSE}getTypeCode(){return n.a.TYPECODE_POINT}getDimension(){return 0}getNumPoints(){return this.isEmpty()?0:1}reverse(){return this.copy()}getX(){if(null===this.getCoordinate())throw new IllegalStateException('getX called on empty Point');return this.getCoordinate().x}compareToSameClass(){if(1===arguments.length){const e=arguments[0];return this.getCoordinate().compareTo(e.getCoordinate())}if(2===arguments.length){const e=arguments[0],t=arguments[1];return t.compare(this._coordinates,e._coordinates)}}apply(){if(Object(i.a)(arguments[0],a.a)){const e=arguments[0];if(this.isEmpty())return null;e.filter(this.getCoordinate())}else if(Object(i.a)(arguments[0],l.a)){const e=arguments[0];if(this.isEmpty())return null;e.filter(this._coordinates,0),e.isGeometryChanged()&&this.geometryChanged()}else if(Object(i.a)(arguments[0],d.a)){const e=arguments[0];e.filter(this)}else if(Object(i.a)(arguments[0],r.a)){const e=arguments[0];e.filter(this)}}getBoundary(){return this.getFactory().createGeometryCollection()}getGeometryType(){return n.a.TYPENAME_POINT}copy(){return new c(this._coordinates.copy(),this._factory)}getCoordinateSequence(){return this._coordinates}getY(){if(null===this.getCoordinate())throw new IllegalStateException('getY called on empty Point');return this.getCoordinate().y}isEmpty(){return 0===this._coordinates.size()}init(e){null===e&&(e=this.getFactory().getCoordinateSequenceFactory().create([])),g.a.isTrue(1>=e.size()),this._coordinates=e}isSimple(){return!0}getClass(){return c}get interfaces_(){return[p.a]}}t.a=c,c.constructor_=function(){this._coordinates=null;const e=arguments[0],t=arguments[1];n.a.constructor_.call(this,t),this.init(e)},c.serialVersionUID=4902022702746615000},function(e,t,o){'use strict';var n=o(24),a=o(25),i=o(82),r=o(0);class s extends a.a{constructor(){super(),s.constructor_.apply(this,arguments)}equalsExact(){if(2===arguments.length&&'number'==typeof arguments[1]&&arguments[0]instanceof n.a){const e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&super.equalsExact.call(this,e,t)}return super.equalsExact.apply(this,arguments)}getBoundaryDimension(){return 1}getTypeCode(){return n.a.TYPECODE_MULTIPOLYGON}getDimension(){return 2}reverse(){const e=this._geometries.length,t=Array(e).fill(null);for(let e=0;e<this._geometries.length;e++)t[e]=this._geometries[e].reverse();return this.getFactory().createMultiPolygon(t)}getBoundary(){if(this.isEmpty())return this.getFactory().createMultiLineString();const e=new r.a;for(let t=0;t<this._geometries.length;t++){const o=this._geometries[t],n=o.getBoundary();for(let t=0;t<n.getNumGeometries();t++)e.add(n.getGeometryN(t))}const t=Array(e.size()).fill(null);return this.getFactory().createMultiLineString(e.toArray(t))}getGeometryType(){return n.a.TYPENAME_MULTIPOLYGON}copy(){const e=Array(this._geometries.length).fill(null);for(let t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new s(e,this._factory)}getClass(){return s}get interfaces_(){return[i.a]}}t.a=s,s.constructor_=function(){const e=arguments[0],t=arguments[1];a.a.constructor_.call(this,e,t)},s.serialVersionUID=-551033529766975900},function(e,t,o){'use strict';var n=o(316);t.a=class{constructor(e){this.parser=new n.a(e)}write(e){return this.parser.write(e)}static toLineString(e,t){if(2!==arguments.length)throw new Error('Not implemented');return'LINESTRING ( '+e.x+' '+e.y+', '+t.x+' '+t.y+' )'}}},function(e,t,o){'use strict';var n=o(129),a=o(0);const i={reverseOrder:function(){return{compare(e,t){return t.compareTo(e)}}},min:function(e){return i.sort(e),e.get(0)},sort:function(e,t){const o=e.toArray();t?n.a.sort(o,t):n.a.sort(o);const a=e.iterator();for(let n=0,i=o.length;n<i;n++)a.next(),a.set(o[n])},singletonList:function(e){const t=new a.a;return t.add(e),t}};t.a=i},function(e,o,n){'use strict';var a=n(102),i=n(1),s=n(21),r=n(17),d=n(16),l=n(38),p=n(103),_=n(22),g=n(104);class c{constructor(){c.constructor_.apply(this,arguments)}static midPoint(e,t){return new i.a((e.x+t.x)/2,(e.y+t.y)/2)}minX(){return C(this.p0.x,this.p1.x)}orientationIndex(){if(arguments[0]instanceof c){const e=arguments[0],t=r.a.index(this.p0,this.p1,e.p0),o=r.a.index(this.p0,this.p1,e.p1);return 0<=t&&0<=o?E(t,o):0>=t&&0>=o?E(t,o):0}if(arguments[0]instanceof i.a){const e=arguments[0];return r.a.index(this.p0,this.p1,e)}}toGeometry(e){return e.createLineString([this.p0,this.p1])}isVertical(){return this.p0.x===this.p1.x}equals(e){if(!(e instanceof c))return!1;const t=e;return this.p0.equals(t.p0)&&this.p1.equals(t.p1)}intersection(e){const t=new l.a;return t.computeIntersection(this.p0,this.p1,e.p0,e.p1),t.hasIntersection()?t.getIntersection(0):null}project(){if(arguments[0]instanceof i.a){const e=arguments[0];if(e.equals(this.p0)||e.equals(this.p1))return new i.a(e);const t=this.projectionFactor(e),o=new i.a;return o.x=this.p0.x+t*(this.p1.x-this.p0.x),o.y=this.p0.y+t*(this.p1.y-this.p0.y),o}if(arguments[0]instanceof c){const e=arguments[0],t=this.projectionFactor(e.p0),o=this.projectionFactor(e.p1);if(1<=t&&1<=o)return null;if(0>=t&&0>=o)return null;let n=this.project(e.p0);0>t&&(n=this.p0),1<t&&(n=this.p1);let a=this.project(e.p1);return 0>o&&(a=this.p0),1<o&&(a=this.p1),new c(n,a)}}normalize(){0>this.p1.compareTo(this.p0)&&this.reverse()}angle(){return t(this.p1.y-this.p0.y,this.p1.x-this.p0.x)}getCoordinate(e){return 0===e?this.p0:this.p1}distancePerpendicular(e){return g.a.pointToLinePerpendicular(e,this.p0,this.p1)}minY(){return C(this.p0.y,this.p1.y)}midPoint(){return c.midPoint(this.p0,this.p1)}projectionFactor(e){if(e.equals(this.p0))return 0;if(e.equals(this.p1))return 1;const t=this.p1.x-this.p0.x,o=this.p1.y-this.p0.y,n=t*t+o*o;if(0>=n)return s.a.NaN;const a=((e.x-this.p0.x)*t+(e.y-this.p0.y)*o)/n;return a}closestPoints(e){const t=this.intersection(e);if(null!==t)return[t,t];const o=[,,].fill(null);let n=s.a.MAX_VALUE,a=null;const i=this.closestPoint(e.p0);n=i.distance(e.p0),o[0]=i,o[1]=e.p0;const r=this.closestPoint(e.p1);a=r.distance(e.p1),a<n&&(n=a,o[0]=r,o[1]=e.p1);const d=e.closestPoint(this.p0);a=d.distance(this.p0),a<n&&(n=a,o[0]=this.p0,o[1]=d);const l=e.closestPoint(this.p1);return a=l.distance(this.p1),a<n&&(n=a,o[0]=this.p1,o[1]=l),o}closestPoint(e){const t=this.projectionFactor(e);if(0<t&&1>t)return this.project(e);const o=this.p0.distance(e),n=this.p1.distance(e);return o<n?this.p0:this.p1}maxX(){return E(this.p0.x,this.p1.x)}getLength(){return this.p0.distance(this.p1)}compareTo(e){const t=e,o=this.p0.compareTo(t.p0);return 0===o?this.p1.compareTo(t.p1):o}reverse(){const e=this.p0;this.p0=this.p1,this.p1=e}equalsTopo(e){return this.p0.equals(e.p0)&&this.p1.equals(e.p1)||this.p0.equals(e.p1)&&this.p1.equals(e.p0)}lineIntersection(e){try{const t=p.a.intersection(this.p0,this.p1,e.p0,e.p1);return t}catch(e){if(e instanceof a.a);else throw e}finally{}return null}maxY(){return E(this.p0.y,this.p1.y)}pointAlongOffset(e,t){const o=this.p0.x+e*(this.p1.x-this.p0.x),n=this.p0.y+e*(this.p1.y-this.p0.y),a=this.p1.x-this.p0.x,r=this.p1.y-this.p0.y,s=N(a*a+r*r);let d=0,l=0;if(0!==t){if(0>=s)throw new IllegalStateException('Cannot compute offset from zero-length line segment');d=t*a/s,l=t*r/s}const p=o-l,_=n+d,g=new i.a(p,_);return g}setCoordinates(){if(1===arguments.length){const e=arguments[0];this.setCoordinates(e.p0,e.p1)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.p0.x=e.x,this.p0.y=e.y,this.p1.x=t.x,this.p1.y=t.y}}segmentFraction(e){let t=this.projectionFactor(e);return 0>t?t=0:(1<t||s.a.isNaN(t))&&(t=1),t}toString(){return'LINESTRING( '+this.p0.x+' '+this.p0.y+', '+this.p1.x+' '+this.p1.y+')'}isHorizontal(){return this.p0.y===this.p1.y}distance(){if(arguments[0]instanceof c){const e=arguments[0];return g.a.segmentToSegment(this.p0,this.p1,e.p0,e.p1)}if(arguments[0]instanceof i.a){const e=arguments[0];return g.a.pointToSegment(e,this.p0,this.p1)}}pointAlong(e){const t=new i.a;return t.x=this.p0.x+e*(this.p1.x-this.p0.x),t.y=this.p0.y+e*(this.p1.y-this.p0.y),t}hashCode(){let e=java.lang.Double.doubleToLongBits(this.p0.x);e^=31*java.lang.Double.doubleToLongBits(this.p0.y);const t=u(e)^u(e>>32);let o=java.lang.Double.doubleToLongBits(this.p1.x);o^=31*java.lang.Double.doubleToLongBits(this.p1.y);const n=u(o)^u(o>>32);return t^n}getClass(){return c}get interfaces_(){return[d.a,_.a]}}o.a=c,c.constructor_=function(){if(this.p0=null,this.p1=null,0===arguments.length)c.constructor_.call(this,new i.a,new i.a);else if(1===arguments.length){const e=arguments[0];c.constructor_.call(this,e.p0,e.p1)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.p0=e,this.p1=t}else if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3];c.constructor_.call(this,new i.a(e,t),new i.a(o,n))}},c.serialVersionUID=3252005833466256400},function(e,t,o){'use strict';var n=o(141),a=o(70),i=o(26),r=o(18),s=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),d={LENGTH:'length'},l=function(e){function t(t,o,n){var a=e.call(this,t)||this;return a.element=o,a.index=n,a}return s(t,e),t}(r.a),p=function(e){function t(t,o){var n=e.call(this)||this;if(n.unique_=!!(o||{}).unique,n.array_=t?t:[],n.unique_)for(var a=0,i=n.array_.length;a<i;++a)n.assertUnique_(n.array_[a],a);return n.updateLength_(),n}return s(t,e),t.prototype.clear=function(){for(;0<this.getLength();)this.pop()},t.prototype.extend=function(e){for(var t=0,o=e.length;t<o;++t)this.push(e[t]);return this},t.prototype.forEach=function(e){for(var t=this.array_,o=0,n=t.length;o<n;++o)e(t[o],o,t)},t.prototype.getArray=function(){return this.array_},t.prototype.item=function(e){return this.array_[e]},t.prototype.getLength=function(){return this.get(d.LENGTH)},t.prototype.insertAt=function(e,t){this.unique_&&this.assertUnique_(t),this.array_.splice(e,0,t),this.updateLength_(),this.dispatchEvent(new l(a.a.ADD,t,e))},t.prototype.pop=function(){return this.removeAt(this.getLength()-1)},t.prototype.push=function(e){this.unique_&&this.assertUnique_(e);var t=this.getLength();return this.insertAt(t,e),this.getLength()},t.prototype.remove=function(e){for(var t=this.array_,o=0,n=t.length;o<n;++o)if(t[o]===e)return this.removeAt(o)},t.prototype.removeAt=function(e){var t=this.array_[e];return this.array_.splice(e,1),this.updateLength_(),this.dispatchEvent(new l(a.a.REMOVE,t,e)),t},t.prototype.setAt=function(e,t){var o=this.getLength();if(e<o){this.unique_&&this.assertUnique_(t,e);var n=this.array_[e];this.array_[e]=t,this.dispatchEvent(new l(a.a.REMOVE,n,e)),this.dispatchEvent(new l(a.a.ADD,t,e))}else{for(var i=o;i<e;++i)this.insertAt(i,void 0);this.insertAt(e,t)}},t.prototype.updateLength_=function(){this.set(d.LENGTH,this.array_.length)},t.prototype.assertUnique_=function(e,t){for(var o=0,a=this.array_.length;o<a;++o)if(this.array_[o]===e&&o!==t)throw new n.a(58)},t}(i.a);t.a=p},function(e,t){'use strict';t.a={ADD:'add',REMOVE:'remove'}},function(e,t,o){'use strict';o.d(t,'a',function(){return a});var n={DEGREES:'degrees',FEET:'ft',METERS:'m',PIXELS:'pixels',TILE_PIXELS:'tile-pixels',USFEET:'us-ft'},a={};a[n.DEGREES]=6370997*(2*s)/360,a[n.FEET]=0.3048,a[n.METERS]=1,a[n.USFEET]=1200/3937,t.b=n},function(e,t){'use strict';t.c=function(e,t,o,n,a,r){for(var s=r?r:[],d=0,i=t;i<o;i+=n){var l=e[i],p=e[i+1];s[d++]=a[0]*l+a[2]*p+a[4],s[d++]=a[1]*l+a[3]*p+a[5]}return r&&s.length!=d&&(s.length=d),s},t.a=function(e,t,o,n,a,s,d){for(var l=d?d:[],p=c(a),_=r(a),g=s[0],u=s[1],y=0,i=t;i<o;i+=n){var m=e[i]-g,h=e[i+1]-u;l[y++]=g+m*p-h*_,l[y++]=u+m*_+h*p;for(var f=i+2;f<i+n;++f)l[y++]=e[f]}return d&&l.length!=y&&(l.length=y),l},t.b=function(e,t,o,n,a,r,s,d){for(var l=d?d:[],p=s[0],_=s[1],g=0,i=t;i<o;i+=n){var c=e[i]-p,u=e[i+1]-_;l[g++]=p+a*c,l[g++]=_+r*u;for(var y=i+2;y<i+n;++y)l[g++]=e[y]}return d&&l.length!=g&&(l.length=g),l},t.d=function(e,t,o,n,a,r,s){for(var d=s?s:[],l=0,i=t;i<o;i+=n){d[l++]=e[i]+a,d[l++]=e[i+1]+r;for(var p=i+2;p<i+n;++p)d[l++]=e[p]}return s&&d.length!=l&&(d.length=l),d}},function(e,t,o){'use strict';function n(e,o,n,a,r,s,d){var p=e[o],_=e[o+1],g=e[n]-p,c=e[n+1]-_,u;if(0==g&&0==c)u=o;else{var y=((r-p)*g+(s-_)*c)/(g*g+c*c);if(1<y)u=n;else{if(0<y){for(var t=0;t<a;++t)d[t]=Object(l.c)(e[o+t],e[n+t],y);return void(d.length=a)}u=o}}for(var t=0;t<a;++t)d[t]=e[u+t];d.length=a}function a(e,t,o,n,a){var i=e[t],r=e[t+1];for(t+=n;t<o;t+=n){var s=e[t],d=e[t+1],p=Object(l.e)(i,r,s,d);p>a&&(a=p),i=s,r=d}return a}function r(e,t,o,n,r){for(var s=0,i=o.length,d;s<i;++s)d=o[s],r=a(e,t,d,n,r),t=d;return r}function s(e,t,o,a,r,s,d,p,_,g,c){if(t==o)return g;var u,i;if(0===r){if(i=Object(l.e)(d,p,e[t],e[t+1]),i<g){for(u=0;u<a;++u)_[u]=e[t+u];return _.length=a,i}return g}for(var y=c?c:[NaN,NaN],m=t+a;m<o;)if(n(e,m-a,m,a,d,p,y),i=Object(l.e)(d,p,y[0],y[1]),i<g){for(g=i,u=0;u<a;++u)_[u]=y[u];_.length=a,m+=a}else m+=a*E(0|(N(i)-N(g))/r,1);if(s&&(n(e,o-a,t,a,d,p,y),i=Object(l.e)(d,p,y[0],y[1]),i<g)){for(g=i,u=0;u<a;++u)_[u]=y[u];_.length=a}return g}function d(e,t,o,n,a,r,d,l,p,_,g){for(var c=g?g:[NaN,NaN],u=0,i=o.length,y;u<i;++u)y=o[u],_=s(e,t,y,n,a,r,d,l,p,_,c),t=y;return _}t.e=a,t.a=r,t.f=function(e,t,o,n,a){for(var s=0,i=o.length,d;s<i;++s)d=o[s],a=r(e,t,d,n,a),t=d[d.length-1];return a},t.d=s,t.b=d,t.c=function(e,t,o,n,a,r,s,l,p,_,g){for(var c=g?g:[NaN,NaN],u=0,i=o.length,y;u<i;++u)y=o[u],_=d(e,t,y,n,a,r,s,l,p,_,c),t=y[y.length-1];return _};var l=o(14)},function(e,t,o){'use strict';var n=o(2),a=o(55),i=o(8),r=o(33),s=o(122),d=o(73),l=o(34),p=o(43),_=o(56),g=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),c=function(e){function t(t,o){var n=e.call(this)||this;return n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===o||Array.isArray(t[0])?n.setCoordinates(t,o):n.setFlatCoordinates(o,t),n}return g(t,e),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,o,a){return a<Object(n.e)(this.getExtent(),e,t)?a:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=N(Object(d.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(d.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!0,e,t,o,a))},t.prototype.getArea=function(){return Object(s.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinates=function(){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getSimplifiedGeometryInternal=function(e){var o=[];return o.length=Object(_.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,o,0),new t(o,a.a.XY)},t.prototype.getType=function(){return i.a.LINEAR_RING},t.prototype.intersectsExtent=function(){return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(l.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(r.a);t.a=c},function(e,t,o){'use strict';var a=o(15),n=o(114),r=o(2),s=o(144),d=o(8),l=o(43),i=o(252),p=o(42),_=o(58),g=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),c=function(e){function t(t,o,n,a){var i=e.call(this)||this;return i.tolerance=t,i.maxExtent=o,i.pixelRatio=a,i.maxLineWidth=0,i.resolution=n,i.beginGeometryInstruction1_=null,i.beginGeometryInstruction2_=null,i.bufferedMaxExtent_=null,i.instructions=[],i.coordinates=[],i.tmpCoordinate_=[],i.hitDetectionInstructions=[],i.state={},i}return g(t,e),t.prototype.applyPixelRatio=function(e){var t=this.pixelRatio;return 1==t?e:e.map(function(e){return e*t})},t.prototype.appendFlatCoordinates=function(e,t,o,n,a,d){var l=this.coordinates.length,p=this.getBufferedMaxExtent();d&&(t+=n);var _=e[t],g=e[t+1],c=this.tmpCoordinate_,u=!0,y,i,m;for(y=t+n;y<o;y+=n)c[0]=e[y],c[1]=e[y+1],m=Object(r.h)(p,c),m===i?m===s.a.INTERSECTING?(this.coordinates[l++]=c[0],this.coordinates[l++]=c[1],u=!1):u=!0:(u&&(this.coordinates[l++]=_,this.coordinates[l++]=g),this.coordinates[l++]=c[0],this.coordinates[l++]=c[1],u=!1),_=c[0],g=c[1],i=m;return(a&&u||y===t+n)&&(this.coordinates[l++]=_,this.coordinates[l++]=g),l},t.prototype.drawCustomCoordinates_=function(e,t,o,n,a){for(var r=0,i=o.length;r<i;++r){var s=o[r],d=this.appendFlatCoordinates(e,t,s,n,!1,!1);a.push(d),t=s}return t},t.prototype.drawCustom=function(e,t,o){this.beginGeometry(t);var n=e.getType(),a=e.getStride(),r=this.coordinates.length,s,p,g,c,u;if(n==d.a.MULTI_POLYGON){e=e,s=e.getOrientedFlatCoordinates(),c=[];var y=e.getEndss();u=0;for(var m=0,i=y.length,h;m<i;++m)h=[],u=this.drawCustomCoordinates_(s,u,y[m],a,h),c.push(h);this.instructions.push([_.c.CUSTOM,r,c,e,o,l.c])}else n==d.a.POLYGON||n==d.a.MULTI_LINE_STRING?(g=[],s=n==d.a.POLYGON?e.getOrientedFlatCoordinates():e.getFlatCoordinates(),u=this.drawCustomCoordinates_(s,0,e.getEnds(),a,g),this.instructions.push([_.c.CUSTOM,r,g,e,o,l.b])):n==d.a.LINE_STRING||n==d.a.MULTI_POINT?(s=e.getFlatCoordinates(),p=this.appendFlatCoordinates(s,0,s.length,a,!1,!1),this.instructions.push([_.c.CUSTOM,r,p,e,o,l.a])):n==d.a.POINT&&(s=e.getFlatCoordinates(),this.coordinates.push(s[0],s[1]),p=this.coordinates.length,this.instructions.push([_.c.CUSTOM,r,p,e,o]));this.endGeometry(t)},t.prototype.beginGeometry=function(e){this.beginGeometryInstruction1_=[_.c.BEGIN_GEOMETRY,e,0],this.instructions.push(this.beginGeometryInstruction1_),this.beginGeometryInstruction2_=[_.c.BEGIN_GEOMETRY,e,0],this.hitDetectionInstructions.push(this.beginGeometryInstruction2_)},t.prototype.finish=function(){return{instructions:this.instructions,hitDetectionInstructions:this.hitDetectionInstructions,coordinates:this.coordinates}},t.prototype.reverseHitDetectionInstructions=function(){var e=this.hitDetectionInstructions;e.reverse();var t=e.length,o=-1,n,i,r;for(n=0;n<t;++n)i=e[n],r=i[0],r==_.c.END_GEOMETRY?o=n:r==_.c.BEGIN_GEOMETRY&&(i[2]=n,Object(a.f)(this.hitDetectionInstructions,o,n),o=-1)},t.prototype.setFillStrokeStyle=function(e,t){var o=this.state;if(e){var a=e.getColor();o.fillStyle=Object(n.a)(a?a:p.b)}else o.fillStyle=void 0;if(t){var i=t.getColor();o.strokeStyle=Object(n.a)(i?i:p.k);var r=t.getLineCap();o.lineCap=void 0===r?p.d:r;var s=t.getLineDash();o.lineDash=s?s.slice():p.e;var d=t.getLineDashOffset();o.lineDashOffset=d?d:p.f;var l=t.getLineJoin();o.lineJoin=void 0===l?p.g:l;var _=t.getWidth();o.lineWidth=void 0===_?p.h:_;var g=t.getMiterLimit();o.miterLimit=void 0===g?p.i:g,o.lineWidth>this.maxLineWidth&&(this.maxLineWidth=o.lineWidth,this.bufferedMaxExtent_=null)}else o.strokeStyle=void 0,o.lineCap=void 0,o.lineDash=null,o.lineDashOffset=void 0,o.lineJoin=void 0,o.lineWidth=void 0,o.miterLimit=void 0},t.prototype.createFill=function(e){var t=e.fillStyle,o=[_.c.SET_FILL_STYLE,t];return'string'!=typeof t&&o.push(!0),o},t.prototype.applyStroke=function(e){this.instructions.push(this.createStroke(e))},t.prototype.createStroke=function(e){return[_.c.SET_STROKE_STYLE,e.strokeStyle,e.lineWidth*this.pixelRatio,e.lineCap,e.lineJoin,e.miterLimit,this.applyPixelRatio(e.lineDash),e.lineDashOffset*this.pixelRatio]},t.prototype.updateFillStyle=function(e,t){var o=e.fillStyle;('string'!=typeof o||e.currentFillStyle!=o)&&(void 0!==o&&this.instructions.push(t.call(this,e)),e.currentFillStyle=o)},t.prototype.updateStrokeStyle=function(e,t){var o=e.strokeStyle,n=e.lineCap,i=e.lineDash,r=e.lineDashOffset,s=e.lineJoin,d=e.lineWidth,l=e.miterLimit;e.currentStrokeStyle==o&&e.currentLineCap==n&&(i==e.currentLineDash||Object(a.b)(e.currentLineDash,i))&&e.currentLineDashOffset==r&&e.currentLineJoin==s&&e.currentLineWidth==d&&e.currentMiterLimit==l||(void 0!==o&&t.call(this,e),e.currentStrokeStyle=o,e.currentLineCap=n,e.currentLineDash=i,e.currentLineDashOffset=r,e.currentLineJoin=s,e.currentLineWidth=d,e.currentMiterLimit=l)},t.prototype.endGeometry=function(e){this.beginGeometryInstruction1_[2]=this.instructions.length,this.beginGeometryInstruction1_=null,this.beginGeometryInstruction2_[2]=this.hitDetectionInstructions.length,this.beginGeometryInstruction2_=null;var t=[_.c.END_GEOMETRY,e];this.instructions.push(t),this.hitDetectionInstructions.push(t)},t.prototype.getBufferedMaxExtent=function(){if(!this.bufferedMaxExtent_&&(this.bufferedMaxExtent_=Object(r.d)(this.maxExtent),0<this.maxLineWidth)){var e=this.resolution*(this.maxLineWidth+1)/2;Object(r.c)(this.bufferedMaxExtent_,e,this.bufferedMaxExtent_)}return this.bufferedMaxExtent_},t}(i.a);t.a=c},function(e,t){'use strict';t.a=function(){}},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}filter(){}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t,o){'use strict';function n(){}t.a=n;var a=o(32);n.prototype=Object.create(a.a.prototype),n.prototype.constructor=n,n.prototype.get=function(){},n.prototype.set=function(){},n.prototype.isEmpty=function(){}},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}filter(){}isDone(){}isGeometryChanged(){}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t){'use strict';function o(e){this.str=e}t.a=o,o.prototype.append=function(t){this.str+=t},o.prototype.setCharAt=function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)},o.prototype.toString=function(){return this.str}},function(e,t){'use strict';function o(e){this.value=e}t.a=o,o.prototype.intValue=function(){return this.value},o.prototype.compareTo=function(e){return this.value<e?-1:this.value>e?1:0},o.isNaN=(e)=>a(e)},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t,o){'use strict';var a=o(24),i=o(25),r=o(48),s=o(186);class d extends i.a{constructor(){super(),d.constructor_.apply(this,arguments)}isValid(){return!0}equalsExact(){if(2===arguments.length&&'number'==typeof arguments[1]&&arguments[0]instanceof a.a){const e=arguments[0],t=arguments[1];return!!this.isEquivalentClass(e)&&super.equalsExact.call(this,e,t)}return super.equalsExact.apply(this,arguments)}getCoordinate(){if(1===arguments.length&&n(arguments[0])){const e=arguments[0];return this._geometries[e].getCoordinate()}return super.getCoordinate.apply(this,arguments)}getBoundaryDimension(){return r.a.FALSE}getTypeCode(){return a.a.TYPECODE_MULTIPOINT}getDimension(){return 0}getBoundary(){return this.getFactory().createGeometryCollection()}getGeometryType(){return a.a.TYPENAME_MULTIPOINT}copy(){const e=Array(this._geometries.length).fill(null);for(let t=0;t<e.length;t++)e[t]=this._geometries[t].copy();return new d(e,this._factory)}getClass(){return d}get interfaces_(){return[s.a]}}t.a=d,d.constructor_=function(){const e=arguments[0],t=arguments[1];i.a.constructor_.call(this,e,t)},d.serialVersionUID=-8048474874175356000},function(e,t,o){'use strict';var n=o(1),a=o(5);class i{constructor(){i.constructor_.apply(this,arguments)}static isNorthern(e){return e===i.NE||e===i.NW}static isOpposite(e,t){if(e===t)return!1;return!(2!=(e-t+4)%4)}static commonHalfPlane(e,t){if(e===t)return e;if(2==(e-t+4)%4)return-1;const o=e<t?e:t,n=e>t?e:t;return 0==o&&3==n?3:o}static isInHalfPlane(e,t){return t===i.SE?e===i.SE||e===i.SW:e===t||e===t+1}static quadrant(){if('number'==typeof arguments[0]&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new a.a('Cannot compute the quadrant for point ( '+e+', '+t+' )');return 0<=e?0<=t?i.NE:i.SE:0<=t?i.NW:i.SW}if(arguments[0]instanceof n.a&&arguments[1]instanceof n.a){const e=arguments[0],t=arguments[1];if(t.x===e.x&&t.y===e.y)throw new a.a('Cannot compute the quadrant for two identical points '+e);return t.x>=e.x?t.y>=e.y?i.NE:i.SE:t.y>=e.y?i.NW:i.SW}}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){},i.NE=0,i.NW=1,i.SW=2,i.SE=3},function(e,t,o){'use strict';var n=o(328),a=o(66),i=o(131),r=o(1),s=o(199),d=o(0),l=o(331);class p{constructor(){p.constructor_.apply(this,arguments)}static getNodedSubstrings(){if(1===arguments.length){const e=arguments[0],t=new d.a;return p.getNodedSubstrings(e,t),t}if(2===arguments.length){const e=arguments[0],t=arguments[1];for(let o=e.iterator();o.hasNext();){const e=o.next();e.getNodeList().addSplitEdges(t)}}}getCoordinates(){return this._pts}size(){return this._pts.length}getCoordinate(e){return this._pts[e]}isClosed(){return this._pts[0].equals(this._pts[this._pts.length-1])}getSegmentOctant(e){return e===this._pts.length-1?-1:this.safeOctant(this.getCoordinate(e),this.getCoordinate(e+1))}setData(e){this._data=e}safeOctant(e,t){return e.equals2D(t)?0:s.a.octant(e,t)}getData(){return this._data}addIntersection(){if(2===arguments.length){const e=arguments[0],t=arguments[1];this.addIntersectionNode(e,t)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3],a=new r.a(e.getIntersection(n));this.addIntersection(a,t)}}toString(){return a.a.toLineString(new i.a(this._pts))}getNodeList(){return this._nodeList}addIntersectionNode(e,t){let o=t;const n=o+1;if(n<this._pts.length){const t=this._pts[n];e.equals2D(t)&&(o=n)}const a=this._nodeList.add(e,o);return a}addIntersections(e,t,o){for(let n=0;n<e.getIntersectionNum();n++)this.addIntersection(e,t,o,n)}getClass(){return p}get interfaces_(){return[l.a]}}t.a=p,p.constructor_=function(){this._nodeList=new n.a(this),this._pts=null,this._data=null;const e=arguments[0],t=arguments[1];this._pts=e,this._data=t}},function(e,t,o){'use strict';var n=o(210),a=o(9),i=o(363),r=o(367),s=o(189),d=o(10),l=o(5),p=o(368),_=o(369),g=o(370),c=o(371),u=o(29),y=o(203),m=o(375),h=o(206),f=o(0),x=o(4),I=o(105);class N extends m.a{constructor(){super(),N.constructor_.apply(this,arguments)}static overlayOp(e,t,o){const n=new N(e,t),a=n.getResultGeometry(o);return a}static union(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return N.createEmptyResult(N.UNION,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}if(e.isGeometryCollection()||t.isGeometryCollection())throw new l.a('This method does not support GeometryCollection arguments');return c.a.overlayOp(e,t,N.UNION)}static intersection(e,t){if(e.isEmpty()||t.isEmpty())return N.createEmptyResult(N.INTERSECTION,e,t,e.getFactory());if(e.isGeometryCollection()){return r.a.map(e,new class{get interfaces_(){return[p.a]}map(e){return N.intersection(e,t)}})}return c.a.overlayOp(e,t,N.INTERSECTION)}static symDifference(e,t){if(e.isEmpty()||t.isEmpty()){if(e.isEmpty()&&t.isEmpty())return N.createEmptyResult(N.SYMDIFFERENCE,e,t,e.getFactory());if(e.isEmpty())return t.copy();if(t.isEmpty())return e.copy()}if(e.isGeometryCollection()||t.isGeometryCollection())throw new l.a('This method does not support GeometryCollection arguments');return c.a.overlayOp(e,t,N.SYMDIFFERENCE)}static resultDimension(e,t,o){const n=t.getDimension(),a=o.getDimension();let i=-1;return e===N.INTERSECTION?i=C(n,a):e===N.UNION?i=E(n,a):e===N.DIFFERENCE?i=n:e===N.SYMDIFFERENCE?i=E(n,a):void 0,i}static createEmptyResult(e,t,o,n){let a=null;switch(N.resultDimension(e,t,o)){case-1:a=n.createGeometryCollection();break;case 0:a=n.createPoint();break;case 1:a=n.createLineString();break;case 2:a=n.createPolygon();}return a}static difference(e,t){if(e.isEmpty())return N.createEmptyResult(N.DIFFERENCE,e,t,e.getFactory());if(t.isEmpty())return e.copy();if(e.isGeometryCollection()||t.isGeometryCollection())throw new l.a('This method does not support GeometryCollection arguments');return c.a.overlayOp(e,t,N.DIFFERENCE)}static isResultOfOp(){if(2===arguments.length){const e=arguments[0],t=arguments[1],o=e.getLocation(0),n=e.getLocation(1);return N.isResultOfOp(o,n,t)}if(3===arguments.length){let e=arguments[0],t=arguments[1];const o=arguments[2];return e===a.a.BOUNDARY&&(e=a.a.INTERIOR),t===a.a.BOUNDARY&&(t=a.a.INTERIOR),o===N.INTERSECTION?e===a.a.INTERIOR&&t===a.a.INTERIOR:o===N.UNION?e===a.a.INTERIOR||t===a.a.INTERIOR:o===N.DIFFERENCE?e===a.a.INTERIOR&&t!==a.a.INTERIOR:o===N.SYMDIFFERENCE&&(e===a.a.INTERIOR&&t!==a.a.INTERIOR||e!==a.a.INTERIOR&&t===a.a.INTERIOR)}}insertUniqueEdge(t){const e=this._edgeList.findEqualEdge(t);if(null!==e){const o=e.getLabel();let n=t.getLabel();e.isPointwiseEqual(t)||(n=new u.a(t.getLabel()),n.flip());const a=e.getDepth();a.isNull()&&a.add(o),a.add(n),o.merge(n)}else this._edgeList.add(t)}getGraph(){return this._graph}cancelDuplicateResultEdges(){for(let e=this._graph.getEdgeEnds().iterator();e.hasNext();){const t=e.next(),o=t.getSym();t.isInResult()&&o.isInResult()&&(t.setInResult(!1),o.setInResult(!1))}}isCoveredByLA(e){return!!this.isCovered(e,this._resultLineList)||!!this.isCovered(e,this._resultPolyList)}computeGeometry(e,t,o,n){const a=new f.a;return a.addAll(e),a.addAll(t),a.addAll(o),a.isEmpty()?N.createEmptyResult(n,this._arg[0].getGeometry(),this._arg[1].getGeometry(),this._geomFact):this._geomFact.buildGeometry(a)}mergeSymLabels(){for(let e=this._graph.getNodes().iterator();e.hasNext();){const t=e.next();t.getEdges().mergeSymLabels()}}isCovered(e,t){for(let o=t.iterator();o.hasNext();){const t=o.next(),n=this._ptLocator.locate(e,t);if(n!==a.a.EXTERIOR)return!0}return!1}replaceCollapsedEdges(){const t=new f.a;for(let o=this._edgeList.iterator();o.hasNext();){const n=o.next();n.isCollapsed()&&(o.remove(),t.add(n.getCollapsedEdge()))}this._edgeList.addAll(t)}updateNodeLabelling(){for(let e=this._graph.getNodes().iterator();e.hasNext();){const t=e.next(),o=t.getEdges().getLabel();t.getLabel().merge(o)}}getResultGeometry(e){return this.computeOverlay(e),this._resultGeom}insertUniqueEdges(e){for(let t=e.iterator();t.hasNext();){const o=t.next();this.insertUniqueEdge(o)}}computeOverlay(e){this.copyPoints(0),this.copyPoints(1),this._arg[0].computeSelfNodes(this._li,!1),this._arg[1].computeSelfNodes(this._li,!1),this._arg[0].computeEdgeIntersections(this._arg[1],this._li,!0);const t=new f.a;this._arg[0].computeSplitEdges(t),this._arg[1].computeSplitEdges(t);this.insertUniqueEdges(t),this.computeLabelsFromDepths(),this.replaceCollapsedEdges(),i.a.checkValid(this._edgeList.getEdges()),this._graph.addEdges(this._edgeList.getEdges()),this.computeLabelling(),this.labelIncompleteNodes(),this.findResultAreaEdges(e),this.cancelDuplicateResultEdges();const o=new s.a(this._geomFact);o.add(this._graph),this._resultPolyList=o.getPolygons();const n=new _.a(this,this._geomFact,this._ptLocator);this._resultLineList=n.build(e);const a=new g.a(this,this._geomFact,this._ptLocator);this._resultPointList=a.build(e),this._resultGeom=this.computeGeometry(this._resultPointList,this._resultLineList,this._resultPolyList,e)}labelIncompleteNode(e,t){const o=this._ptLocator.locate(e.getCoordinate(),this._arg[t].getGeometry());e.getLabel().setLocation(t,o)}copyPoints(e){for(let t=this._arg[e].getNodeIterator();t.hasNext();){const o=t.next(),n=this._graph.addNode(o.getCoordinate());n.setLabel(e,o.getLabel().getLocation(e))}}findResultAreaEdges(e){for(let t=this._graph.getEdgeEnds().iterator();t.hasNext();){const o=t.next(),n=o.getLabel();n.isArea()&&!o.isInteriorAreaEdge()&&N.isResultOfOp(n.getLocation(0,d.a.RIGHT),n.getLocation(1,d.a.RIGHT),e)&&o.setInResult(!0)}}computeLabelsFromDepths(){for(let t=this._edgeList.iterator();t.hasNext();){const o=t.next(),e=o.getLabel(),n=o.getDepth();if(!n.isNull()){n.normalize();for(let t=0;2>t;t++)e.isNull(t)||!e.isArea()||n.isNull(t)||(0===n.getDelta(t)?e.toLine(t):(x.a.isTrue(!n.isNull(t,d.a.LEFT),'depth of LEFT side has not been initialized'),e.setLocation(t,d.a.LEFT,n.getLocation(t,d.a.LEFT)),x.a.isTrue(!n.isNull(t,d.a.RIGHT),'depth of RIGHT side has not been initialized'),e.setLocation(t,d.a.RIGHT,n.getLocation(t,d.a.RIGHT))))}}}computeLabelling(){for(let e=this._graph.getNodes().iterator();e.hasNext();){const t=e.next();t.getEdges().computeLabelling(this._arg)}this.mergeSymLabels(),this.updateNodeLabelling()}labelIncompleteNodes(){let e=0;for(let t=this._graph.getNodes().iterator();t.hasNext();){const o=t.next(),n=o.getLabel();o.isIsolated()&&(e++,n.isNull(0)?this.labelIncompleteNode(o,0):this.labelIncompleteNode(o,1)),o.getEdges().updateLabelling(n)}}isCoveredByA(e){return!!this.isCovered(e,this._resultPolyList)}getClass(){return N}get interfaces_(){return[]}}t.a=N,N.constructor_=function(){this._ptLocator=new n.a,this._geomFact=null,this._resultGeom=null,this._graph=null,this._edgeList=new h.a,this._resultPolyList=new f.a,this._resultLineList=new f.a,this._resultPointList=new f.a;const e=arguments[0],t=arguments[1];m.a.constructor_.call(this,e,t),this._graph=new I.a(new y.a()),this._geomFact=e.getFactory()},N.INTERSECTION=1,N.UNION=2,N.DIFFERENCE=3,N.SYMDIFFERENCE=4},function(e,t,o){'use strict';var n=o(88),a=o(11),i=o(13),r=o(18),s=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),d=function(e){function t(){var t=e.call(this)||this;return t.pendingRemovals_={},t.dispatching_={},t.listeners_={},t}return s(t,e),t.prototype.addEventListener=function(e,t){var o=this.listeners_[e];o||(o=this.listeners_[e]=[]),-1===o.indexOf(t)&&o.push(t)},t.prototype.dispatchEvent=function(e){var t='string'==typeof e?new r.a(e):e,o=t.type;t.target=this;var n=this.listeners_[o],a;if(n){o in this.dispatching_||(this.dispatching_[o]=0,this.pendingRemovals_[o]=0),++this.dispatching_[o];for(var s=0,d=n.length;s<d;++s)if(!1===n[s].call(this,t)||t.propagationStopped){a=!1;break}if(--this.dispatching_[o],0===this.dispatching_[o]){var l=this.pendingRemovals_[o];for(delete this.pendingRemovals_[o];l--;)this.removeEventListener(o,i.c);delete this.dispatching_[o]}return a}},t.prototype.disposeInternal=function(){Object(a.d)(this)},t.prototype.getListeners=function(e){return this.listeners_[e]},t.prototype.hasListener=function(e){return e?e in this.listeners_:0<Object.keys(this.listeners_).length},t.prototype.removeEventListener=function(e,t){var o=this.listeners_[e];if(o){var n=o.indexOf(t);e in this.pendingRemovals_?(o[n]=i.c,++this.pendingRemovals_[e]):(o.splice(n,1),0===o.length&&delete this.listeners_[e])}},t}(n.a);t.a=d},function(e,t){'use strict';var o=function(){function e(){this.disposed_=!1}return e.prototype.dispose=function(){this.disposed_||(this.disposed_=!0,this.disposeInternal())},e.prototype.disposeInternal=function(){},e}();t.a=o},function(e,t){'use strict';t.a={UNDEFINED:'undefined',LOADING:'loading',READY:'ready',ERROR:'error'}},function(e,t,o){'use strict';function n(e,t,o,n,a){var r=Object(i.r)(Object(i.i)(),e,t,o,n);return!!Object(i.B)(a,r)&&(!!Object(i.f)(a,r)||r[0]>=a[0]&&r[2]<=a[2]||r[1]>=a[1]&&r[3]<=a[3]||Object(d.a)(e,t,o,n,function(e,t){return Object(i.C)(a,e,t)}))}function a(e,t,o,a,i){return!!n(e,t,o,a,i)||!!Object(s.b)(e,t,o,a,i[0],i[1])||!!Object(s.b)(e,t,o,a,i[0],i[3])||!!Object(s.b)(e,t,o,a,i[2],i[1])||!!Object(s.b)(e,t,o,a,i[2],i[3])}function r(e,t,o,r,d){if(!a(e,t,o[0],r,d))return!1;if(1===o.length)return!0;for(var l=1,i=o.length;l<i;++l)if(Object(s.a)(e,o[l-1],o[l],r,d)&&!n(e,o[l-1],o[l],r,d))return!1;return!0}t.a=n,t.b=function(e,t,o,a,r){for(var s=0,i=o.length;s<i;++s){if(n(e,t,o[s],a,r))return!0;t=o[s]}return!1},t.c=r,t.d=function(e,t,o,n,a){for(var s=0,i=o.length,d;s<i;++s){if(d=o[s],r(e,t,d,n,a))return!0;t=d[d.length-1]}return!1};var i=o(2),s=o(91),d=o(155)},function(e,t,o){'use strict';function n(e,t,o,n,a,i){for(var r=0,s=e[o-n],d=e[o-n+1];t<o;t+=n){var l=e[t],p=e[t+1];d<=i?p>i&&0<(l-s)*(i-d)-(a-s)*(p-d)&&r++:p<=i&&0>(l-s)*(i-d)-(a-s)*(p-d)&&r--,s=l,d=p}return 0!=r}function a(e,t,o,a,r,s){if(0===o.length)return!1;if(!n(e,t,o[0],a,r,s))return!1;for(var d=1,i=o.length;d<i;++d)if(n(e,o[d-1],o[d],a,r,s))return!1;return!0}t.a=function(e,t,o,a,r){var s=Object(i.s)(r,function(i){return!n(e,t,o,a,i[0],i[1])});return!s},t.b=n,t.c=a,t.d=function(e,t,o,n,r,s){if(0===o.length)return!1;for(var d=0,i=o.length,l;d<i;++d){if(l=o[d],a(e,t,l,n,r,s))return!0;t=l[l.length-1]}return!1};var i=o(2)},function(e,t,o){'use strict';function n(e){if('function'==typeof e)return e;var t;if(Array.isArray(e))t=e;else{Object(a.a)('function'==typeof e.getZIndex,41);t=[e]}return function(){return t}}var a=o(30),i=o(11),r=o(7),s=o(26),d=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=function(e){function t(t){var o=e.call(this)||this;if(o.id_=void 0,o.geometryName_='geometry',o.style_=null,o.styleFunction_=void 0,o.geometryChangeKey_=null,Object(i.a)(o,Object(s.b)(o.geometryName_),o.handleGeometryChanged_,o),t)if('function'==typeof t.getSimplifiedGeometry){o.setGeometry(t)}else{o.setProperties(t)}return o}return d(t,e),t.prototype.clone=function(){var e=new t(this.getProperties());e.setGeometryName(this.getGeometryName());var o=this.getGeometry();o&&e.setGeometry(o.clone());var n=this.getStyle();return n&&e.setStyle(n),e},t.prototype.getGeometry=function(){return this.get(this.geometryName_)},t.prototype.getId=function(){return this.id_},t.prototype.getGeometryName=function(){return this.geometryName_},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.handleGeometryChange_=function(){this.changed()},t.prototype.handleGeometryChanged_=function(){this.geometryChangeKey_&&(Object(i.e)(this.geometryChangeKey_),this.geometryChangeKey_=null);var e=this.getGeometry();e&&(this.geometryChangeKey_=Object(i.a)(e,r.a.CHANGE,this.handleGeometryChange_,this)),this.changed()},t.prototype.setGeometry=function(e){this.set(this.geometryName_,e)},t.prototype.setStyle=function(e){this.style_=e,this.styleFunction_=e?n(e):void 0,this.changed()},t.prototype.setId=function(e){this.id_=e,this.changed()},t.prototype.setGeometryName=function(e){Object(i.c)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.geometryName_=e,Object(i.a)(this,Object(s.b)(this.geometryName_),this.handleGeometryChanged_,this),this.handleGeometryChanged_()},t}(s.a);t.a=l},function(e,t,o){'use strict';function n(e){return[e.x,e.y]}var a=o(1),i=o(36);t.a=class{constructor(e,t){this.geometryFactory=e||new i.a,this.ol=t||'undefined'!=typeof ol&&ol}inject(e,t,o,n,a,i,r,s){this.ol={geom:{Point:e,LineString:t,LinearRing:o,Polygon:n,MultiPoint:a,MultiLineString:i,MultiPolygon:r,GeometryCollection:s}}}read(e){const t=this.ol;if(e instanceof t.geom.Point)return this.convertFromPoint(e);return e instanceof t.geom.LineString?this.convertFromLineString(e):e instanceof t.geom.LinearRing?this.convertFromLinearRing(e):e instanceof t.geom.Polygon?this.convertFromPolygon(e):e instanceof t.geom.MultiPoint?this.convertFromMultiPoint(e):e instanceof t.geom.MultiLineString?this.convertFromMultiLineString(e):e instanceof t.geom.MultiPolygon?this.convertFromMultiPolygon(e):e instanceof t.geom.GeometryCollection?this.convertFromCollection(e):void 0}convertFromPoint(e){const t=e.getCoordinates();return this.geometryFactory.createPoint(new a.a(t[0],t[1]))}convertFromLineString(e){return this.geometryFactory.createLineString(e.getCoordinates().map(function(e){return new a.a(e[0],e[1])}))}convertFromLinearRing(e){return this.geometryFactory.createLinearRing(e.getCoordinates().map(function(e){return new a.a(e[0],e[1])}))}convertFromPolygon(e){const t=e.getLinearRings();let o=null;const n=[];for(let a=0;a<t.length;a++){const e=this.convertFromLinearRing(t[a]);0===a?o=e:n.push(e)}return this.geometryFactory.createPolygon(o,n)}convertFromMultiPoint(e){const t=e.getPoints().map(function(e){return this.convertFromPoint(e)},this);return this.geometryFactory.createMultiPoint(t)}convertFromMultiLineString(e){const t=e.getLineStrings().map(function(e){return this.convertFromLineString(e)},this);return this.geometryFactory.createMultiLineString(t)}convertFromMultiPolygon(e){const t=e.getPolygons().map(function(e){return this.convertFromPolygon(e)},this);return this.geometryFactory.createMultiPolygon(t)}convertFromCollection(e){const t=e.getGeometries().map(function(e){return this.read(e)},this);return this.geometryFactory.createGeometryCollection(t)}write(e){if('Point'===e.getGeometryType())return this.convertToPoint(e.getCoordinate());return'LineString'===e.getGeometryType()?this.convertToLineString(e):'LinearRing'===e.getGeometryType()?this.convertToLinearRing(e):'Polygon'===e.getGeometryType()?this.convertToPolygon(e):'MultiPoint'===e.getGeometryType()?this.convertToMultiPoint(e):'MultiLineString'===e.getGeometryType()?this.convertToMultiLineString(e):'MultiPolygon'===e.getGeometryType()?this.convertToMultiPolygon(e):'GeometryCollection'===e.getGeometryType()?this.convertToCollection(e):void 0}convertToPoint(e){return new this.ol.geom.Point([e.x,e.y])}convertToLineString(e){const t=e._points._coordinates.map(n);return new this.ol.geom.LineString(t)}convertToLinearRing(e){const t=e._points._coordinates.map(n);return new this.ol.geom.LinearRing(t)}convertToPolygon(e){const t=[e._shell._points._coordinates.map(n)];for(let o=0;o<e._holes.length;o++)t.push(e._holes[o]._points._coordinates.map(n));return new this.ol.geom.Polygon(t)}convertToMultiPoint(e){return new this.ol.geom.MultiPoint(e.getCoordinates().map(n))}convertToMultiLineString(e){const t=[];for(let o=0;o<e._geometries.length;o++)t.push(this.convertToLineString(e._geometries[o]).getCoordinates());return new this.ol.geom.MultiLineString(t)}convertToMultiPolygon(e){const t=[];for(let o=0;o<e._geometries.length;o++)t.push(this.convertToPolygon(e._geometries[o]).getCoordinates());return new this.ol.geom.MultiPolygon(t)}convertToCollection(e){const t=[];for(let o=0;o<e._geometries.length;o++){const n=e._geometries[o];t.push(this.write(n))}return new this.ol.geom.GeometryCollection(t)}}},function(e,t){'use strict';t.a=function(){}},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}isInBoundary(){}getClass(){return o}get interfaces_(){return[]}}t.a=o;class n{constructor(){n.constructor_.apply(this,arguments)}isInBoundary(e){return 1==e%2}getClass(){return n}get interfaces_(){return[o]}}n.constructor_=function(){};class a{constructor(){a.constructor_.apply(this,arguments)}isInBoundary(e){return 0<e}getClass(){return a}get interfaces_(){return[o]}}a.constructor_=function(){};class i{constructor(){i.constructor_.apply(this,arguments)}isInBoundary(e){return 1<e}getClass(){return i}get interfaces_(){return[o]}}i.constructor_=function(){};class r{constructor(){r.constructor_.apply(this,arguments)}isInBoundary(e){return 1===e}getClass(){return r}get interfaces_(){return[o]}}r.constructor_=function(){},o.Mod2BoundaryNodeRule=n,o.EndPointBoundaryNodeRule=a,o.MultiValentEndPointBoundaryNodeRule=i,o.MonoValentEndPointBoundaryNodeRule=r,o.constructor_=function(){},o.MOD2_BOUNDARY_RULE=new n,o.ENDPOINT_BOUNDARY_RULE=new a,o.MULTIVALENT_ENDPOINT_BOUNDARY_RULE=new i,o.MONOVALENT_ENDPOINT_BOUNDARY_RULE=new r,o.OGC_SFS_BOUNDARY_RULE=o.MOD2_BOUNDARY_RULE},function(e,t,o){'use strict';var a=o(3),i=o(32),r=o(1),s=o(0);class d extends s.a{constructor(){super(),d.constructor_.apply(this,arguments)}getCoordinate(e){return this.get(e)}addAll(){if(2===arguments.length&&'boolean'==typeof arguments[1]&&Object(a.a)(arguments[0],i.a)){const e=arguments[0],t=arguments[1];let o=!1;for(let n=e.iterator();n.hasNext();)this.add(n.next(),t),o=!0;return o}return super.addAll.apply(this,arguments)}clone(){const e=super.clone.call(this);for(let t=0;t<this.size();t++)e.add(t,this.get(t).clone());return e}toCoordinateArray(){return this.toArray(d.coordArrayType)}add(){if(1===arguments.length){const e=arguments[0];super.add.call(this,e)}else if(2===arguments.length){if(arguments[0]instanceof Array&&'boolean'==typeof arguments[1]){const e=arguments[0],t=arguments[1];return this.add(e,t,!0),!0}if(arguments[0]instanceof r.a&&'boolean'==typeof arguments[1]){const e=arguments[0],t=arguments[1];if(!t&&1<=this.size()){const t=this.get(this.size()-1);if(t.equals2D(e))return null}super.add.call(this,e)}else if(arguments[0]instanceof Object&&'boolean'==typeof arguments[1]){const e=arguments[0],t=arguments[1];return this.add(e,t),!0}}else if(3===arguments.length){if('boolean'==typeof arguments[2]&&arguments[0]instanceof Array&&'boolean'==typeof arguments[1]){const e=arguments[0],t=arguments[1],o=arguments[2];if(o)for(let o=0;o<e.length;o++)this.add(e[o],t);else for(let o=e.length-1;0<=o;o--)this.add(e[o],t);return!0}if('boolean'==typeof arguments[2]&&n(arguments[0])&&arguments[1]instanceof r.a){const e=arguments[0],t=arguments[1],o=arguments[2];if(!o){const o=this.size();if(0<o){if(0<e){const o=this.get(e-1);if(o.equals2D(t))return null}if(e<o){const o=this.get(e);if(o.equals2D(t))return null}}}super.add.call(this,e,t)}}else if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3];let a=1;o>n&&(a=-1);for(let r=o;r!==n;r+=a)this.add(e[r],t);return!0}}closeRing(){0<this.size()&&this.add(new r.a(this.get(0)),!1)}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){if(0===arguments.length);else if(1===arguments.length){const e=arguments[0];this.ensureCapacity(e.length),this.add(e,!0)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.ensureCapacity(e.length),this.add(e,t)}},d.coordArrayType=[].fill(null)},function(e,t){'use strict';function o(e){this.message=e||''}t.a=o;o.prototype=new Error,o.prototype.name='NoSuchElementException'},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}filter(){}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t){'use strict';function o(e){this.str=e}t.a=o,o.prototype.append=function(t){this.str+=t},o.prototype.setCharAt=function(e,t){this.str=this.str.substr(0,e)+t+this.str.substr(e+1)},o.prototype.toString=function(){return this.str}},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}static bufferDistanceError(e){return 1-c(s/2/e/2)}getEndCapStyle(){return this._endCapStyle}isSingleSided(){return this._isSingleSided}setQuadrantSegments(e){this._quadrantSegments=e,0===this._quadrantSegments&&(this._joinStyle=o.JOIN_BEVEL),0>this._quadrantSegments&&(this._joinStyle=o.JOIN_MITRE,this._mitreLimit=l(this._quadrantSegments)),0>=e&&(this._quadrantSegments=1),this._joinStyle!==o.JOIN_ROUND&&(this._quadrantSegments=o.DEFAULT_QUADRANT_SEGMENTS)}getJoinStyle(){return this._joinStyle}setJoinStyle(e){this._joinStyle=e}setSimplifyFactor(e){this._simplifyFactor=0>e?0:e}getSimplifyFactor(){return this._simplifyFactor}getQuadrantSegments(){return this._quadrantSegments}setEndCapStyle(e){this._endCapStyle=e}getMitreLimit(){return this._mitreLimit}setMitreLimit(e){this._mitreLimit=e}setSingleSided(e){this._isSingleSided=e}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){if(this._quadrantSegments=o.DEFAULT_QUADRANT_SEGMENTS,this._endCapStyle=o.CAP_ROUND,this._joinStyle=o.JOIN_ROUND,this._mitreLimit=o.DEFAULT_MITRE_LIMIT,this._isSingleSided=!1,this._simplifyFactor=o.DEFAULT_SIMPLIFY_FACTOR,0===arguments.length);else if(1===arguments.length){const e=arguments[0];this.setQuadrantSegments(e)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.setQuadrantSegments(e),this.setEndCapStyle(t)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3];this.setQuadrantSegments(e),this.setEndCapStyle(t),this.setJoinStyle(o),this.setMitreLimit(n)}},o.CAP_ROUND=1,o.CAP_FLAT=2,o.CAP_SQUARE=3,o.JOIN_ROUND=1,o.JOIN_MITRE=2,o.JOIN_BEVEL=3,o.DEFAULT_QUADRANT_SEGMENTS=8,o.DEFAULT_MITRE_LIMIT=5,o.DEFAULT_SIMPLIFY_FACTOR=0.01},function(e,t,o){'use strict';var n=o(9),a=o(3),i=o(1),r=o(31),s=o(38),d=o(191);class l{constructor(){l.constructor_.apply(this,arguments)}static isOnLine(){if(arguments[0]instanceof i.a&&Object(a.a)(arguments[1],r.a)){const e=arguments[0],t=arguments[1],o=new s.a,a=new i.a,r=new i.a,d=t.size();for(let n=1;n<d;n++)if(t.getCoordinate(n-1,a),t.getCoordinate(n,r),o.computeIntersection(e,a,r),o.hasIntersection())return!0;return!1}if(arguments[0]instanceof i.a&&arguments[1]instanceof Array){const e=arguments[0],t=arguments[1],o=new s.a;for(let n=1;n<t.length;n++){const a=t[n-1],i=t[n];if(o.computeIntersection(e,a,i),o.hasIntersection())return!0}return!1}}static locateInRing(e,t){return d.a.locatePointInRing(e,t)}static isInRing(e,t){return l.locateInRing(e,t)!==n.a.EXTERIOR}getClass(){return l}get interfaces_(){return[]}}t.a=l,l.constructor_=function(){}},function(e,t,o){'use strict';var n=o(190);class a extends n.a{constructor(){super(),a.constructor_.apply(this,arguments)}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){n.a.constructor_.call(this,'Projective point not representable on the Cartesian plane.')}},function(e,t,o){'use strict';var n=o(102),a=o(1),i=o(21);class r{constructor(){r.constructor_.apply(this,arguments)}static intersection(e,t,o,r){const s=e.y-t.y,d=t.x-e.x,l=e.x*t.y-t.x*e.y,p=o.y-r.y,_=r.x-o.x,g=o.x*r.y-r.x*o.y,c=s*_-p*d,u=(d*g-_*l)/c,y=(p*l-s*g)/c;if(i.a.isNaN(u)||i.a.isInfinite(u)||i.a.isNaN(y)||i.a.isInfinite(y))throw new n.a;return new a.a(u,y)}getY(){const e=this.y/this.w;if(i.a.isNaN(e)||i.a.isInfinite(e))throw new n.a;return e}getX(){const e=this.x/this.w;if(i.a.isNaN(e)||i.a.isInfinite(e))throw new n.a;return e}getCoordinate(){const e=new a.a;return e.x=this.getX(),e.y=this.getY(),e}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){if(this.x=null,this.y=null,this.w=null,0===arguments.length)this.x=0,this.y=0,this.w=1;else if(1===arguments.length){const e=arguments[0];this.x=e.x,this.y=e.y,this.w=1}else if(2===arguments.length){if('number'==typeof arguments[0]&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1];this.x=e,this.y=t,this.w=1}else if(arguments[0]instanceof r&&arguments[1]instanceof r){const e=arguments[0],t=arguments[1];this.x=e.y*t.w-t.y*e.w,this.y=t.x*e.w-e.x*t.w,this.w=e.x*t.y-t.x*e.y}else if(arguments[0]instanceof a.a&&arguments[1]instanceof a.a){const e=arguments[0],t=arguments[1];this.x=e.y-t.y,this.y=t.x-e.x,this.w=e.x*t.y-t.x*e.y}}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];this.x=e,this.y=t,this.w=o}else if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3],a=e.y-t.y,i=t.x-e.x,r=e.x*t.y-t.x*e.y,s=o.y-n.y,d=n.x-o.x,l=o.x*n.y-n.x*o.y;this.x=i*l-d*r,this.y=s*r-a*l,this.w=a*d-s*i}}},function(e,t,o){'use strict';var n=o(5),a=o(127),i=o(23);class r{constructor(){r.constructor_.apply(this,arguments)}static segmentToSegment(e,t,o,n){if(e.equals(t))return r.pointToSegment(e,o,n);if(o.equals(n))return r.pointToSegment(n,e,t);let d=!1;if(!i.a.intersects(e,t,o,n))d=!0;else{const a=(t.x-e.x)*(n.y-o.y)-(t.y-e.y)*(n.x-o.x);if(0==a)d=!0;else{const i=(e.y-o.y)*(n.x-o.x)-(e.x-o.x)*(n.y-o.y),l=(e.y-o.y)*(t.x-e.x)-(e.x-o.x)*(t.y-e.y),p=l/a,s=i/a;(0>s||1<s||0>p||1<p)&&(d=!0)}}return d?a.a.min(r.pointToSegment(e,o,n),r.pointToSegment(t,o,n),r.pointToSegment(o,e,t),r.pointToSegment(n,e,t)):0}static pointToSegment(e,t,o){if(t.x===o.x&&t.y===o.y)return e.distance(t);const n=(o.x-t.x)*(o.x-t.x)+(o.y-t.y)*(o.y-t.y),a=((e.x-t.x)*(o.x-t.x)+(e.y-t.y)*(o.y-t.y))/n;if(0>=a)return e.distance(t);if(1<=a)return e.distance(o);const i=((t.y-e.y)*(o.x-t.x)-(t.x-e.x)*(o.y-t.y))/n;return l(i)*N(n)}static pointToLinePerpendicular(e,t,o){const n=(o.x-t.x)*(o.x-t.x)+(o.y-t.y)*(o.y-t.y),a=((t.y-e.y)*(o.x-t.x)-(t.x-e.x)*(o.y-t.y))/n;return l(a)*N(n)}static pointToSegmentString(e,t){if(0===t.length)throw new n.a('Line array must contain at least one vertex');let o=e.distance(t[0]);for(let n=0;n<t.length-1;n++){const a=r.pointToSegment(e,t[n],t[n+1]);a<o&&(o=a)}return o}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){}},function(e,t,o){'use strict';var n=o(9),a=o(1),i=o(106),r=o(320),s=o(17),d=o(194),l=o(28),p=o(0),_=o(84),g=o(195);class c{constructor(){c.constructor_.apply(this,arguments)}static linkResultDirectedEdges(e){for(let t=e.iterator();t.hasNext();){const e=t.next();e.getEdges().linkResultDirectedEdges()}}printEdges(t){t.println('Edges:');for(let o=0;o<this._edges.size();o++){t.println('edge '+o+':');const n=this._edges.get(o);n.print(t),n.eiList.print(t)}}find(e){return this._nodes.find(e)}addNode(){if(arguments[0]instanceof i.a){const e=arguments[0];return this._nodes.addNode(e)}if(arguments[0]instanceof a.a){const e=arguments[0];return this._nodes.addNode(e)}}getNodeIterator(){return this._nodes.iterator()}linkResultDirectedEdges(){for(let e=this._nodes.iterator();e.hasNext();){const t=e.next();t.getEdges().linkResultDirectedEdges()}}debugPrintln(e){l.a.out.println(e)}isBoundaryNode(e,t){const o=this._nodes.find(t);if(null===o)return!1;const a=o.getLabel();return null!==a&&a.getLocation(e)===n.a.BOUNDARY}linkAllDirectedEdges(){for(let e=this._nodes.iterator();e.hasNext();){const t=e.next();t.getEdges().linkAllDirectedEdges()}}matchInSameDirection(e,t,o,n){return!!e.equals(o)&&s.a.index(e,t,n)===s.a.COLLINEAR&&_.a.quadrant(e,t)===_.a.quadrant(o,n)}getEdgeEnds(){return this._edgeEndList}debugPrint(e){l.a.out.print(e)}getEdgeIterator(){return this._edges.iterator()}findEdgeInSameDirection(t,o){for(let n=0;n<this._edges.size();n++){const a=this._edges.get(n),e=a.getCoordinates();if(this.matchInSameDirection(t,o,e[0],e[1]))return a;if(this.matchInSameDirection(t,o,e[e.length-1],e[e.length-2]))return a}return null}insertEdge(t){this._edges.add(t)}findEdgeEnd(t){for(let e=this.getEdgeEnds().iterator();e.hasNext();){const o=e.next();if(o.getEdge()===t)return o}return null}addEdges(e){for(let t=e.iterator();t.hasNext();){const o=t.next();this._edges.add(o);const e=new d.a(o,!0),n=new d.a(o,!1);e.setSym(n),n.setSym(e),this.add(e),this.add(n)}}add(t){this._nodes.add(t),this._edgeEndList.add(t)}getNodes(){return this._nodes.values()}findEdge(t,o){for(let n=0;n<this._edges.size();n++){const a=this._edges.get(n),e=a.getCoordinates();if(t.equals(e[0])&&o.equals(e[1]))return a}return null}getClass(){return c}get interfaces_(){return[]}}t.a=c,c.constructor_=function(){if(this._edges=new p.a,this._nodes=null,this._edgeEndList=new p.a,0===arguments.length)this._nodes=new r.a(new g.a());else if(1===arguments.length){const e=arguments[0];this._nodes=new r.a(e)}}},function(e,t,o){'use strict';var a=o(9),i=o(29),r=o(193);class s extends r.a{constructor(){super(),s.constructor_.apply(this,arguments)}isIncidentEdgeInResult(){for(let e=this.getEdges().getEdges().iterator();e.hasNext();){const t=e.next();if(t.getEdge().isInResult())return!0}return!1}isIsolated(){return 1===this._label.getGeometryCount()}getCoordinate(){return this._coord}print(e){e.println('node '+this._coord+' lbl: '+this._label)}computeIM(){}computeMergedLocation(e,t){let o=a.a.NONE;if(o=this._label.getLocation(t),!e.isNull(t)){const n=e.getLocation(t);o!==a.a.BOUNDARY&&(o=n)}return o}setLabel(){if(2===arguments.length&&n(arguments[1])&&n(arguments[0])){const e=arguments[0],t=arguments[1];null===this._label?this._label=new i.a(e,t):this._label.setLocation(e,t)}else return super.setLabel.apply(this,arguments)}getEdges(){return this._edges}mergeLabel(){if(arguments[0]instanceof s){const e=arguments[0];this.mergeLabel(e._label)}else if(arguments[0]instanceof i.a){const e=arguments[0];for(let t=0;2>t;t++){const o=this.computeMergedLocation(e,t),n=this._label.getLocation(t);n===a.a.NONE&&this._label.setLocation(t,o)}}}add(t){this._edges.insert(t),t.setNode(this)}setLabelBoundary(e){if(null===this._label)return null;let t=a.a.NONE;null!==this._label&&(t=this._label.getLocation(e));let o=null;switch(t){case a.a.BOUNDARY:o=a.a.INTERIOR;break;case a.a.INTERIOR:o=a.a.BOUNDARY;break;default:o=a.a.BOUNDARY;}this._label.setLocation(e,o)}getClass(){return s}get interfaces_(){return[]}}t.a=s,s.constructor_=function(){this._coord=null,this._edges=null;const e=arguments[0],t=arguments[1];this._coord=e,this._edges=t,this._label=new i.a(0,a.a.NONE)}},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}visitItem(){}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t,o){'use strict';t.b=function(e){if(Array.isArray(e))for(var t=0,o=e.length;t<o;++t)Object(n.e)(e[t]);else Object(n.e)(e)};var n=o(11),a=o(87),i=o(7),r=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s=function(e){function t(){var t=e.call(this)||this;return t.revision_=0,t}return r(t,e),t.prototype.changed=function(){++this.revision_,this.dispatchEvent(i.a.CHANGE)},t.prototype.getRevision=function(){return this.revision_},t.prototype.on=function(e,t){if(Array.isArray(e)){for(var o=e.length,a=Array(o),r=0;r<o;++r)a[r]=Object(n.a)(this,e[r],t);return a}return Object(n.a)(this,e,t)},t.prototype.once=function(e,t){if(Array.isArray(e)){for(var o=e.length,a=Array(o),r=0;r<o;++r)a[r]=Object(n.b)(this,e[r],t);return a}return Object(n.b)(this,e,t)},t.prototype.un=function(e,t){if(Array.isArray(e)){for(var o=0,a=e.length;o<a;++o)Object(n.c)(this,e[o],t);return}Object(n.c)(this,e,t)},t}(a.a);t.a=s},function(e,t,o){'use strict';function n(e,t){var o;if(t!==void 0){for(var n=0,a=e.length;n<a;++n)t[n]=e[n];o=t}else o=e.slice();return o}function a(e,t){if(t!==void 0&&e!==t){for(var o=0,n=e.length;o<n;++o)t[o]=e[o];e=t}return e}function i(e){Object(x.a)(e.getCode(),e),Object(f.a)(e,e,n)}function r(e){e.forEach(i)}function s(e){return'string'==typeof e?Object(x.c)(e):e||null}function d(e){r(e),e.forEach(function(t){e.forEach(function(e){t!==e&&Object(f.a)(t,e,n)})})}function l(e,t,o,n){e.forEach(function(e){t.forEach(function(t){Object(f.a)(e,t,o),Object(f.a)(t,e,n)})})}function p(e,t){var o=e.getCode(),n=t.getCode(),i=Object(f.c)(o,n);return i||(i=a),i}t.a=s,t.b=function(e,t){var o=s(e),n=s(t);return p(o,n)};var _=o(145),g=o(2),c=o(14),u=o(229),y=o(230),m=o(110),h=o(71),f=o(231),x=o(232);(function(){d(u.a),d(y.a),l(y.a,u.a,u.b,u.c)})()},function(e,t,o){'use strict';var n=o(71),a=function(){function e(e){this.code_=e.code,this.units_=e.units,this.extent_=void 0===e.extent?null:e.extent,this.worldExtent_=void 0===e.worldExtent?null:e.worldExtent,this.axisOrientation_=void 0===e.axisOrientation?'enu':e.axisOrientation,this.global_=void 0!==e.global&&e.global,this.canWrapX_=!!(this.global_&&this.extent_),this.getPointResolutionFunc_=e.getPointResolution,this.defaultTileGrid_=null,this.metersPerUnit_=e.metersPerUnit}return e.prototype.canWrapX=function(){return this.canWrapX_},e.prototype.getCode=function(){return this.code_},e.prototype.getExtent=function(){return this.extent_},e.prototype.getUnits=function(){return this.units_},e.prototype.getMetersPerUnit=function(){return this.metersPerUnit_||n.a[this.units_]},e.prototype.getWorldExtent=function(){return this.worldExtent_},e.prototype.getAxisOrientation=function(){return this.axisOrientation_},e.prototype.isGlobal=function(){return this.global_},e.prototype.setGlobal=function(e){this.global_=e,this.canWrapX_=!!(e&&this.extent_)},e.prototype.getDefaultTileGrid=function(){return this.defaultTileGrid_},e.prototype.setDefaultTileGrid=function(e){this.defaultTileGrid_=e},e.prototype.setExtent=function(e){this.extent_=e,this.canWrapX_=!!(this.global_&&e)},e.prototype.setWorldExtent=function(e){this.worldExtent_=e},e.prototype.setGetPointResolution=function(e){this.getPointResolutionFunc_=e},e.prototype.getPointResolutionFunc=function(){return this.getPointResolutionFunc_},e}();t.a=a},function(e,t){'use strict';t.a={ADDFEATURE:'addfeature',CHANGEFEATURE:'changefeature',CLEAR:'clear',REMOVEFEATURE:'removefeature'}},function(e,t,o){'use strict';var n=o(6),a=o(146),i=o.n(a),r=o(2),s=o(12),d=function(){function e(e){this.rbush_=new i.a(e),this.items_={}}return e.prototype.insert=function(e,t){var o={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};this.rbush_.insert(o),this.items_[Object(n.c)(t)]=o},e.prototype.load=function(e,t){for(var o=Array(t.length),a=0,i=t.length;a<i;a++){var r=e[a],s=t[a],d={minX:r[0],minY:r[1],maxX:r[2],maxY:r[3],value:s};o[a]=d,this.items_[Object(n.c)(s)]=d}this.rbush_.load(o)},e.prototype.remove=function(e){var t=Object(n.c)(e),o=this.items_[t];return delete this.items_[t],null!==this.rbush_.remove(o)},e.prototype.update=function(e,t){var o=this.items_[Object(n.c)(t)],a=[o.minX,o.minY,o.maxX,o.maxY];Object(r.o)(a,e)||(this.remove(t),this.insert(e,t))},e.prototype.getAll=function(){var e=this.rbush_.all();return e.map(function(e){return e.value})},e.prototype.getInExtent=function(e){var t={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3]},o=this.rbush_.search(t);return o.map(function(e){return e.value})},e.prototype.forEach=function(e){return this.forEach_(this.getAll(),e)},e.prototype.forEachInExtent=function(e,t){return this.forEach_(this.getInExtent(e),t)},e.prototype.forEach_=function(e,t){for(var o=0,n=e.length,a;o<n;o++)if(a=t(e[o]),a)return a;return a},e.prototype.isEmpty=function(){return Object(s.d)(this.items_)},e.prototype.clear=function(){this.rbush_.clear(),this.items_={}},e.prototype.getExtent=function(e){var t=this.rbush_.toJSON();return Object(r.j)(t.minX,t.minY,t.maxX,t.maxY,e)},e.prototype.concat=function(e){for(var t in this.rbush_.load(e.rbush_.all()),e.items_)this.items_[t]=e.items_[t]},e}();t.a=d},function(e,t,o){'use strict';var n=o(147);o.d(t,'a',function(){return n.a});var a=o(117);o.d(t,'b',function(){return a.a});var i=o(237);o.d(t,'c',function(){return i.a});var r=o(149),s=o(116),d=o(148);o.d(t,'d',function(){return d.a});var l=o(150);o.d(t,'e',function(){return l.a});var p=o(53);o.d(t,'f',function(){return p.c});o(243)},function(e,t,o){'use strict';t.a=function(e){return Array.isArray(e)?Object(n.c)(e):e};var n=o(115)},function(e,t,o){'use strict';function i(e){var t=document.createElement('div');if(t.style.color=e,''!==t.style.color){document.body.appendChild(t);var o=getComputedStyle(t).color;return document.body.removeChild(t),o}return''}function n(e){var t,o,r,s,a;if(c.exec(e)&&(e=i(e)),_.exec(e)){var g=e.length-1,n=void 0;n=4>=g?1:2;var d=4==g||8==g;t=parseInt(e.substr(1+0*n,n),16),o=parseInt(e.substr(1+1*n,n),16),r=parseInt(e.substr(1+2*n,n),16),s=d?parseInt(e.substr(1+3*n,n),16):255,1==n&&(t=(t<<4)+t,o=(o<<4)+o,r=(r<<4)+r,d&&(s=(s<<4)+s)),a=[t,o,r,s/255]}else 0==e.indexOf('rgba(')?(a=e.slice(5,-1).split(',').map(Number),l(a)):0==e.indexOf('rgb(')?(a=e.slice(4,-1).split(',').map(Number),a.push(1),l(a)):Object(p.a)(!1,14);return a}function l(e){return e[0]=Object(r.a)(0|e[0]+0.5,0,255),e[1]=Object(r.a)(0|e[1]+0.5,0,255),e[2]=Object(r.a)(0|e[2]+0.5,0,255),e[3]=Object(r.a)(e[3],0,1),e}function a(e){var t=e[0];t!=(0|t)&&(t=0|t+0.5);var o=e[1];o!=(0|o)&&(o=0|o+0.5);var n=e[2];n!=(0|n)&&(n=0|n+0.5);var i=e[3]===void 0?1:e[3];return'rgba('+t+','+o+','+n+','+i+')'}t.b=function(e){return'string'==typeof e?e:a(e)},t.a=function(e){return Array.isArray(e)?e:s(e)},t.c=a;var p=o(30),r=o(14),_=/^#([a-f0-9]{3}|[a-f0-9]{4}(?:[a-f0-9]{2}){0,2})$/i,c=/^([a-z]*)$/i,s=function(){var e={},t=0;return function(o){var a;if(e.hasOwnProperty(o))a=e[o];else{if(t>=1024){var r=0;for(var i in e)0==(3&r++)&&(delete e[i],--t)}a=n(o),e[o]=a,++t}return a}}()},function(e,t,o){'use strict';var n=o(6),a=function(){function e(e){this.opacity_=e.opacity,this.rotateWithView_=e.rotateWithView,this.rotation_=e.rotation,this.scale_=e.scale}return e.prototype.clone=function(){return new e({opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},e.prototype.getOpacity=function(){return this.opacity_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getAnchor=function(){return Object(n.b)()},e.prototype.getImage=function(){return Object(n.b)()},e.prototype.getHitDetectionImage=function(){return Object(n.b)()},e.prototype.getImageState=function(){return Object(n.b)()},e.prototype.getImageSize=function(){return Object(n.b)()},e.prototype.getHitDetectionImageSize=function(){return Object(n.b)()},e.prototype.getOrigin=function(){return Object(n.b)()},e.prototype.getSize=function(){return Object(n.b)()},e.prototype.setOpacity=function(e){this.opacity_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e},e.prototype.listenImageChange=function(){return Object(n.b)()},e.prototype.load=function(){Object(n.b)()},e.prototype.unlistenImageChange=function(){Object(n.b)()},e}();t.a=a},function(e,t){'use strict';var o=function(){function e(e){var t=e||{};this.color_=void 0===t.color?null:t.color}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0})},e.prototype.getColor=function(){return this.color_},e.prototype.setColor=function(e){this.color_=e},e}();t.a=o},function(e,t,o){'use strict';o.d(t,'b',function(){return a}),o.d(t,'e',function(){return i}),o.d(t,'f',function(){return r}),o.d(t,'d',function(){return s}),o.d(t,'a',function(){return d}),o.d(t,'c',function(){return l});var n='undefined'==typeof navigator?'':navigator.userAgent.toLowerCase(),a=-1!==n.indexOf('firefox'),i=-1!==n.indexOf('safari')&&-1==n.indexOf('chrom'),r=-1!==n.indexOf('webkit')&&-1==n.indexOf('edge'),s=-1!==n.indexOf('macintosh'),d=window.devicePixelRatio||1,l='undefined'!=typeof Image&&Image.prototype.decode},function(e,t,o){'use strict';var n=o(6),a=o(26),i=o(2),r=o(72),s=o(109),d=o(71),l=o(52),p=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_=Object(l.c)(),g=function(e){function t(){var t=e.call(this)||this;return t.extent_=Object(i.i)(),t.extentRevision_=-1,t.simplifiedGeometryCache={},t.simplifiedGeometryMaxMinSquaredTolerance=0,t.simplifiedGeometryRevision=0,t}return p(t,e),t.prototype.clone=function(){return Object(n.b)()},t.prototype.closestPointXY=function(){return Object(n.b)()},t.prototype.containsXY=function(e,t){var o=this.getClosestPoint([e,t]);return o[0]===e&&o[1]===t},t.prototype.getClosestPoint=function(e,t){var o=t?t:[NaN,NaN];return this.closestPointXY(e[0],e[1],o,Infinity),o},t.prototype.intersectsCoordinate=function(e){return this.containsXY(e[0],e[1])},t.prototype.computeExtent=function(){return Object(n.b)()},t.prototype.getExtent=function(e){return this.extentRevision_!=this.getRevision()&&(this.extent_=this.computeExtent(this.extent_),this.extentRevision_=this.getRevision()),Object(i.D)(this.extent_,e)},t.prototype.rotate=function(){Object(n.b)()},t.prototype.scale=function(){Object(n.b)()},t.prototype.simplify=function(e){return this.getSimplifiedGeometry(e*e)},t.prototype.getSimplifiedGeometry=function(){return Object(n.b)()},t.prototype.getType=function(){return Object(n.b)()},t.prototype.applyTransform=function(){Object(n.b)()},t.prototype.intersectsExtent=function(){return Object(n.b)()},t.prototype.translate=function(){Object(n.b)()},t.prototype.transform=function(e,t){var o=Object(s.a)(e),n=o.getUnits()==d.b.TILE_PIXELS?function(e,n,a){var d=o.getExtent(),p=o.getWorldExtent(),g=Object(i.x)(p)/Object(i.x)(d);return Object(l.b)(_,p[0],p[3],g,-g,0,0,0),Object(r.c)(e,0,e.length,a,_,n),Object(s.b)(o,t)(e,n,a)}:Object(s.b)(o,t);return this.applyTransform(n),this},t}(a.a);t.a=g},function(e,t,o){'use strict';var n=o(15),a=o(2),i=o(55),r=o(8),s=o(33),d=o(73),l=o(34),p=o(43),_=o(154),g=o(90),c=o(156),u=o(155),y=o(56),m=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),h=function(e){function t(t,o){var n=e.call(this)||this;return n.flatMidpoint_=null,n.flatMidpointRevision_=-1,n.maxDelta_=-1,n.maxDeltaRevision_=-1,void 0===o||Array.isArray(t[0])?n.setCoordinates(t,o):n.setFlatCoordinates(o,t),n}return m(t,e),t.prototype.appendCoordinate=function(e){this.flatCoordinates?Object(n.c)(this.flatCoordinates,e):this.flatCoordinates=e.slice(),this.changed()},t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout)},t.prototype.closestPointXY=function(e,t,o,n){return n<Object(a.e)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=N(Object(d.e)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(d.d)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,this.maxDelta_,!1,e,t,o,n))},t.prototype.forEachSegment=function(e){return Object(u.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.getCoordinateAtM=function(e,t){if(this.layout!=i.a.XYM&&this.layout!=i.a.XYZM)return null;return Object(_.b)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,void 0!==t&&t)},t.prototype.getCoordinates=function(){return Object(p.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getCoordinateAt=function(e,t){return Object(_.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,t)},t.prototype.getLength=function(){return Object(c.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getFlatMidpoint=function(){return this.flatMidpointRevision_!=this.getRevision()&&(this.flatMidpoint_=this.getCoordinateAt(0.5,this.flatMidpoint_),this.flatMidpointRevision_=this.getRevision()),this.flatMidpoint_},t.prototype.getSimplifiedGeometryInternal=function(e){var o=[];return o.length=Object(y.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e,o,0),new t(o,i.a.XY)},t.prototype.getType=function(){return r.a.LINE_STRING},t.prototype.intersectsExtent=function(e){return Object(g.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(l.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(s.a);t.a=h},function(e,t,o){'use strict';var n=o(15),a=o(2),i=o(8),r=o(44),s=o(33),d=o(34),l=o(43),p=o(14),_=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g=function(e){function t(t,o){var n=e.call(this)||this;return o&&!Array.isArray(t[0])?n.setFlatCoordinates(o,t):n.setCoordinates(t,o),n}return _(t,e),t.prototype.appendPoint=function(e){this.flatCoordinates?Object(n.c)(this.flatCoordinates,e.getFlatCoordinates()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.changed()},t.prototype.clone=function(){var e=new t(this.flatCoordinates.slice(),this.layout);return e},t.prototype.closestPointXY=function(e,t,o,n){if(n<Object(a.e)(this.getExtent(),e,t))return n;for(var r=this.flatCoordinates,s=this.stride,d=0,i=r.length,l;d<i;d+=s)if(l=Object(p.e)(e,t,r[d],r[d+1]),l<n){n=l;for(var _=0;_<s;++_)o[_]=r[d+_];o.length=s}return n},t.prototype.getCoordinates=function(){return Object(l.a)(this.flatCoordinates,0,this.flatCoordinates.length,this.stride)},t.prototype.getPoint=function(e){var t=this.flatCoordinates?this.flatCoordinates.length/this.stride:0;return 0>e||t<=e?null:new r.a(this.flatCoordinates.slice(e*this.stride,(e+1)*this.stride),this.layout)},t.prototype.getPoints=function(){for(var e=this.flatCoordinates,t=this.layout,o=this.stride,n=[],a=0,i=e.length,s;a<i;a+=o)s=new r.a(e.slice(a,a+o),t),n.push(s);return n},t.prototype.getType=function(){return i.a.MULTI_POINT},t.prototype.intersectsExtent=function(e){for(var t=this.flatCoordinates,o=this.stride,n=0,i=t.length;n<i;n+=o){var r=t[n],s=t[n+1];if(Object(a.g)(e,r,s))return!0}return!1},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,1),this.flatCoordinates||(this.flatCoordinates=[]),this.flatCoordinates.length=Object(d.b)(this.flatCoordinates,0,e,this.stride),this.changed()},t}(s.a);t.a=g},function(e,t){'use strict';function o(e,t,o,n){for(var a=0,i=e[o-n],r=e[o-n+1];t<o;t+=n){var s=e[t],d=e[t+1];a+=r*s-i*d,i=s,r=d}return a/2}function n(e,t,n,a){for(var r=0,s=0,i=n.length,d;s<i;++s)d=n[s],r+=o(e,t,d,a),t=d;return r}t.a=o,t.b=n,t.c=function(e,t,o,a){for(var r=0,s=0,i=o.length,d;s<i;++s)d=o[s],r+=n(e,t,d,a),t=d[d.length-1];return r}},function(e,t,o){'use strict';var n=o(69),a=o(264),i=o(165),r=o(166),s=o(167),d=o(169),l=o(171),p=o(172),_=o(173),g=o(174),c=o(175),u=o(19),y=o(268),m=o(170),h=o(269),f=o(270);o.d(t,'a',function(){return f.a});var x=o(276),I=o(35),E=o(277);o.d(t,'b',function(){return E.a});var C=o(20);o.d(t,'c',function(){return C.b});var N=o(126);o.d(t,'d',function(){return N.a});var T=o(278);o.d(t,'e',function(){return T.a});o(279)},function(e,t){'use strict';function o(e){return I(e,3)}t.a=function(e){return 1-o(1-e)},t.b=function(e){return e}},function(e,t){'use strict';t.a={ACTIVE:'active'}},function(e,t,o){'use strict';function n(e){if(!this.condition_(e))return!0;var t=this.addCondition_(e),o=this.removeCondition_(e),n=this.toggleCondition_(e),a=e.map,r=this.getFeatures(),d=[],l=[];if(!t&&!o&&!n){Object(y.b)(this.featureLayerAssociation_),a.forEachFeatureAtPixel(e.pixel,function(e,t){if(this.filter_(e,t))return l.push(e),this.addFeatureLayerAssociation_(e,t),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var _=r.getLength()-1;0<=_;--_){var i=r.item(_),g=l.indexOf(i);-1<g?l.splice(g,1):(r.remove(i),d.push(i))}0!==l.length&&r.extend(l)}else{a.forEachFeatureAtPixel(e.pixel,function(e,a){if(this.filter_(e,a))return(t||n)&&!Object(s.d)(r.getArray(),e)?(l.push(e),this.addFeatureLayerAssociation_(e,a)):(o||n)&&Object(s.d)(r.getArray(),e)&&(d.push(e),this.removeFeatureLayerAssociation_(e)),!this.multi_}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_});for(var c=d.length-1;0<=c;--c)r.remove(d[c]);r.extend(l)}return(0<l.length||0<d.length)&&this.dispatchEvent(new I(x.SELECT,l,d,e)),Object(p.j)(e)}function a(){var e=Object(h.b)();return Object(s.c)(e[g.a.POLYGON],e[g.a.LINE_STRING]),Object(s.c)(e[g.a.GEOMETRY_COLLECTION],e[g.a.LINE_STRING]),function(t){return t.getGeometry()?e[t.getGeometry().getType()]:null}}var i=o(6),r=o(70),s=o(15),d=o(11),l=o(18),p=o(19),_=o(13),g=o(8),c=o(35),u=o(57),y=o(12),m=o(41),h=o(53),f=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),x={SELECT:'select'},I=function(e){function t(t,o,n,a){var i=e.call(this,t)||this;return i.selected=o,i.deselected=n,i.mapBrowserEvent=a,i}return f(t,e),t}(l.a),E=function(e){function t(t){var o=e.call(this,{handleEvent:n})||this,i=t?t:{};o.condition_=i.condition?i.condition:p.m,o.addCondition_=i.addCondition?i.addCondition:p.h,o.removeCondition_=i.removeCondition?i.removeCondition:p.h,o.toggleCondition_=i.toggleCondition?i.toggleCondition:p.l,o.multi_=!!i.multi&&i.multi,o.filter_=i.filter?i.filter:_.b,o.hitTolerance_=i.hitTolerance?i.hitTolerance:0;var l=new u.a({source:new m.a({useSpatialIndex:!1,features:i.features,wrapX:i.wrapX}),style:i.style?i.style:a(),updateWhileAnimating:!0,updateWhileInteracting:!0});o.featureOverlay_=l;var g;if(!i.layers)g=_.b;else if('function'==typeof i.layers)g=i.layers;else{var c=i.layers;g=function(e){return Object(s.d)(c,e)}}o.layerFilter_=g,o.featureLayerAssociation_={};var y=o.getFeatures();return Object(d.a)(y,r.a.ADD,o.addFeature_,o),Object(d.a)(y,r.a.REMOVE,o.removeFeature_,o),o}return f(t,e),t.prototype.addFeatureLayerAssociation_=function(e,t){this.featureLayerAssociation_[Object(i.c)(e)]=t},t.prototype.getFeatures=function(){return this.featureOverlay_.getSource().getFeaturesCollection()},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.getLayer=function(e){return this.featureLayerAssociation_[Object(i.c)(e)]},t.prototype.getOverlay=function(){return this.featureOverlay_},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(t){var o=this.getMap(),n=this.getFeatures();o&&n.forEach(o.unskipFeature.bind(o)),e.prototype.setMap.call(this,t),this.featureOverlay_.setMap(t),t&&n.forEach(t.skipFeature.bind(t))},t.prototype.addFeature_=function(e){var t=this.getMap();t&&t.skipFeature(e.element)},t.prototype.removeFeature_=function(e){var t=this.getMap();t&&t.unskipFeature(e.element)},t.prototype.removeFeatureLayerAssociation_=function(e){delete this.featureLayerAssociation_[Object(i.c)(e)]},t}(c.a);t.a=E},function(e,t,o){'use strict';var a=o(21);class i{constructor(){i.constructor_.apply(this,arguments)}static log10(e){const t=_(e);return a.a.isInfinite(t)?t:a.a.isNaN(t)?t:t/i.LOG_10}static min(e,t,o,n){let a=e;return t<a&&(a=t),o<a&&(a=o),n<a&&(a=n),a}static clamp(){if('number'==typeof arguments[2]&&'number'==typeof arguments[0]&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1],o=arguments[2];return e<t?t:e>o?o:e}if(n(arguments[2])&&n(arguments[0])&&n(arguments[1])){const e=arguments[0],t=arguments[1],o=arguments[2];return e<t?t:e>o?o:e}}static wrap(e,t){return 0>e?t- -e%t:e%t}static max(){if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];let n=e;return t>n&&(n=t),o>n&&(n=o),n}if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3];let a=e;return t>a&&(a=t),o>a&&(a=o),n>a&&(a=n),a}}static average(e,t){return(e+t)/2}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){},i.LOG_10=2.302585092994046},function(e,t,o){'use strict';function n(){this.array_=[],arguments[0]instanceof a.a&&this.addAll(arguments[0])}t.a=n;var a=o(32),i=o(97),r=o(181),s=o(182);n.prototype=new s.a,n.prototype.contains=function(t){for(let o=0,e=this.array_.length;o<e;o++){const n=this.array_[o];if(n===t)return!0}return!1},n.prototype.add=function(e){return!this.contains(e)&&(this.array_.push(e),!0)},n.prototype.addAll=function(e){for(let t=e.iterator();t.hasNext();)this.add(t.next());return!0},n.prototype.remove=function(){throw new r.a},n.prototype.size=function(){return this.array_.length},n.prototype.isEmpty=function(){return 0===this.array_.length},n.prototype.toArray=function(){const e=[];for(let t=0,o=this.array_.length;t<o;t++)e.push(this.array_[t]);return e},n.prototype.iterator=function(){return new d(this)};const d=function(e){this.hashSet_=e,this.position_=0};d.prototype.next=function(){if(this.position_===this.hashSet_.size())throw new i.a;return this.hashSet_.array_[this.position_++]},d.prototype.hasNext=function(){return!!(this.position_<this.hashSet_.size())},d.prototype.remove=function(){throw new r.a}},function(e,t,o){'use strict';function n(){}t.a=n;var a=o(0);n.sort=function(){const e=arguments[0];let o,n,t,a;if(1===arguments.length)a=function(e,t){return e.compareTo(t)},e.sort(a);else if(2===arguments.length)t=arguments[1],a=function(e,o){return t.compare(e,o)},e.sort(a);else if(3===arguments.length){n=e.slice(arguments[1],arguments[2]),n.sort();const t=e.slice(0,arguments[1]).concat(n,e.slice(arguments[2],e.length));for(e.splice(0,e.length),o=0;o<t.length;o++)e.push(t[o])}else if(4===arguments.length){n=e.slice(arguments[1],arguments[2]),t=arguments[3],a=function(e,o){return t.compare(e,o)},n.sort(a);const i=e.slice(0,arguments[1]).concat(n,e.slice(arguments[2],e.length));for(e.splice(0,e.length),o=0;o<i.length;o++)e.push(i[o])}},n.asList=function(e){const t=new a.a;for(let o=0,n=e.length;o<n;o++)t.add(e[o]);return t}},function(e,t,o){'use strict';var n=o(3),a=o(296),r=o(21),i=o(31),s=o(80);class d{constructor(){d.constructor_.apply(this,arguments)}static copyCoord(e,t,o,n){const a=C(e.getDimension(),o.getDimension());for(let i=0;i<a;i++)o.setOrdinate(n,i,e.getOrdinate(t,i))}static isRing(e){const t=e.size();return!(0!==t)||!(3>=t)&&e.getOrdinate(0,i.a.X)===e.getOrdinate(t-1,i.a.X)&&e.getOrdinate(0,i.a.Y)===e.getOrdinate(t-1,i.a.Y)}static isEqual(e,t){const o=e.size(),n=t.size();if(o!==n)return!1;const a=C(e.getDimension(),t.getDimension());for(let n=0;n<o;n++)for(let o=0;o<a;o++){const a=e.getOrdinate(n,o),i=t.getOrdinate(n,o);if(e.getOrdinate(n,o)!==t.getOrdinate(n,o)&&!(r.a.isNaN(a)&&r.a.isNaN(i)))return!1}return!0}static extend(e,t,o){const a=e.create(o,t.getDimension()),r=t.size();if(d.copy(t,0,a,0,r),0<r)for(let e=r;e<o;e++)d.copy(t,r-1,a,e,1);return a}static reverse(e){const t=e.size()-1,o=u(t/2);for(let n=0;n<=o;n++)d.swap(e,n,t-n)}static swap(e,t,o){if(t===o)return null;for(let n=0;n<e.getDimension();n++){const a=e.getOrdinate(t,n);e.setOrdinate(t,n,e.getOrdinate(o,n)),e.setOrdinate(o,n,a)}}static copy(e,t,o,n,a){for(let r=0;r<a;r++)d.copyCoord(e,t+r,o,n+r)}static toString(){if(1===arguments.length&&Object(n.a)(arguments[0],i.a)){const e=arguments[0],t=e.size();if(0===t)return'()';const o=e.getDimension(),n=new s.a;n.append('(');for(let r=0;r<t;r++){0<r&&n.append(' ');for(let t=0;t<o;t++)0<t&&n.append(','),n.append(a.a.toString(e.getOrdinate(r,t)))}return n.append(')'),n.toString()}}static ensureValidRing(e,t){const o=t.size();if(0===o)return t;if(3>=o)return d.createClosedRing(e,t,4);const n=t.getOrdinate(0,i.a.X)===t.getOrdinate(o-1,i.a.X)&&t.getOrdinate(0,i.a.Y)===t.getOrdinate(o-1,i.a.Y);return n?t:d.createClosedRing(e,t,o+1)}static createClosedRing(e,t,o){const a=e.create(o,t.getDimension()),r=t.size();d.copy(t,0,a,0,r);for(let n=r;n<o;n++)d.copy(t,0,a,n,1);return a}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){}},function(e,t,o){'use strict';var a=o(3),r=o(1),i=o(5),s=o(21),d=o(31),l=o(22),p=o(80);class _{constructor(){_.constructor_.apply(this,arguments)}setOrdinate(e,t,o){switch(t){case d.a.X:this._coordinates[e].x=o;break;case d.a.Y:this._coordinates[e].y=o;break;case d.a.Z:this._coordinates[e].z=o;break;default:throw new i.a('invalid ordinateIndex');}}size(){return this._coordinates.length}getOrdinate(e,t){return t===d.a.X?this._coordinates[e].x:t===d.a.Y?this._coordinates[e].y:t===d.a.Z?this._coordinates[e].z:s.a.NaN}getCoordinate(){if(1===arguments.length){const e=arguments[0];return this._coordinates[e]}if(2===arguments.length){const e=arguments[0],t=arguments[1];t.x=this._coordinates[e].x,t.y=this._coordinates[e].y,t.z=this._coordinates[e].z}}getCoordinateCopy(e){return new r.a(this._coordinates[e])}getDimension(){return this._dimension}getX(e){return this._coordinates[e].x}expandEnvelope(e){for(let t=0;t<this._coordinates.length;t++)e.expandToInclude(this._coordinates[t]);return e}copy(){const e=Array(this.size()).fill(null);for(let t=0;t<this._coordinates.length;t++)e[t]=this._coordinates[t].copy();return new _(e,this._dimension)}toString(){if(0<this._coordinates.length){const e=new p.a(17*this._coordinates.length);e.append('('),e.append(this._coordinates[0]);for(let t=1;t<this._coordinates.length;t++)e.append(', '),e.append(this._coordinates[t]);return e.append(')'),e.toString()}return'()'}getY(e){return this._coordinates[e].y}toCoordinateArray(){return this._coordinates}getClass(){return _}get interfaces_(){return[d.a,l.a]}}t.a=_,_.constructor_=function(){if(this._dimension=3,this._coordinates=null,1===arguments.length){if(arguments[0]instanceof Array){const e=arguments[0];_.constructor_.call(this,e,3)}else if(n(arguments[0])){const e=arguments[0];this._coordinates=Array(e).fill(null);for(let t=0;t<e;t++)this._coordinates[t]=new r.a}else if(Object(a.a)(arguments[0],d.a)){const e=arguments[0];if(null===e)return this._coordinates=[].fill(null),null;this._dimension=e.getDimension(),this._coordinates=Array(e.size()).fill(null);for(let t=0;t<this._coordinates.length;t++)this._coordinates[t]=e.getCoordinateCopy(t)}}else if(2===arguments.length)if(arguments[0]instanceof Array&&n(arguments[1])){const e=arguments[0],t=arguments[1];this._coordinates=e,this._dimension=t,null===e&&(this._coordinates=[].fill(null))}else if(n(arguments[0])&&n(arguments[1])){const e=arguments[0],t=arguments[1];this._coordinates=Array(e).fill(null),this._dimension=t;for(let t=0;t<e;t++)this._coordinates[t]=new r.a}},_.serialVersionUID=-915438501601840600},function(e,t,n){'use strict';var a=n(188),i=n(1),r=n(21),s=n(81),d=n(16),p=n(22);class c{constructor(){c.constructor_.apply(this,arguments)}static mostPrecise(e,t){return 0<=e.compareTo(t)?e:t}equals(e){if(!(e instanceof c))return!1;const t=e;return this._modelType===t._modelType&&this._scale===t._scale}compareTo(e){const t=this.getMaximumSignificantDigits(),o=e.getMaximumSignificantDigits();return new s.a(t).compareTo(new s.a(o))}getScale(){return this._scale}isFloating(){return this._modelType===c.FLOATING||this._modelType===c.FLOATING_SINGLE}getType(){return this._modelType}toString(){let e='UNKNOWN';return this._modelType===c.FLOATING?e='Floating':this._modelType===c.FLOATING_SINGLE?e='Floating-Single':this._modelType===c.FIXED&&(e='Fixed (Scale='+this.getScale()+')'),e}makePrecise(){if('number'==typeof arguments[0]){const e=arguments[0];if(r.a.isNaN(e))return e;if(this._modelType===c.FLOATING_SINGLE){return e}return this._modelType===c.FIXED?o(e*this._scale)/this._scale:e}if(arguments[0]instanceof i.a){const e=arguments[0];if(this._modelType===c.FLOATING)return null;e.x=this.makePrecise(e.x),e.y=this.makePrecise(e.y)}}getMaximumSignificantDigits(){let e=16;return this._modelType===c.FLOATING?e=16:this._modelType===c.FLOATING_SINGLE?e=6:this._modelType===c.FIXED&&(e=1+u(g(_(this.getScale())/2.302585092994046))),e}setScale(e){this._scale=l(e)}getClass(){return c}get interfaces_(){return[p.a,d.a]}}t.a=c;class y{constructor(){y.constructor_.apply(this,arguments)}readResolve(){return y.nameToTypeMap.get(this._name)}toString(){return this._name}getClass(){return y}get interfaces_(){return[p.a]}}y.constructor_=function(){this._name=null;const e=arguments[0];this._name=e,y.nameToTypeMap.put(e,this)},y.serialVersionUID=-5528602631731590000,y.nameToTypeMap=new a.a,c.Type=y,c.constructor_=function(){if(this._modelType=null,this._scale=null,0===arguments.length)this._modelType=c.FLOATING;else if(1===arguments.length)if(arguments[0]instanceof y){const e=arguments[0];this._modelType=e,e===c.FIXED&&this.setScale(1)}else if('number'==typeof arguments[0]){const e=arguments[0];this._modelType=c.FIXED,this.setScale(e)}else if(arguments[0]instanceof c){const e=arguments[0];this._modelType=e._modelType,this._scale=e._scale}},c.serialVersionUID=7777263578777804000,c.FIXED=new y('FIXED'),c.FLOATING=new y('FLOATING'),c.FLOATING_SINGLE=new y('FLOATING SINGLE'),c.maximumPreciseValue=9007199254740992},function(e,t,o){'use strict';var n=o(322),a=o(85),i=o(332),r=o(333),s=o(0),d=o(334);class l extends d.a{constructor(){super(),l.constructor_.apply(this,arguments)}getMonotoneChains(){return this._monoChains}getNodedSubstrings(){return a.a.getNodedSubstrings(this._nodedSegStrings)}getIndex(){return this._index}add(e){const t=r.a.getChains(e.getCoordinates(),e);for(let o=t.iterator();o.hasNext();){const e=o.next();e.setId(this._idCounter++),this._index.insert(e.getEnvelope(),e),this._monoChains.add(e)}}computeNodes(e){this._nodedSegStrings=e;for(let t=e.iterator();t.hasNext();)this.add(t.next());this.intersectChains()}intersectChains(){const e=new p(this._segInt);for(let t=this._monoChains.iterator();t.hasNext();){const o=t.next(),n=this._index.query(o.getEnvelope());for(let t=n.iterator();t.hasNext();){const n=t.next();if(n.getId()>o.getId()&&(o.computeOverlaps(n,e),this._nOverlaps++),this._segInt.isDone())return null}}}getClass(){return l}get interfaces_(){return[]}}t.a=l;class p extends i.a{constructor(){super(),p.constructor_.apply(this,arguments)}overlap(){if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3],a=e.getContext(),i=o.getContext();this._si.processIntersections(a,t,i,n)}else return super.overlap.apply(this,arguments)}getClass(){return p}get interfaces_(){return[]}}p.constructor_=function(){this._si=null;const e=arguments[0];this._si=e},l.SegmentOverlapAction=p,l.constructor_=function(){if(this._monoChains=new s.a,this._index=new n.a,this._idCounter=0,this._nodedSegStrings=null,this._nOverlaps=0,0===arguments.length);else if(1===arguments.length){const e=arguments[0];d.a.constructor_.call(this,e)}}},function(e,t,o){'use strict';var n=o(197),a=o(0),i=o(22),r=o(4);class s{constructor(){s.constructor_.apply(this,arguments)}getLevel(){return this._level}size(){return this._childBoundables.size()}getChildBoundables(){return this._childBoundables}addChildBoundable(e){r.a.isTrue(null===this._bounds),this._childBoundables.add(e)}isEmpty(){return this._childBoundables.isEmpty()}getBounds(){return null===this._bounds&&(this._bounds=this.computeBounds()),this._bounds}getClass(){return s}get interfaces_(){return[n.a,i.a]}}t.a=s,s.constructor_=function(){if(this._childBoundables=new a.a,this._bounds=null,this._level=null,0===arguments.length);else if(1===arguments.length){const e=arguments[0];this._level=e}},s.serialVersionUID=6493722185909574000},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}computeNodes(){}getNodedSubstrings(){}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}processIntersections(){}isDone(){}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t,o){'use strict';var n=o(347),a=o(349),i=o(350),r=o(10),s=o(1),d=o(29),l=o(23),p=o(80),_=o(352),g=o(193);class c extends g.a{constructor(){super(),c.constructor_.apply(this,arguments)}static updateIM(){if(2===arguments.length&&arguments[1]instanceof a.a&&arguments[0]instanceof d.a){const e=arguments[0],t=arguments[1];t.setAtLeastIfValid(e.getLocation(0,r.a.ON),e.getLocation(1,r.a.ON),1),e.isArea()&&(t.setAtLeastIfValid(e.getLocation(0,r.a.LEFT),e.getLocation(1,r.a.LEFT),2),t.setAtLeastIfValid(e.getLocation(0,r.a.RIGHT),e.getLocation(1,r.a.RIGHT),2))}else return super.updateIM.apply(this,arguments)}getDepth(){return this._depth}getCollapsedEdge(){const e=[,,].fill(null);e[0]=this.pts[0],e[1]=this.pts[1];const t=new c(e,d.a.toLineLabel(this._label));return t}isIsolated(){return this._isIsolated}getCoordinates(){return this.pts}setIsolated(e){this._isIsolated=e}setName(e){this._name=e}equals(t){if(!(t instanceof c))return!1;const o=t;if(this.pts.length!==o.pts.length)return!1;let e=!0,n=!0,a=this.pts.length;for(let r=0;r<this.pts.length;r++)if(this.pts[r].equals2D(o.pts[r])||(e=!1),this.pts[r].equals2D(o.pts[--a])||(n=!1),!e&&!n)return!1;return!0}getCoordinate(){if(0===arguments.length)return 0<this.pts.length?this.pts[0]:null;if(1===arguments.length){const e=arguments[0];return this.pts[e]}}print(e){e.print('edge '+this._name+': '),e.print('LINESTRING (');for(let t=0;t<this.pts.length;t++)0<t&&e.print(','),e.print(this.pts[t].x+' '+this.pts[t].y);e.print(')  '+this._label+' '+this._depthDelta)}computeIM(e){c.updateIM(this._label,e)}isCollapsed(){return!!this._label.isArea()&&!(3!==this.pts.length)&&!!this.pts[0].equals(this.pts[2])}isClosed(){return this.pts[0].equals(this.pts[this.pts.length-1])}getMaximumSegmentIndex(){return this.pts.length-1}getDepthDelta(){return this._depthDelta}getNumPoints(){return this.pts.length}printReverse(e){e.print('edge '+this._name+': ');for(let t=this.pts.length-1;0<=t;t--)e.print(this.pts[t]+' ');e.println('')}getMonotoneChainEdge(){return null===this._mce&&(this._mce=new i.a(this)),this._mce}getEnvelope(){if(null===this._env){this._env=new l.a;for(let e=0;e<this.pts.length;e++)this._env.expandToInclude(this.pts[e])}return this._env}addIntersection(e,t,o,n){const a=new s.a(e.getIntersection(n));let i=t,r=e.getEdgeDistance(o,n);const d=i+1;if(d<this.pts.length){const e=this.pts[d];a.equals2D(e)&&(i=d,r=0)}this.eiList.add(a,i,r)}toString(){const e=new p.a;e.append('edge '+this._name+': '),e.append('LINESTRING (');for(let t=0;t<this.pts.length;t++)0<t&&e.append(','),e.append(this.pts[t].x+' '+this.pts[t].y);return e.append(')  '+this._label+' '+this._depthDelta),e.toString()}isPointwiseEqual(t){if(this.pts.length!==t.pts.length)return!1;for(let e=0;e<this.pts.length;e++)if(!this.pts[e].equals2D(t.pts[e]))return!1;return!0}setDepthDelta(e){this._depthDelta=e}getEdgeIntersectionList(){return this.eiList}addIntersections(e,t,o){for(let n=0;n<e.getIntersectionNum();n++)this.addIntersection(e,t,o,n)}getClass(){return c}get interfaces_(){return[]}}t.a=c,c.constructor_=function(){if(this.pts=null,this._env=null,this.eiList=new n.a(this),this._name=null,this._mce=null,this._isIsolated=!0,this._depth=new _.a,this._depthDelta=0,1===arguments.length){const e=arguments[0];c.constructor_.call(this,e,null)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.pts=e,this._label=t}}},function(e,t,o){'use strict';var n=o(361),a=o(86);o.d(t,'a',function(){return a.a})},function(e,t,o){'use strict';var n=o(66),a=o(1),i=o(21),r=o(94);class s{constructor(){s.constructor_.apply(this,arguments)}getMin(){return this._min}intersects(e,t){return this._min>t||this._max<e?!1:!0}getMax(){return this._max}toString(){return n.a.toLineString(new a.a(this._min,0),new a.a(this._max,0))}getClass(){return s}get interfaces_(){return[]}}t.a=s;class d{constructor(){d.constructor_.apply(this,arguments)}compare(e,t){const o=e,n=t,a=(o._min+o._max)/2,i=(n._min+n._max)/2;return a<i?-1:a>i?1:0}getClass(){return d}get interfaces_(){return[r.a]}}d.constructor_=function(){},s.NodeComparator=d,s.constructor_=function(){this._min=i.a.POSITIVE_INFINITY,this._max=i.a.NEGATIVE_INFINITY}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=o(126),s=o(40),d=o(387),l=o(207),p=o.n(l),_=Object.assign||function(e){for(var t=1,o;t<arguments.length;t++)for(var n in o=arguments[t],o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);return e},g=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),c=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(n)},u=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,_({title:'TopoloyOp',className:'ole-control-topology',image:p.a},e)));return o.selectInteraction=new r.a({toggleCondition:function(){return!0},layers:o.layerFilter,hitTolerance:e.hitTolerance||10,multi:!0,style:e.style}),o.selectInteraction.on('select',function(){var e=o.selectInteraction.getFeatures();try{o.applyTopologyOperation(e.getArray())}catch(t){d.a.logError('Unable to process features.'),e.clear()}}),o}return i(t,e),g(t,[{key:'applyTopologyOperation',value:function(e){this.topologyFeatures=e}},{key:'activate',value:function(){this.map.addInteraction(this.selectInteraction),this.addedFeatures=[],c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'activate',this).call(this)}},{key:'deactivate',value:function(e){this.addedFeatures=[],this.map.removeInteraction(this.selectInteraction),c(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'deactivate',this).call(this,e)}}]),t}(s.a);t.a=u},function(e,t,o){'use strict';var n=o(6),a=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(e){function t(t){var o=this,a='latest'===n.a?n.a:'v'+n.a.split('-')[0],i='Assertion failed. See https://openlayers.org/en/'+a+'/doc/errors/#'+t+' for details.';return o=e.call(this,i)||this,o.code=t,o.name='AssertionError',o.message=i,o}return a(t,e),t}(Error);t.a=i},function(e,t){'use strict';t.a={PROPERTYCHANGE:'propertychange'}},function(e,t,o){'use strict';var n=o(13),a=o(217),i=o(26),r=o(39),s=o(11),d=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=function(e){function t(t){var o=e.call(this)||this;return o.element=t.element?t.element:null,o.target_=null,o.map_=null,o.listenerKeys=[],o.render=t.render?t.render:n.c,t.target&&o.setTarget(t.target),o}return d(t,e),t.prototype.disposeInternal=function(){Object(r.b)(this.element),e.prototype.disposeInternal.call(this)},t.prototype.getMap=function(){return this.map_},t.prototype.setMap=function(e){this.map_&&Object(r.b)(this.element);for(var t=0,o=this.listenerKeys.length;t<o;++t)Object(s.e)(this.listenerKeys[t]);if(this.listenerKeys.length=0,this.map_=e,this.map_){var i=this.target_?this.target_:e.getOverlayContainerStopEvent();i.appendChild(this.element),this.render!==n.c&&this.listenerKeys.push(Object(s.a)(e,a.a.POSTRENDER,this.render,this)),e.render()}},t.prototype.setTarget=function(e){this.target_='string'==typeof e?document.getElementById(e):e},t}(i.a);t.a=l},function(e,t){'use strict';t.a={UNKNOWN:0,INTERSECTING:1,ABOVE:2,RIGHT:4,BELOW:8,LEFT:16}},function(e,o,n){'use strict';o.a=function(e,o,n){var d=Object(i.h)(e[1]),l=Object(i.h)(o[1]),p=(l-d)/2,_=Object(i.h)(o[0]-e[0])/2,g=r(p)*r(p)+r(_)*r(_)*c(d)*c(l);return 2*(n||s)*t(N(g),N(1-g))},o.b=function(e,o,n,a){var d=Object(i.h)(e[1]),l=Object(i.h)(e[0]),p=o/(a||s),_=Math.asin(r(d)*c(p)+c(d)*r(p)*c(n)),g=l+t(r(n)*r(p)*c(d),c(p)-r(d)*r(_));return[Object(i.g)(g),Object(i.g)(_)]};var i=n(14),a=n(8),s=6371008.8;/**
 * @license
 * Latitude/longitude spherical geodesy formulae taken from
 * http://www.movable-type.co.uk/scripts/latlong.html
 * Licensed under CC-BY-3.0.
 */},function(e){!function(o,t){e.exports=t()}(this,function(){'use strict';function y(o,n,r,e,a){!function i(t,n,r,e,a){for(;e>r;){if(600<e-r){var g=e-r+1,o=n-r+1,s=_(g),l=.5*p(2*s/3),y=.5*N(s*l*(g-l)/g)*(0>o-g/2?-1:1),u=E(r,d(n-o*l/g+y)),m=C(e,d(n+(g-o)*l/g+y));i(t,n,u,m,a)}var c=t[n],h=r,f=e;for(T(t,r,n),0<a(t[e],c)&&T(t,r,e);h<f;){for(T(t,h,f),h++,f--;0>a(t[h],c);)h++;for(;0<a(t[f],c);)f--}0===a(t[r],c)?T(t,r,f):T(t,++f,e),f<=n&&(r=f+1),n<=f&&(e=f-1)}}(o,n,r||0,e||o.length-1,a||i)}function T(e,t,o){var n=e[t];e[t]=e[o],e[o]=n}function i(e,t){return e<t?-1:e>t?1:0}function n(e,t,o){if(!o)return t.indexOf(e);for(var a=0;a<t.length;a++)if(o(e,t[a]))return a;return-1}function x(e,t){S(e,0,e.children.length,t,e)}function S(o,t,i,n,r){r||(r=R(null)),r.minX=1/0,r.minY=1/0,r.maxX=-1/0,r.maxY=-1/0;for(var e=t,a;e<i;e++)a=o.children[e],L(r,o.leaf?n(a):a);return r}function L(e,t){return e.minX=C(e.minX,t.minX),e.minY=C(e.minY,t.minY),e.maxX=E(e.maxX,t.maxX),e.maxY=E(e.maxY,t.maxY),e}function o(e,t){return e.minX-t.minX}function a(e,t){return e.minY-t.minY}function O(e){return(e.maxX-e.minX)*(e.maxY-e.minY)}function h(e){return e.maxX-e.minX+(e.maxY-e.minY)}function u(e,t){return e.minX<=t.minX&&e.minY<=t.minY&&t.maxX<=e.maxX&&t.maxY<=e.maxY}function s(e,t){return t.minX<=e.maxX&&t.minY<=e.maxY&&t.maxX>=e.minX&&t.maxY>=e.minY}function R(e){return{children:e,height:1,leaf:!0,minX:1/0,minY:1/0,maxX:-1/0,maxY:-1/0}}function P(t,i,n,r,e){for(var a=[i,n];a.length;)if(!((n=a.pop())-(i=a.pop())<=r)){var s=i+g((n-i)/r/2)*r;y(t,s,i,n,e),a.push(i,s,s,n)}}var e=function(e){void 0===e&&(e=9),this._maxEntries=E(4,e),this._minEntries=E(2,g(.4*this._maxEntries)),this.clear()};return e.prototype.all=function(){return this._all(this.data,[])},e.prototype.search=function(d){var t=this.data,i=[];if(!s(d,t))return i;for(var n=this.toBBox,r=[];t;){for(var e=0;e<t.children.length;e++){var a=t.children[e],l=t.leaf?n(a):a;s(d,l)&&(t.leaf?i.push(a):u(d,l)?this._all(a,i):r.push(a))}t=r.pop()}return i},e.prototype.collides=function(o){var t=this.data;if(!s(o,t))return!1;for(var i=[];t;){for(var n=0;n<t.children.length;n++){var r=t.children[n],e=t.leaf?this.toBBox(r):r;if(s(o,e)){if(t.leaf||u(o,e))return!0;i.push(r)}}t=i.pop()}return!1},e.prototype.load=function(e){if(!e||!e.length)return this;if(e.length<this._minEntries){for(var o=0;o<e.length;o++)this.insert(e[o]);return this}var a=this._build(e.slice(),0,e.length-1,0);if(!this.data.children.length)this.data=a;else if(this.data.height===a.height)this._splitRoot(this.data,a);else{if(this.data.height<a.height){var n=this.data;this.data=a,a=n}this._insert(a,this.data.height-a.height-1,!0)}return this},e.prototype.insert=function(e){return e&&this._insert(e,this.data.height-1),this},e.prototype.clear=function(){return this.data=R([]),this},e.prototype.remove=function(e,d){if(!e)return this;for(var i=this.data,p=this.toBBox(e),o=[],s=[],l,_,r;i||o.length;){if(i||(i=o.pop(),_=o[o.length-1],l=s.pop(),r=!0),i.leaf){var a=n(e,i.children,d);if(-1!==a)return i.children.splice(a,1),o.push(i),this._condense(o),this}r||i.leaf||!u(i,p)?_?(l++,i=_.children[l],r=!1):i=null:(o.push(i),s.push(l),l=0,_=i,i=i.children[0])}return this},e.prototype.toBBox=function(e){return e},e.prototype.compareMinX=function(e,t){return e.minX-t.minX},e.prototype.compareMinY=function(e,t){return e.minY-t.minY},e.prototype.toJSON=function(){return this.data},e.prototype.fromJSON=function(e){return this.data=e,this},e.prototype._all=function(e,t){for(var o=[];e;)e.leaf?t.push.apply(t,e.children):o.push.apply(o,e.children),e=o.pop();return t},e.prototype._build=function(a,t,i,n){var r=i-t+1,d=this._maxEntries,o;if(r<=d)return x(o=R(a.slice(t,i+1)),this.toBBox),o;n||(n=g(_(r)/_(d)),d=g(r/I(d,n-1))),(o=R([])).leaf=!1,o.height=n;var e=g(r/d),s=e*g(N(d));P(a,t,i,s,this.compareMinX);for(var l=t,p;l<=i;l+=s){p=C(l+s-1,i),P(a,l,p,e,this.compareMinY);for(var u=l,y;u<=p;u+=e)y=C(u+e-1,p),o.children.push(this._build(a,u,y,n-1))}return x(o,this.toBBox),o},e.prototype._chooseSubtree=function(d,t,i,n){for(;n.push(t),!t.leaf&&n.length-1!==i;){for(var r=1/0,e=1/0,a=void 0,p=0;p<t.children.length;p++){var o=t.children[p],s=O(o),l=(_=d,g=o,(E(g.maxX,_.maxX)-C(g.minX,_.minX))*(E(g.maxY,_.maxY)-C(g.minY,_.minY))-s);l<e?(e=l,r=s<r?s:r,a=o):l==e&&s<r&&(r=s,a=o)}t=a||t.children[0]}var _,g;return t},e.prototype._insert=function(o,t,i){var n=i?o:this.toBBox(o),r=[],e=this._chooseSubtree(n,this.data,t,r);for(e.children.push(o),L(e,n);0<=t&&r[t].children.length>this._maxEntries;)this._split(r,t),t--;this._adjustParentBBoxes(n,r,t)},e.prototype._split=function(a,t){var i=a[t],n=i.children.length,r=this._minEntries;this._chooseSplitAxis(i,r,n);var e=this._chooseSplitIndex(i,r,n),s=R(i.children.splice(e,i.children.length-e));s.height=i.height,s.leaf=i.leaf,x(i,this.toBBox),x(s,this.toBBox),t?a[t-1].children.push(s):this._splitRoot(i,s)},e.prototype._splitRoot=function(e,t){this.data=R([e,t]),this.data.height=e.height+1,this.data.leaf=!1,x(this.data,this.toBBox)},e.prototype._chooseSplitIndex=function(_,t,i){for(var n=1/0,g=1/0,c=t,p,r,e,a,o,s,l;c<=i-t;c++){var u=S(_,0,c,this.toBBox),d=S(_,c,i,this.toBBox),y=(r=u,e=d,a=void 0,o=void 0,s=void 0,l=void 0,a=E(r.minX,e.minX),o=E(r.minY,e.minY),s=C(r.maxX,e.maxX),l=C(r.maxY,e.maxY),E(0,s-a)*E(0,l-o)),m=O(u)+O(d);y<n?(n=y,p=c,g=m<g?m:g):y==n&&m<g&&(g=m,p=c)}return p||i-t},e.prototype._chooseSplitAxis=function(s,t,i){var n=s.leaf?this.compareMinX:o,r=s.leaf?this.compareMinY:a;this._allDistMargin(s,t,i,n)<this._allDistMargin(s,t,i,r)&&s.children.sort(n)},e.prototype._allDistMargin=function(o,t,i,n){o.children.sort(n);for(var r=this.toBBox,e=S(o,0,t,r),a=S(o,i-t,i,r),s=h(e)+h(a),d=t,l;d<i-t;d++)l=o.children[d],L(e,o.leaf?r(l):l),s+=h(e);for(var _=i-t-1,g;_>=t;_--)g=o.children[_],L(a,o.leaf?r(g):g),s+=h(a);return s},e.prototype._adjustParentBBoxes=function(e,t,o){for(var n=o;0<=n;n--)L(t[n],e)},e.prototype._condense=function(e){for(var t=e.length-1,o=void 0;0<=t;t--)0===e[t].children.length?0<t?(o=e[t-1].children).splice(o.indexOf(e[t]),1):this.clear():x(e[t],this.toBBox)},e})},function(e,t,o){'use strict';var n=o(148),a=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(e){function t(t){var o=this,n=t?t:{};return o=e.call(this,{points:Infinity,fill:n.fill,radius:n.radius,stroke:n.stroke})||this,o}return a(t,e),t.prototype.clone=function(){var e=new t({fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,radius:this.getRadius()});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},t.prototype.setRadius=function(e){this.radius_=e,this.render()},t}(n.a);t.a=i},function(e,t,o){'use strict';var n=o(114),a=o(39),i=o(51),d=o(42),l=o(116),p=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_=function(e){function t(t){var o=this,n=void 0!==t.rotateWithView&&t.rotateWithView;return o=e.call(this,{opacity:1,rotateWithView:n,rotation:void 0===t.rotation?0:t.rotation,scale:1})||this,o.canvas_=null,o.hitDetectionCanvas_=null,o.fill_=void 0===t.fill?null:t.fill,o.origin_=[0,0],o.points_=t.points,o.radius_=void 0===t.radius?t.radius1:t.radius,o.radius2_=t.radius2,o.angle_=void 0===t.angle?0:t.angle,o.stroke_=void 0===t.stroke?null:t.stroke,o.anchor_=null,o.size_=null,o.imageSize_=null,o.hitDetectionImageSize_=null,o.render(),o}return p(t,e),t.prototype.clone=function(){var e=new t({fill:this.getFill()?this.getFill().clone():void 0,points:this.getPoints(),radius:this.getRadius(),radius2:this.getRadius2(),angle:this.getAngle(),stroke:this.getStroke()?this.getStroke().clone():void 0,rotation:this.getRotation(),rotateWithView:this.getRotateWithView()});return e.setOpacity(this.getOpacity()),e.setScale(this.getScale()),e},t.prototype.getAnchor=function(){return this.anchor_},t.prototype.getAngle=function(){return this.angle_},t.prototype.getFill=function(){return this.fill_},t.prototype.getHitDetectionImage=function(){return this.hitDetectionCanvas_},t.prototype.getImage=function(){return this.canvas_},t.prototype.getImageSize=function(){return this.imageSize_},t.prototype.getHitDetectionImageSize=function(){return this.hitDetectionImageSize_},t.prototype.getImageState=function(){return i.a.LOADED},t.prototype.getOrigin=function(){return this.origin_},t.prototype.getPoints=function(){return this.points_},t.prototype.getRadius=function(){return this.radius_},t.prototype.getRadius2=function(){return this.radius2_},t.prototype.getSize=function(){return this.size_},t.prototype.getStroke=function(){return this.stroke_},t.prototype.listenImageChange=function(){},t.prototype.load=function(){},t.prototype.unlistenImageChange=function(){},t.prototype.render=function(){var e=d.d,t=d.g,o=0,i=null,r=0,s=0,l;this.stroke_&&(l=this.stroke_.getColor(),null===l&&(l=d.k),l=Object(n.a)(l),s=this.stroke_.getWidth(),void 0===s&&(s=d.h),i=this.stroke_.getLineDash(),r=this.stroke_.getLineDashOffset(),t=this.stroke_.getLineJoin(),void 0===t&&(t=d.g),e=this.stroke_.getLineCap(),void 0===e&&(e=d.d),o=this.stroke_.getMiterLimit(),void 0===o&&(o=d.i));var p=2*(this.radius_+s)+1,_={strokeStyle:l,strokeWidth:s,size:p,lineCap:e,lineDash:i,lineDashOffset:r,lineJoin:t,miterLimit:o},g=Object(a.a)(p,p);this.canvas_=g.canvas,p=this.canvas_.width;var c=p;this.draw_(_,g,0,0),this.createHitDetectionCanvas_(_),this.anchor_=[p/2,p/2],this.size_=[p,p],this.imageSize_=[c,c]},t.prototype.draw_=function(e,t,o,a){var l,i,p;t.setTransform(1,0,0,1,0,0),t.translate(o,a),t.beginPath();var _=this.points_;if(_===Infinity)t.arc(e.size/2,e.size/2,this.radius_,0,2*s,!0);else{var g=void 0===this.radius2_?this.radius_:this.radius2_;for(g!==this.radius_&&(_=2*_),l=0;l<=_;l++)i=2*l*s/_-s/2+this.angle_,p=0==l%2?this.radius_:g,t.lineTo(e.size/2+p*c(i),e.size/2+p*r(i))}if(this.fill_){var u=this.fill_.getColor();null===u&&(u=d.b),t.fillStyle=Object(n.a)(u),t.fill()}this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,t.setLineDash&&e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.lineCap=e.lineCap,t.lineJoin=e.lineJoin,t.miterLimit=e.miterLimit,t.stroke()),t.closePath()},t.prototype.createHitDetectionCanvas_=function(e){if(this.hitDetectionImageSize_=[e.size,e.size],this.fill_)return void(this.hitDetectionCanvas_=this.canvas_);var t=Object(a.a)(e.size,e.size);this.hitDetectionCanvas_=t.canvas,this.drawHitDetectionCanvas_(e,t,0,0)},t.prototype.drawHitDetectionCanvas_=function(e,t,o,n){t.setTransform(1,0,0,1,0,0),t.translate(o,n),t.beginPath();var a=this.points_;if(a===Infinity)t.arc(e.size/2,e.size/2,this.radius_,0,2*s,!0);else{var l=void 0===this.radius2_?this.radius_:this.radius2_;l!==this.radius_&&(a=2*a);var p,i,_;for(p=0;p<=a;p++)_=2*p*s/a-s/2+this.angle_,i=0==p%2?this.radius_:l,t.lineTo(e.size/2+i*c(_),e.size/2+i*r(_))}t.fillStyle=d.b,t.fill(),this.stroke_&&(t.strokeStyle=e.strokeStyle,t.lineWidth=e.strokeWidth,e.lineDash&&(t.setLineDash(e.lineDash),t.lineDashOffset=e.lineDashOffset),t.stroke()),t.closePath()},t}(l.a);t.a=_},function(e,t,o){'use strict';t.a=function(e,t,o,n,a,i){var r=s.a.get(t,n,i);return r||(r=new p(e,t,o,n,a,i),s.a.set(t,n,i,r)),r};var n=o(39),a=o(87),i=o(7),r=o(51),s=o(239),d=o(240),l=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),p=function(e){function t(t,o,n,a,i,r){var s=e.call(this)||this;return s.hitDetectionImage_=null,s.image_=t?t:new Image,null!==a&&(s.image_.crossOrigin=a),s.canvas_=r?document.createElement('canvas'):null,s.color_=r,s.unlisten_=null,s.imageState_=i,s.size_=n,s.src_=o,s.tainted_,s}return l(t,e),t.prototype.isTainted_=function(){if(void 0===this.tainted_&&this.imageState_===r.a.LOADED){this.tainted_=!1;var e=Object(n.a)(1,1);try{e.drawImage(this.image_,0,0),e.getImageData(0,0,1,1)}catch(t){this.tainted_=!0}}return!0===this.tainted_},t.prototype.dispatchChangeEvent_=function(){this.dispatchEvent(i.a.CHANGE)},t.prototype.handleImageError_=function(){this.imageState_=r.a.ERROR,this.unlistenImage_(),this.dispatchChangeEvent_()},t.prototype.handleImageLoad_=function(){this.imageState_=r.a.LOADED,this.size_&&(this.image_.width=this.size_[0],this.image_.height=this.size_[1]),this.size_=[this.image_.width,this.image_.height],this.unlistenImage_(),this.replaceColor_(),this.dispatchChangeEvent_()},t.prototype.getImage=function(){return this.canvas_?this.canvas_:this.image_},t.prototype.getImageState=function(){return this.imageState_},t.prototype.getHitDetectionImage=function(){if(!this.hitDetectionImage_)if(this.isTainted_()){var e=this.size_[0],t=this.size_[1],o=Object(n.a)(e,t);o.fillRect(0,0,e,t),this.hitDetectionImage_=o.canvas}else this.hitDetectionImage_=this.image_;return this.hitDetectionImage_},t.prototype.getSize=function(){return this.size_},t.prototype.getSrc=function(){return this.src_},t.prototype.load=function(){if(this.imageState_==r.a.IDLE){this.imageState_=r.a.LOADING;try{this.image_.src=this.src_}catch(t){this.handleImageError_()}this.unlisten_=Object(d.a)(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this))}},t.prototype.replaceColor_=function(){if(this.color_&&!this.isTainted_()){this.canvas_.width=this.image_.width,this.canvas_.height=this.image_.height;var e=this.canvas_.getContext('2d');e.drawImage(this.image_,0,0);for(var t=e.getImageData(0,0,this.image_.width,this.image_.height),o=t.data,n=this.color_[0]/255,a=this.color_[1]/255,r=this.color_[2]/255,s=0,i=o.length;s<i;s+=4)o[s]*=n,o[s+1]*=a,o[s+2]*=r;e.putImageData(t,0,0)}},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(a.a)},function(e,t){'use strict';var o=function(){function e(e){var t=e||{};this.color_=void 0===t.color?null:t.color,this.lineCap_=t.lineCap,this.lineDash_=void 0===t.lineDash?null:t.lineDash,this.lineDashOffset_=t.lineDashOffset,this.lineJoin_=t.lineJoin,this.miterLimit_=t.miterLimit,this.width_=t.width}return e.prototype.clone=function(){var t=this.getColor();return new e({color:Array.isArray(t)?t.slice():t||void 0,lineCap:this.getLineCap(),lineDash:this.getLineDash()?this.getLineDash().slice():void 0,lineDashOffset:this.getLineDashOffset(),lineJoin:this.getLineJoin(),miterLimit:this.getMiterLimit(),width:this.getWidth()})},e.prototype.getColor=function(){return this.color_},e.prototype.getLineCap=function(){return this.lineCap_},e.prototype.getLineDash=function(){return this.lineDash_},e.prototype.getLineDashOffset=function(){return this.lineDashOffset_},e.prototype.getLineJoin=function(){return this.lineJoin_},e.prototype.getMiterLimit=function(){return this.miterLimit_},e.prototype.getWidth=function(){return this.width_},e.prototype.setColor=function(e){this.color_=e},e.prototype.setLineCap=function(e){this.lineCap_=e},e.prototype.setLineDash=function(e){this.lineDash_=e},e.prototype.setLineDashOffset=function(e){this.lineDashOffset_=e},e.prototype.setLineJoin=function(e){this.lineJoin_=e},e.prototype.setMiterLimit=function(e){this.miterLimit_=e},e.prototype.setWidth=function(e){this.width_=e},e}();t.a=o},function(e,t){'use strict';t.a={POINT:'point',LINE:'line'}},function(e,t,o){'use strict';var n=o(2),a=o(8),i=o(33),r=o(34),s=o(72),d=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=function(e){function t(t,o,n){var a=e.call(this)||this;if(void 0!==n&&void 0===o)a.setFlatCoordinates(n,t);else{var i=o?o:0;a.setCenterAndRadius(t,i,n)}return a}return d(t,e),t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),void 0,this.layout)},t.prototype.closestPointXY=function(e,t,o,n){var a=this.flatCoordinates,r=e-a[0],s=t-a[1],d=r*r+s*s;if(d<n){if(0==d)for(var l=0;l<this.stride;++l)o[l]=a[l];else{var i=this.getRadius()/N(d);o[0]=a[0]+i*r,o[1]=a[1]+i*s;for(var l=2;l<this.stride;++l)o[l]=a[l]}return o.length=this.stride,d}return n},t.prototype.containsXY=function(e,t){var o=this.flatCoordinates,n=e-o[0],a=t-o[1];return n*n+a*a<=this.getRadiusSquared_()},t.prototype.getCenter=function(){return this.flatCoordinates.slice(0,this.stride)},t.prototype.computeExtent=function(e){var t=this.flatCoordinates,o=t[this.stride]-t[0];return Object(n.j)(t[0]-o,t[1]-o,t[0]+o,t[1]+o,e)},t.prototype.getRadius=function(){return N(this.getRadiusSquared_())},t.prototype.getRadiusSquared_=function(){var e=this.flatCoordinates[this.stride]-this.flatCoordinates[0],t=this.flatCoordinates[this.stride+1]-this.flatCoordinates[1];return e*e+t*t},t.prototype.getType=function(){return a.a.CIRCLE},t.prototype.intersectsExtent=function(e){var t=this.getExtent();if(Object(n.B)(e,t)){var o=this.getCenter();return e[0]<=o[0]&&e[2]>=o[0]||e[1]<=o[1]&&e[3]>=o[1]||Object(n.s)(e,this.intersectsCoordinate.bind(this))}return!1},t.prototype.setCenter=function(e){var t=this.stride,o=this.flatCoordinates[t]-this.flatCoordinates[0],n=e.slice();n[t]=n[0]+o;for(var a=1;a<t;++a)n[t+a]=e[a];this.setFlatCoordinates(this.layout,n),this.changed()},t.prototype.setCenterAndRadius=function(e,t,o){this.setLayout(o,e,0),this.flatCoordinates||(this.flatCoordinates=[]);var n=this.flatCoordinates,a=Object(r.a)(n,0,e,this.stride);n[a++]=n[0]+t;for(var s=1,i=this.stride;s<i;++s)n[a++]=n[s];n.length=a,this.changed()},t.prototype.getCoordinates=function(){return null},t.prototype.setCoordinates=function(){},t.prototype.setRadius=function(e){this.flatCoordinates[this.stride]=this.flatCoordinates[0]+e,this.changed()},t.prototype.rotate=function(e,t){var o=this.getCenter(),n=this.getStride();this.setCenter(Object(s.a)(o,0,o.length,n,e,t,o)),this.changed()},t.prototype.translate=function(e,t){var o=this.getCenter(),n=this.getStride();this.setCenter(Object(s.d)(o,0,o.length,n,e,t,o)),this.changed()},t}(i.a);l.prototype.transform,t.a=l},function(e,t,o){'use strict';function n(e){for(var t=[],o=0,n=e.length;o<n;++o)t.push(e[o].clone());return t}var a=o(11),r=o(7),s=o(2),i=o(119),d=o(8),l=o(12),p=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_=function(e){function t(t){var o=e.call(this)||this;return o.geometries_=t?t:null,o.listenGeometriesChange_(),o}return p(t,e),t.prototype.unlistenGeometriesChange_=function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)Object(a.c)(this.geometries_[e],r.a.CHANGE,this.changed,this)},t.prototype.listenGeometriesChange_=function(){if(this.geometries_)for(var e=0,t=this.geometries_.length;e<t;++e)Object(a.a)(this.geometries_[e],r.a.CHANGE,this.changed,this)},t.prototype.clone=function(){var e=new t(null);return e.setGeometries(this.geometries_),e},t.prototype.closestPointXY=function(e,t,o,n){if(n<Object(s.e)(this.getExtent(),e,t))return n;for(var a=this.geometries_,r=0,i=a.length;r<i;++r)n=a[r].closestPointXY(e,t,o,n);return n},t.prototype.containsXY=function(e,t){for(var o=this.geometries_,n=0,a=o.length;n<a;++n)if(o[n].containsXY(e,t))return!0;return!1},t.prototype.computeExtent=function(e){Object(s.k)(e);for(var t=this.geometries_,o=0,n=t.length;o<n;++o)Object(s.p)(e,t[o].getExtent());return e},t.prototype.getGeometries=function(){return n(this.geometries_)},t.prototype.getGeometriesArray=function(){return this.geometries_},t.prototype.getSimplifiedGeometry=function(e){if(this.simplifiedGeometryRevision!=this.getRevision()&&(Object(l.b)(this.simplifiedGeometryCache),this.simplifiedGeometryMaxMinSquaredTolerance=0,this.simplifiedGeometryRevision=this.getRevision()),0>e||0!==this.simplifiedGeometryMaxMinSquaredTolerance&&e<this.simplifiedGeometryMaxMinSquaredTolerance)return this;var o=e.toString();if(this.simplifiedGeometryCache.hasOwnProperty(o))return this.simplifiedGeometryCache[o];for(var n=[],a=this.geometries_,r=!1,s=0,i=a.length;s<i;++s){var d=a[s],p=d.getSimplifiedGeometry(e);n.push(p),p!==d&&(r=!0)}if(r){var _=new t(null);return _.setGeometriesArray(n),this.simplifiedGeometryCache[o]=_,_}return this.simplifiedGeometryMaxMinSquaredTolerance=e,this},t.prototype.getType=function(){return d.a.GEOMETRY_COLLECTION},t.prototype.intersectsExtent=function(e){for(var t=this.geometries_,o=0,n=t.length;o<n;++o)if(t[o].intersectsExtent(e))return!0;return!1},t.prototype.isEmpty=function(){return 0===this.geometries_.length},t.prototype.rotate=function(e,t){for(var o=this.geometries_,n=0,a=o.length;n<a;++n)o[n].rotate(e,t);this.changed()},t.prototype.scale=function(e,t,o){var n=o;n||(n=Object(s.w)(this.getExtent()));for(var a=this.geometries_,r=0,i=a.length;r<i;++r)a[r].scale(e,t,n);this.changed()},t.prototype.setGeometries=function(e){this.setGeometriesArray(n(e))},t.prototype.setGeometriesArray=function(e){this.unlistenGeometriesChange_(),this.geometries_=e,this.listenGeometriesChange_(),this.changed()},t.prototype.applyTransform=function(e){for(var t=this.geometries_,o=0,n=t.length;o<n;++o)t[o].applyTransform(e);this.changed()},t.prototype.translate=function(e,t){for(var o=this.geometries_,n=0,a=o.length;n<a;++n)o[n].translate(e,t);this.changed()},t.prototype.disposeInternal=function(){this.unlistenGeometriesChange_(),e.prototype.disposeInternal.call(this)},t}(i.a);t.a=_},function(e,t,o){'use strict';function n(e,t,o,n,a,s){if(o==t)return null;var d;if(a<e[t+n-1])return s?(d=e.slice(t,t+n),d[n-1]=a,d):null;if(e[o-1]<a)return s?(d=e.slice(o-n,o),d[n-1]=a,d):null;if(a==e[t+n-1])return e.slice(t,t+n);for(var l=t/n,p=o/n,_;l<p;)_=l+p>>1,a<e[(_+1)*n-1]?p=_:l=_+1;var g=e[l*n-1];if(a==g)return e.slice((l-1)*n,(l-1)*n+n);var c=e[(l+1)*n-1];d=[];for(var u=0;u<n-1;++u)d.push(Object(r.c)(e[(l-1)*n+u],e[l*n+u],(a-g)/(c-g)));return d.push(a),d}t.a=function(e,s,d,l,p,_){var g=NaN,c=NaN,u=(d-s)/l;if(1==u)g=e[s],c=e[s+1];else if(2==u)g=(1-p)*e[s]+p*e[s+l],c=(1-p)*e[s+1]+p*e[s+l+1];else if(0!=u){for(var n=e[s],y=e[s+1],m=0,h=[0],f=s+l;f<d;f+=l){var i=e[f],x=e[f+1];m+=N((i-n)*(i-n)+(x-y)*(x-y)),h.push(m),n=i,y=x}var I=p*m,E=Object(a.a)(h,I);if(0>E){var C=(I-h[-E-2])/(h[-E-1]-h[-E-2]),t=s+(-E-2)*l;g=Object(r.c)(e[t],e[t+l],C),c=Object(r.c)(e[t+1],e[t+l+1],C)}else g=e[s+E*l],c=e[s+E*l+1]}return _?(_[0]=g,_[1]=c,_):[g,c]},t.b=n,t.c=function(e,t,o,a,r,s,d){if(d)return n(e,t,o[o.length-1],a,r,s);var l;if(r<e[a-1])return s?(l=e.slice(0,a),l[a-1]=r,l):null;if(e[e.length-1]<r)return s?(l=e.slice(e.length-a),l[a-1]=r,l):null;for(var p=0,i=o.length,_;p<i;++p)if(_=o[p],t!=_){if(r<e[t+a-1])return null;if(r<=e[_-1])return n(e,t,_,a,r,!1);t=_}return null};var a=o(15),r=o(14)},function(e,t){'use strict';t.a=function(e,t,o,n,a){for(var i=[e[t],e[t+1]],r=[],s;t+n<o;t+=n){if(r[0]=e[t+n],r[1]=e[t+n+1],s=a(i,r),s)return s;i[0]=r[0],i[1]=r[1]}return!1}},function(e,t){'use strict';t.a=function(e,t,o,n){for(var a=e[t],r=e[t+1],s=0,d=t+n;d<o;d+=n){var i=e[d],l=e[d+1];s+=N((i-a)*(i-a)+(l-r)*(l-r)),a=i,r=l}return s}},function(e,t,o){'use strict';var n=o(15),a=o(2),i=o(55),r=o(8),s=o(120),d=o(33),l=o(73),p=o(34),_=o(43),g=o(154),c=o(90),u=o(56),y=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),m=function(e){function t(t,o,a){var r=e.call(this)||this;if(r.ends_=[],r.maxDelta_=-1,r.maxDeltaRevision_=-1,Array.isArray(t[0]))r.setCoordinates(t,o);else if(void 0!==o&&a)r.setFlatCoordinates(o,t),r.ends_=a;else{for(var s=r.getLayout(),d=t,l=[],p=[],_=0,i=d.length,g;_<i;++_)g=d[_],0===_&&(s=g.getLayout()),Object(n.c)(l,g.getFlatCoordinates()),p.push(l.length);r.setFlatCoordinates(s,l),r.ends_=p}return r}return y(t,e),t.prototype.appendLineString=function(e){this.flatCoordinates?Object(n.c)(this.flatCoordinates,e.getFlatCoordinates().slice()):this.flatCoordinates=e.getFlatCoordinates().slice(),this.ends_.push(this.flatCoordinates.length),this.changed()},t.prototype.clone=function(){return new t(this.flatCoordinates.slice(),this.layout,this.ends_.slice())},t.prototype.closestPointXY=function(e,t,o,n){return n<Object(a.e)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=N(Object(l.a)(this.flatCoordinates,0,this.ends_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(l.b)(this.flatCoordinates,0,this.ends_,this.stride,this.maxDelta_,!1,e,t,o,n))},t.prototype.getCoordinateAtM=function(e,t,o){if(this.layout!=i.a.XYM&&this.layout!=i.a.XYZM||0===this.flatCoordinates.length)return null;return Object(g.c)(this.flatCoordinates,0,this.ends_,this.stride,e,void 0!==t&&t,void 0!==o&&o)},t.prototype.getCoordinates=function(){return Object(_.b)(this.flatCoordinates,0,this.ends_,this.stride)},t.prototype.getEnds=function(){return this.ends_},t.prototype.getLineString=function(e){return 0>e||this.ends_.length<=e?null:new s.a(this.flatCoordinates.slice(0===e?0:this.ends_[e-1],this.ends_[e]),this.layout)},t.prototype.getLineStrings=function(){for(var e=this.flatCoordinates,t=this.ends_,o=this.layout,n=[],a=0,r=0,i=t.length;r<i;++r){var d=t[r],l=new s.a(e.slice(a,d),o);n.push(l),a=d}return n},t.prototype.getFlatMidpoints=function(){for(var e=[],t=this.flatCoordinates,o=0,a=this.ends_,r=this.stride,s=0,i=a.length;s<i;++s){var d=a[s],l=Object(g.a)(t,o,d,r,0.5);Object(n.c)(e,l),o=d}return e},t.prototype.getSimplifiedGeometryInternal=function(e){var o=[],n=[];return o.length=Object(u.b)(this.flatCoordinates,0,this.ends_,this.stride,e,o,0,n),new t(o,i.a.XY,n)},t.prototype.getType=function(){return r.a.MULTI_LINE_STRING},t.prototype.intersectsExtent=function(e){return Object(c.b)(this.flatCoordinates,0,this.ends_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,2),this.flatCoordinates||(this.flatCoordinates=[]);var o=Object(p.c)(this.flatCoordinates,0,e,this.stride,this.ends_);this.flatCoordinates.length=0===o.length?0:o[o.length-1],this.changed()},t}(d.a);t.a=m},function(e,t,o){'use strict';var n=o(15),a=o(2),i=o(55),r=o(8),s=o(121),d=o(45),l=o(33),p=o(122),_=o(245),g=o(73),c=o(91),u=o(34),y=o(43),m=o(159),h=o(90),f=o(160),x=o(56),I=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),E=function(e){function t(t,o,a){var r=e.call(this)||this;if(r.endss_=[],r.flatInteriorPointsRevision_=-1,r.flatInteriorPoints_=null,r.maxDelta_=-1,r.maxDeltaRevision_=-1,r.orientedRevision_=-1,r.orientedFlatCoordinates_=null,!a&&!Array.isArray(t[0])){for(var s=r.getLayout(),d=t,l=[],p=[],_=0,i=d.length,g;_<i;++_){g=d[_],0===_&&(s=g.getLayout());for(var c=l.length,u=g.getEnds(),y=0,m=u.length;y<m;++y)u[y]+=c;Object(n.c)(l,g.getFlatCoordinates()),p.push(u)}o=s,t=l,a=p}return void 0!==o&&a?(r.setFlatCoordinates(o,t),r.endss_=a):r.setCoordinates(t,o),r}return I(t,e),t.prototype.appendPolygon=function(e){var t;if(!this.flatCoordinates)this.flatCoordinates=e.getFlatCoordinates().slice(),t=e.getEnds().slice(),this.endss_.push();else{var o=this.flatCoordinates.length;Object(n.c)(this.flatCoordinates,e.getFlatCoordinates()),t=e.getEnds().slice();for(var a=0,i=t.length;a<i;++a)t[a]+=o}this.endss_.push(t),this.changed()},t.prototype.clone=function(){for(var e=this.endss_.length,o=Array(e),n=0;n<e;++n)o[n]=this.endss_[n].slice();return new t(this.flatCoordinates.slice(),this.layout,o)},t.prototype.closestPointXY=function(e,t,o,n){return n<Object(a.e)(this.getExtent(),e,t)?n:(this.maxDeltaRevision_!=this.getRevision()&&(this.maxDelta_=N(Object(g.f)(this.flatCoordinates,0,this.endss_,this.stride,0)),this.maxDeltaRevision_=this.getRevision()),Object(g.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,this.maxDelta_,!0,e,t,o,n))},t.prototype.containsXY=function(e,t){return Object(c.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e,t)},t.prototype.getArea=function(){return Object(p.c)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride)},t.prototype.getCoordinates=function(e){var t;return void 0===e?t=this.flatCoordinates:(t=this.getOrientedFlatCoordinates().slice(),Object(f.d)(t,0,this.endss_,this.stride,e)),Object(y.c)(t,0,this.endss_,this.stride)},t.prototype.getEndss=function(){return this.endss_},t.prototype.getFlatInteriorPoints=function(){if(this.flatInteriorPointsRevision_!=this.getRevision()){var e=Object(_.a)(this.flatCoordinates,0,this.endss_,this.stride);this.flatInteriorPoints_=Object(m.b)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e),this.flatInteriorPointsRevision_=this.getRevision()}return this.flatInteriorPoints_},t.prototype.getInteriorPoints=function(){return new s.a(this.getFlatInteriorPoints().slice(),i.a.XYM)},t.prototype.getOrientedFlatCoordinates=function(){if(this.orientedRevision_!=this.getRevision()){var e=this.flatCoordinates;Object(f.b)(e,0,this.endss_,this.stride)?this.orientedFlatCoordinates_=e:(this.orientedFlatCoordinates_=e.slice(),this.orientedFlatCoordinates_.length=Object(f.d)(this.orientedFlatCoordinates_,0,this.endss_,this.stride)),this.orientedRevision_=this.getRevision()}return this.orientedFlatCoordinates_},t.prototype.getSimplifiedGeometryInternal=function(e){var o=[],n=[];return o.length=Object(x.d)(this.flatCoordinates,0,this.endss_,this.stride,N(e),o,0,n),new t(o,i.a.XY,n)},t.prototype.getPolygon=function(e){if(0>e||this.endss_.length<=e)return null;var t;if(0===e)t=0;else{var o=this.endss_[e-1];t=o[o.length-1]}var n=this.endss_[e].slice(),a=n[n.length-1];if(0!==t)for(var r=0,i=n.length;r<i;++r)n[r]-=t;return new d.a(this.flatCoordinates.slice(t,a),this.layout,n)},t.prototype.getPolygons=function(){for(var e=this.layout,t=this.flatCoordinates,o=this.endss_,n=[],a=0,r=0,i=o.length;r<i;++r){var s=o[r].slice(),l=s[s.length-1];if(0!=a)for(var p=0,_=s.length;p<_;++p)s[p]-=a;var g=new d.a(t.slice(a,l),e,s);n.push(g),a=l}return n},t.prototype.getType=function(){return r.a.MULTI_POLYGON},t.prototype.intersectsExtent=function(e){return Object(h.d)(this.getOrientedFlatCoordinates(),0,this.endss_,this.stride,e)},t.prototype.setCoordinates=function(e,t){this.setLayout(t,e,3),this.flatCoordinates||(this.flatCoordinates=[]);var o=Object(u.d)(this.flatCoordinates,0,e,this.stride,this.endss_);if(0===o.length)this.flatCoordinates.length=0;else{var n=o[o.length-1];this.flatCoordinates.length=0===n.length?0:n[n.length-1]}this.changed()},t}(l.a);t.a=E},function(e,t,o){'use strict';function n(e,t,o,n,s,d,p){for(var _=s[d+1],g=[],c=0,u=o.length,y,i,m,h,f,x,I,E;c<u;++c)for(E=o[c],h=e[E-n],x=e[E-n+1],y=t;y<E;y+=n)f=e[y],I=e[y+1],(_<=x&&I<=_||x<=_&&_<=I)&&(m=(_-x)/(I-x)*(f-h)+h,g.push(m)),h=f,x=I;var C=NaN,N=-Infinity;for(g.sort(a.e),h=g[0],(y=1,i=g.length);y<i;++y){f=g[y];var T=l(f-h);T>N&&(m=(h+f)/2,Object(r.c)(e,t,o,n,m,_)&&(C=m,N=T)),h=f}return isNaN(C)&&(C=s[d]),p?(p.push(C,_,N),p):[C,_,N]}t.a=n,t.b=function(e,t,o,a,r){for(var s=[],d=0,i=o.length,l;d<i;++d)l=o[d],s=n(e,t,l,a,r,2*d,s),t=l[l.length-1];return s};var a=o(15),r=o(91)},function(e,t,o){'use strict';function n(e,t,o,n){for(var a=0,i=e[o-n],r=e[o-n+1];t<o;t+=n){var s=e[t],d=e[t+1];a+=(s-i)*(d+r),i=s,r=d}return 0<a}function a(e,t,o,a,r){for(var s=r!==void 0&&r,d=0,i=o.length;d<i;++d){var l=o[d],p=n(e,t,l,a);if(0===d){if(s&&p||!s&&!p)return!1;}else if(s&&!p||!s&&p)return!1;t=l}return!0}function r(e,t,o,a,r){for(var d=r!==void 0&&r,l=0,i=o.length;l<i;++l){var p=o[l],_=n(e,t,p,a),g=0===l?d&&_||!d&&!_:d&&!_||!d&&_;g&&Object(s.a)(e,t,p,a),t=p}return t}t.a=a,t.b=function(e,t,o,n,r){for(var s=0,i=o.length,d;s<i;++s){if(d=o[s],!a(e,t,d,n,r))return!1;d.length&&(t=d[d.length-1])}return!0},t.c=r,t.d=function(e,t,o,n,a){for(var s=0,i=o.length;s<i;++s)t=r(e,t,o[s],n,a);return t};var s=o(244)},function(e,t){'use strict';t.a={OPACITY:'opacity',VISIBLE:'visible',EXTENT:'extent',Z_INDEX:'zIndex',MAX_RESOLUTION:'maxResolution',MIN_RESOLUTION:'minResolution',MAX_ZOOM:'maxZoom',MIN_ZOOM:'minZoom',SOURCE:'source'}},function(e,t){'use strict';t.a={PRERENDER:'prerender',POSTRENDER:'postrender',PRECOMPOSE:'precompose',POSTCOMPOSE:'postcompose',RENDERCOMPLETE:'rendercomplete'}},function(e,t,o){'use strict';o.d(t,'a',function(){return c});var n=o(6),a=o(114),r=o(2),i=o(256),s=o(8),d=o(42),l=o(58),p=o(75),_=o(151),g=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),c={};c.left=0,c.end=0,c.center=0.5,c.right=1,c.start=1,c.top=0,c.middle=0.5,c.hanging=0.2,c.alphabetic=0.8,c.ideographic=0.8,c.bottom=1;var u=function(e){function t(t,o,n,a){var i=e.call(this,t,o,n,a)||this;return i.declutterGroup_,i.labels_=null,i.text_='',i.textOffsetX_=0,i.textOffsetY_=0,i.textRotateWithView_=void 0,i.textRotation_=0,i.textFillState_=null,i.fillStates={},i.textStrokeState_=null,i.strokeStates={},i.textState_={},i.textStates={},i.textKey_='',i.fillKey_='',i.strokeKey_='',d.o.prune(),i}return g(t,e),t.prototype.finish=function(){var t=e.prototype.finish.call(this);return t.textStates=this.textStates,t.fillStates=this.fillStates,t.strokeStates=this.strokeStates,t},t.prototype.drawText=function(e,t){var n=this.textFillState_,a=this.textStrokeState_,p=this.textState_;if(''!==this.text_&&p&&(n||a)){var g=this.coordinates.length,c=e.getType(),u=null,y=2,m=2,h,f;if(p.placement===_.a.LINE){if(!Object(r.B)(this.getBufferedMaxExtent(),e.getExtent()))return;var x;if(u=e.getFlatCoordinates(),m=e.getStride(),c==s.a.LINE_STRING)x=[u.length];else if(c==s.a.MULTI_LINE_STRING)x=e.getEnds();else if(c==s.a.POLYGON)x=e.getEnds().slice(0,1);else if(c==s.a.MULTI_POLYGON){var I=e.getEndss();for(x=[],h=0,f=I.length;h<f;++h)x.push(I[h][0])}this.beginGeometry(t);for(var E=p.textAlign,C=0,N=void 0,T=0,o=x.length;T<o;++T){if(void 0==E){var S=Object(i.a)(p.maxAngle,u,C,x[T],m);C=S[0],N=S[1]}else N=x[T];for(h=C;h<N;h+=m)this.coordinates.push(u[h],u[h+1]);y=this.coordinates.length,C=x[T],this.drawChars_(g,y,this.declutterGroup_),g=y}this.endGeometry(t)}else{var L=null;switch(p.overflow||(L=[]),c){case s.a.POINT:case s.a.MULTI_POINT:u=e.getFlatCoordinates(),y=u.length;break;case s.a.LINE_STRING:u=e.getFlatMidpoint();break;case s.a.CIRCLE:u=e.getCenter();break;case s.a.MULTI_LINE_STRING:u=e.getFlatMidpoints(),y=u.length;break;case s.a.POLYGON:u=e.getFlatInteriorPoint(),p.overflow||L.push(u[2]/this.resolution),m=3;break;case s.a.MULTI_POLYGON:var O=e.getFlatInteriorPoints();for(u=[],h=0,f=O.length;h<f;h+=3)p.overflow||L.push(O[h+2]/this.resolution),u.push(O[h],O[h+1]);if(y=u.length,0==y)return;break;default:}y=this.appendFlatCoordinates(u,0,y,m,!1,!1),this.saveTextStates_(),(p.backgroundFill||p.backgroundStroke)&&(this.setFillStrokeStyle(p.backgroundFill,p.backgroundStroke),p.backgroundFill&&(this.updateFillStyle(this.state,this.createFill),this.hitDetectionInstructions.push(this.createFill(this.state))),p.backgroundStroke&&(this.updateStrokeStyle(this.state,this.applyStroke),this.hitDetectionInstructions.push(this.createStroke(this.state)))),this.beginGeometry(t);var R=this.pixelRatio;this.instructions.push([l.c.DRAW_IMAGE,g,y,null,NaN,NaN,this.declutterGroup_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1,NaN,p.padding==d.j?d.j:p.padding.map(function(e){return e*R}),!!p.backgroundFill,!!p.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,L]),this.hitDetectionInstructions.push([l.c.DRAW_IMAGE,g,y,null,NaN,NaN,this.declutterGroup_,NaN,1,0,0,this.textRotateWithView_,this.textRotation_,1/this.pixelRatio,NaN,p.padding,!!p.backgroundFill,!!p.backgroundStroke,this.text_,this.textKey_,this.strokeKey_,this.fillKey_,this.textOffsetX_,this.textOffsetY_,L]),this.endGeometry(t)}}},t.prototype.saveTextStates_=function(){var e=this.textStrokeState_,t=this.textState_,o=this.textFillState_,n=this.strokeKey_;e&&!(n in this.strokeStates)&&(this.strokeStates[n]={strokeStyle:e.strokeStyle,lineCap:e.lineCap,lineDashOffset:e.lineDashOffset,lineWidth:e.lineWidth,lineJoin:e.lineJoin,miterLimit:e.miterLimit,lineDash:e.lineDash});var a=this.textKey_;a in this.textStates||(this.textStates[a]={font:t.font,textAlign:t.textAlign||d.l,textBaseline:t.textBaseline||d.m,scale:t.scale});var i=this.fillKey_;o&&!(i in this.fillStates)&&(this.fillStates[i]={fillStyle:o.fillStyle})},t.prototype.drawChars_=function(e,t,o){var n=this.textStrokeState_,a=this.textState_,i=this.strokeKey_,r=this.textKey_,s=this.fillKey_;this.saveTextStates_();var d=this.pixelRatio,p=c[a.textBaseline],_=this.textOffsetY_*d,g=this.text_,u=a.scale,y=n?n.lineWidth*u/2:0;this.instructions.push([l.c.DRAW_CHARS,e,t,p,o,a.overflow,s,a.maxAngle,d,_,i,y*d,g,r,1]),this.hitDetectionInstructions.push([l.c.DRAW_CHARS,e,t,p,o,a.overflow,s,a.maxAngle,1,_,i,y,g,r,1/d])},t.prototype.setTextStyle=function(e,t){var o,i,r;if(!e)this.text_='';else{this.declutterGroup_=t;var s=e.getFill();s?(i=this.textFillState_,!i&&(i=this.textFillState_={}),i.fillStyle=Object(a.a)(s.getColor()||d.b)):i=this.textFillState_=null;var l=e.getStroke();if(!l)r=this.textStrokeState_=null;else{r=this.textStrokeState_,r||(r=this.textStrokeState_={});var p=l.getLineDash(),_=l.getLineDashOffset(),g=l.getWidth(),c=l.getMiterLimit();r.lineCap=l.getLineCap()||d.d,r.lineDash=p?p.slice():d.e,r.lineDashOffset=void 0===_?d.f:_,r.lineJoin=l.getLineJoin()||d.g,r.lineWidth=void 0===g?d.h:g,r.miterLimit=void 0===c?d.i:c,r.strokeStyle=Object(a.a)(l.getColor()||d.k)}o=this.textState_;var u=e.getFont()||d.c;Object(d.a)(u);var y=e.getScale();o.overflow=e.getOverflow(),o.font=u,o.maxAngle=e.getMaxAngle(),o.placement=e.getPlacement(),o.textAlign=e.getTextAlign(),o.textBaseline=e.getTextBaseline()||d.m,o.backgroundFill=e.getBackgroundFill(),o.backgroundStroke=e.getBackgroundStroke(),o.padding=e.getPadding()||d.j,o.scale=void 0===y?1:y;var m=e.getOffsetX(),h=e.getOffsetY(),f=e.getRotateWithView(),x=e.getRotation();this.text_=e.getText()||'',this.textOffsetX_=void 0===m?0:m,this.textOffsetY_=void 0===h?0:h,this.textRotateWithView_=void 0!==f&&f,this.textRotation_=void 0===x?0:x,this.strokeKey_=r?('string'==typeof r.strokeStyle?r.strokeStyle:Object(n.c)(r.strokeStyle))+r.lineCap+r.lineDashOffset+'|'+r.lineWidth+r.lineJoin+r.miterLimit+'['+r.lineDash.join()+']':'',this.textKey_=o.font+o.scale+(o.textAlign||'?'),this.fillKey_=i?'string'==typeof i.fillStyle?i.fillStyle:'|'+Object(n.c)(i.fillStyle):''}},t}(p.a);t.b=u},function(e,t){'use strict';t.a={CIRCLE:'Circle',DEFAULT:'Default',IMAGE:'Image',LINE_STRING:'LineString',POLYGON:'Polygon',TEXT:'Text'}},function(e,t,o){'use strict';function n(e){var t=!1;if(e.type==a.a.DBLCLICK){var o=e.originalEvent,n=e.map,r=e.coordinate,s=o.shiftKey?-this.delta_:this.delta_,d=n.getView();Object(i.c)(d,s,r,this.duration_),e.preventDefault(),t=!0}return!t}var a=o(59),i=o(35),r=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s=function(e){function t(t){var o=e.call(this,{handleEvent:n})||this,a=t?t:{};return o.delta_=a.delta?a.delta:1,o.duration_=void 0===a.duration?250:a.duration,o}return r(t,e),t}(i.a);t.a=s},function(e,t,o){'use strict';function n(e){return Object(s.i)(e)&&Object(s.k)(e)}var a=o(60),i=o(124),s=o(19),d=o(13),l=o(20),p=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_=function(e){function t(t){var o=e.call(this,{stopDown:d.a})||this,a=t?t:{};return o.kinetic_=a.kinetic,o.lastCentroid=null,o.lastPointersCount_,o.panning_=!1,o.condition_=a.condition?a.condition:n,o.noKinetic_=!1,o}return p(t,e),t.prototype.handleDragEvent=function(e){this.panning_||(this.panning_=!0,this.getMap().getView().beginInteraction());var t=this.targetPointers,o=Object(l.a)(t);if(t.length!=this.lastPointersCount_)this.kinetic_&&this.kinetic_.begin();else if(this.kinetic_&&this.kinetic_.update(o[0],o[1]),this.lastCentroid){var n=[this.lastCentroid[0]-o[0],o[1]-this.lastCentroid[1]],i=e.map,r=i.getView();Object(a.f)(n,r.getResolution()),Object(a.e)(n,r.getRotation()),r.adjustCenter(n)}this.lastCentroid=o,this.lastPointersCount_=t.length},t.prototype.handleUpEvent=function(e){var t=e.map,o=t.getView();if(0===this.targetPointers.length){if(!this.noKinetic_&&this.kinetic_&&this.kinetic_.end()){var n=this.kinetic_.getDistance(),a=this.kinetic_.getAngle(),s=o.getCenter(),d=t.getPixelFromCoordinate(s),l=t.getCoordinateFromPixel([d[0]-n*c(a),d[1]-n*r(a)]);o.animate({center:o.getConstrainedCenter(l),duration:500,easing:i.a})}return this.panning_&&(this.panning_=!1,o.endInteraction()),!1}return this.kinetic_&&this.kinetic_.begin(),this.lastCentroid=null,!0},t.prototype.handleDownEvent=function(e){if(0<this.targetPointers.length&&this.condition_(e)){var t=e.map,o=t.getView();return this.lastCentroid=null,o.getAnimating()&&o.cancelAnimations(),this.kinetic_&&this.kinetic_.begin(),this.noKinetic_=1<this.targetPointers.length,!0}return!1},t}(l.b);t.a=_},function(e,o,n){'use strict';var a=n(168),i=n(19),r=n(13),s=n(20),d=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=function(e){function o(t){var o=this,n=t?t:{};return o=e.call(this,{stopDown:r.a})||this,o.condition_=n.condition?n.condition:i.b,o.lastAngle_=void 0,o.duration_=void 0===n.duration?250:n.duration,o}return d(o,e),o.prototype.handleDragEvent=function(e){if(Object(i.g)(e)){var o=e.map,n=o.getView();if(n.getConstraints().rotation!==a.a){var r=o.getSize(),s=e.pixel,d=t(r[1]/2-s[1],s[0]-r[0]/2);if(void 0!==this.lastAngle_){var l=d-this.lastAngle_;n.adjustRotation(-l)}this.lastAngle_=d}}},o.prototype.handleUpEvent=function(e){if(!Object(i.g)(e))return!0;var t=e.map,o=t.getView();return o.endInteraction(this.duration_),!1},o.prototype.handleDownEvent=function(e){if(!Object(i.g)(e))return!1;if(Object(i.f)(e)&&this.condition_(e)){var t=e.map;return t.getView().beginInteraction(),this.lastAngle_=void 0,!0}return!1},o}(s.b);o.a=l},function(e,t,o){'use strict';t.a=function(e){return void 0===e?void 0:0};var n=o(14)},function(e,t,o){'use strict';function n(){var e=this.getMap(),t=e.getView(),o=e.getSize(),n=this.getGeometry().getExtent();if(this.out_){var i=t.calculateExtent(o),s=Object(r.m)([e.getPixelFromCoordinate(Object(r.u)(n)),e.getPixelFromCoordinate(Object(r.z)(n))]),d=t.getResolutionForExtent(s,o);Object(r.E)(i,1/d),n=i}var l=t.getConstrainedResolution(t.getResolutionForExtent(n,o)),p=t.getConstrainedCenter(Object(r.w)(n),l);t.animate({resolution:l,center:p,duration:this.duration_,easing:a.a})}var a=o(124),i=o(19),r=o(2),s=o(170),d=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=function(e){function t(t){var o=this,a=t?t:{},r=a.condition?a.condition:i.l;return o=e.call(this,{condition:r,className:a.className||'ol-dragzoom',minArea:a.minArea,onBoxEnd:n})||this,o.duration_=void 0===a.duration?200:a.duration,o.out_=void 0!==a.out&&a.out,o}return d(t,e),t}(s.a);t.a=l},function(e,t,o){'use strict';var n=o(18),a=o(19),i=o(13),r=o(20),s=o(266),d=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l={BOXSTART:'boxstart',BOXDRAG:'boxdrag',BOXEND:'boxend'},p=function(e){function t(t,o,n){var a=e.call(this,t)||this;return a.coordinate=o,a.mapBrowserEvent=n,a}return d(t,e),t}(n.a),_=function(e){function t(t){var o=e.call(this)||this,n=t?t:{};return o.box_=new s.a(n.className||'ol-dragbox'),o.minArea_=void 0===n.minArea?64:n.minArea,o.onBoxEnd_=n.onBoxEnd?n.onBoxEnd:i.c,o.startPixel_=null,o.condition_=n.condition?n.condition:a.c,o.boxEndCondition_=n.boxEndCondition?n.boxEndCondition:o.defaultBoxEndCondition,o}return d(t,e),t.prototype.defaultBoxEndCondition=function(e,t,o){var n=o[0]-t[0],a=o[1]-t[1];return n*n+a*a>=this.minArea_},t.prototype.getGeometry=function(){return this.box_.getGeometry()},t.prototype.handleDragEvent=function(e){Object(a.g)(e)&&(this.box_.setPixels(this.startPixel_,e.pixel),this.dispatchEvent(new p(l.BOXDRAG,e.coordinate,e)))},t.prototype.handleUpEvent=function(e){return!Object(a.g)(e)||(this.box_.setMap(null),this.boxEndCondition_(e,this.startPixel_,e.pixel)&&(this.onBoxEnd_(e),this.dispatchEvent(new p(l.BOXEND,e.coordinate,e))),!1)},t.prototype.handleDownEvent=function(e){return!!Object(a.g)(e)&&Object(a.f)(e)&&this.condition_(e)&&(this.startPixel_=e.pixel,this.box_.setMap(e.map),this.box_.setPixels(this.startPixel_,this.startPixel_),this.dispatchEvent(new p(l.BOXSTART,e.coordinate,e)),!0)},t}(r.b);t.a=_},function(e,t,o){'use strict';function n(e){var t=!1;if(e.type==i.a.KEYDOWN){var o=e.originalEvent,n=o.keyCode;if(this.condition_(e)&&(n==r.a.DOWN||n==r.a.LEFT||n==r.a.RIGHT||n==r.a.UP)){var s=e.map,l=s.getView(),p=l.getResolution()*this.pixelDelta_,_=0,g=0;n==r.a.DOWN?g=-p:n==r.a.LEFT?_=-p:n==r.a.RIGHT?_=p:g=p;var c=[_,g];Object(a.e)(c,l.getRotation()),Object(d.b)(l,c,this.duration_),e.preventDefault(),t=!0}}return!t}var a=o(60),i=o(7),r=o(267),s=o(19),d=o(35),l=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),p=function(e){function t(t){var o=e.call(this,{handleEvent:n})||this,a=t||{};return o.defaultCondition_=function(e){return Object(s.i)(e)&&Object(s.n)(e)},o.condition_=void 0===a.condition?o.defaultCondition_:a.condition,o.duration_=void 0===a.duration?100:a.duration,o.pixelDelta_=void 0===a.pixelDelta?128:a.pixelDelta,o}return l(t,e),t}(d.a);t.a=p},function(e,t,o){'use strict';function n(e){var t=!1;if(e.type==a.a.KEYDOWN||e.type==a.a.KEYPRESS){var o=e.originalEvent,n=o.charCode;if(this.condition_(e)&&(n==43||n==45)){var i=e.map,s=n==43?this.delta_:-this.delta_,d=i.getView();Object(r.c)(d,s,void 0,this.duration_),e.preventDefault(),t=!0}}return!t}var a=o(7),i=o(19),r=o(35),s=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),d=function(e){function t(t){var o=e.call(this,{handleEvent:n})||this,a=t?t:{};return o.condition_=a.condition?a.condition:i.n,o.delta_=a.delta?a.delta:1,o.duration_=void 0===a.duration?100:a.duration,o}return s(t,e),t}(r.a);t.a=d},function(e,t,o){'use strict';var n=o(19),a=o(7),i=o(118),r=o(35),s=o(14),d=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),p={TRACKPAD:'trackpad',WHEEL:'wheel'},_=function(e){function t(t){var o=this,a=t?t:{};return o=e.call(this,a)||this,o.totalDelta_=0,o.lastDelta_=0,o.maxDelta_=void 0===a.maxDelta?1:a.maxDelta,o.duration_=void 0===a.duration?250:a.duration,o.timeout_=void 0===a.timeout?80:a.timeout,o.useAnchor_=void 0===a.useAnchor||a.useAnchor,o.condition_=a.condition?a.condition:n.c,o.lastAnchor_=null,o.startTime_=void 0,o.timeoutId_,o.mode_=void 0,o.trackpadEventGap_=400,o.trackpadTimeoutId_,o.trackpadDeltaPerZoom_=300,o}return d(t,e),t.prototype.endInteraction_=function(){this.trackpadTimeoutId_=void 0;var e=this.getMap().getView();e.endInteraction(void 0,Math.sign(this.lastDelta_),this.lastAnchor_)},t.prototype.handleEvent=function(e){if(!this.condition_(e))return!0;var t=e.type;if(t!==a.a.WHEEL&&t!==a.a.MOUSEWHEEL)return!0;e.preventDefault();var o=e.map,n=e.originalEvent;this.useAnchor_&&(this.lastAnchor_=e.coordinate);var r;if(e.type==a.a.WHEEL?(r=n.deltaY,i.b&&n.deltaMode===WheelEvent.DOM_DELTA_PIXEL&&(r/=i.a),n.deltaMode===WheelEvent.DOM_DELTA_LINE&&(r*=40)):e.type==a.a.MOUSEWHEEL&&(r=-n.wheelDeltaY,i.e&&(r/=3)),0===r)return!1;this.lastDelta_=r;var s=Date.now();if(void 0===this.startTime_&&(this.startTime_=s),(!this.mode_||s-this.startTime_>this.trackpadEventGap_)&&(this.mode_=4>l(r)?p.TRACKPAD:p.WHEEL),this.mode_===p.TRACKPAD){var d=o.getView();return this.trackpadTimeoutId_?clearTimeout(this.trackpadTimeoutId_):d.beginInteraction(),this.trackpadTimeoutId_=setTimeout(this.endInteraction_.bind(this),this.trackpadEventGap_),d.adjustZoom(-r/this.trackpadDeltaPerZoom_,this.lastAnchor_),this.startTime_=s,!1}this.totalDelta_+=r;var _=E(this.timeout_-(s-this.startTime_),0);return clearTimeout(this.timeoutId_),this.timeoutId_=setTimeout(this.handleWheelZoom_.bind(this,o),_),!1},t.prototype.handleWheelZoom_=function(e){var t=e.getView();t.getAnimating()&&t.cancelAnimations();var o=Object(s.a)(this.totalDelta_,-this.maxDelta_,this.maxDelta_);Object(r.c)(t,-o,this.lastAnchor_,this.duration_),this.mode_=void 0,this.totalDelta_=0,this.lastAnchor_=null,this.startTime_=void 0,this.timeoutId_=void 0},t.prototype.setMouseAnchor=function(e){this.useAnchor_=e,e||(this.lastAnchor_=null)},t}(r.a);t.a=_},function(e,o,n){'use strict';var a=n(13),i=n(20),r=n(168),s=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),d=function(e){function o(t){var o=this,n=t?t:{},i=n;return i.stopDown||(i.stopDown=a.a),o=e.call(this,i)||this,o.anchor_=null,o.lastAngle_=void 0,o.rotating_=!1,o.rotationDelta_=0,o.threshold_=void 0===n.threshold?0.3:n.threshold,o.duration_=void 0===n.duration?250:n.duration,o}return s(o,e),o.prototype.handleDragEvent=function(e){var o=0,n=this.targetPointers[0],a=this.targetPointers[1],s=t(a.clientY-n.clientY,a.clientX-n.clientX);if(void 0!==this.lastAngle_){var d=s-this.lastAngle_;this.rotationDelta_+=d,!this.rotating_&&l(this.rotationDelta_)>this.threshold_&&(this.rotating_=!0),o=d}this.lastAngle_=s;var p=e.map,_=p.getView();if(_.getConstraints().rotation!==r.a){var g=p.getViewport().getBoundingClientRect(),c=Object(i.a)(this.targetPointers);c[0]-=g.left,c[1]-=g.top,this.anchor_=p.getCoordinateFromPixel(c),this.rotating_&&(p.render(),_.adjustRotation(o,this.anchor_))}},o.prototype.handleUpEvent=function(e){if(2>this.targetPointers.length){var t=e.map,o=t.getView();return o.endInteraction(this.duration_),!1}return!0},o.prototype.handleDownEvent=function(e){if(2<=this.targetPointers.length){var t=e.map;return this.anchor_=null,this.lastAngle_=void 0,this.rotating_=!1,this.rotationDelta_=0,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},o}(i.b);o.a=d},function(e,t,o){'use strict';var n=o(13),a=o(20),i=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=function(e){function t(t){var o=this,a=t?t:{},i=a;return i.stopDown||(i.stopDown=n.a),o=e.call(this,i)||this,o.anchor_=null,o.duration_=void 0===a.duration?400:a.duration,o.lastDistance_=void 0,o.lastScaleDelta_=1,o}return i(t,e),t.prototype.handleDragEvent=function(e){var t=1,o=this.targetPointers[0],n=this.targetPointers[1],i=o.clientX-n.clientX,r=o.clientY-n.clientY,s=N(i*i+r*r);void 0!==this.lastDistance_&&(t=this.lastDistance_/s),this.lastDistance_=s;var d=e.map,l=d.getView();1!=t&&(this.lastScaleDelta_=t);var p=d.getViewport().getBoundingClientRect(),_=Object(a.a)(this.targetPointers);_[0]-=p.left,_[1]-=p.top,this.anchor_=d.getCoordinateFromPixel(_),d.render(),l.adjustResolution(t,this.anchor_)},t.prototype.handleUpEvent=function(e){if(2>this.targetPointers.length){var t=e.map,o=t.getView(),n=1<this.lastScaleDelta_?1:-1;return o.endInteraction(this.duration_,n),!1}return!0},t.prototype.handleDownEvent=function(e){if(2<=this.targetPointers.length){var t=e.map;return this.anchor_=null,this.lastDistance_=void 0,this.lastScaleDelta_=1,this.handlingDownUpSequence||t.getView().beginInteraction(),!0}return!1},t}(a.b);t.a=r},function(e,t){'use strict';function o(e,t){this.low=0|t,this.high=0|e}t.a=o,o.toBinaryString=function(e){let t='',o;for(o=2147483648;0<o;o>>>=1)t+=(e.high&o)===o?'1':'0';for(o=2147483648;0<o;o>>>=1)t+=(e.low&o)===o?'1':'0';return t}},function(e,t,o){'use strict';var n=o(3),a=o(31);class i{constructor(){i.constructor_.apply(this,arguments)}create(){if(1===arguments.length){if(arguments[0]instanceof Array){arguments[0]}else if(Object(n.a)(arguments[0],a.a)){arguments[0]}}else if(2===arguments.length){const e=arguments[0],t=arguments[1]}}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){}},function(e,t,o){'use strict';var n=o(27),a=o(95),i=o(46),r=o(0),s=o(63),d=o(47);class l{constructor(){l.constructor_.apply(this,arguments)}static getBoundary(){if(1===arguments.length){const e=arguments[0],t=new l(e);return t.getBoundary()}if(2===arguments.length){const e=arguments[0],t=arguments[1],o=new l(e,t);return o.getBoundary()}}boundaryMultiLineString(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();const t=this.computeBoundaryCoordinates(e);return 1===t.length?this._geomFact.createPoint(t[0]):this._geomFact.createMultiPointFromCoords(t)}getBoundary(){return this._geom instanceof n.a?this.boundaryLineString(this._geom):this._geom instanceof d.a?this.boundaryMultiLineString(this._geom):this._geom.getBoundary()}boundaryLineString(e){if(this._geom.isEmpty())return this.getEmptyMultiPoint();if(e.isClosed()){const t=this._bnRule.isInBoundary(2);return t?e.getStartPoint():this._geomFact.createMultiPoint()}return this._geomFact.createMultiPoint([e.getStartPoint(),e.getEndPoint()])}getEmptyMultiPoint(){return this._geomFact.createMultiPoint()}computeBoundaryCoordinates(e){const t=new r.a;this._endpointMap=new s.a;for(let t=0;t<e.getNumGeometries();t++){const o=e.getGeometryN(t);0===o.getNumPoints()||(this.addEndpoint(o.getCoordinateN(0)),this.addEndpoint(o.getCoordinateN(o.getNumPoints()-1)))}for(let o=this._endpointMap.entrySet().iterator();o.hasNext();){const e=o.next(),n=e.getValue(),a=n.count;this._bnRule.isInBoundary(a)&&t.add(e.getKey())}return i.a.toCoordinateArray(t)}addEndpoint(e){let t=this._endpointMap.get(e);null===t&&(t=new p,this._endpointMap.put(e,t)),t.count++}getClass(){return l}get interfaces_(){return[]}}t.a=l,l.constructor_=function(){if(this._geom=null,this._geomFact=null,this._bnRule=null,this._endpointMap=null,1===arguments.length){const e=arguments[0];l.constructor_.call(this,e,a.a.MOD2_BOUNDARY_RULE)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this._geom=e,this._geomFact=e.getFactory(),this._bnRule=t}};class p{constructor(){p.constructor_.apply(this,arguments)}getClass(){return p}get interfaces_(){return[]}}p.constructor_=function(){this.count=null}},function(e,t){'use strict';function o(e){this.message=e||''}t.a=o;o.prototype=new Error,o.prototype.name='IndexOutOfBoundsException'},function(e,t){'use strict';function o(){}t.a=o;o.prototype.get=function(){},o.prototype.put=function(){},o.prototype.size=function(){},o.prototype.values=function(){},o.prototype.entrySet=function(){}},function(e,t){'use strict';function o(e){this.message=e||''}t.a=o;o.prototype=new Error,o.prototype.name='OperationNotSupported'},function(e,t,o){'use strict';function n(){}t.a=n;var a=o(32);n.prototype=new a.a,n.prototype.contains=function(){}},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t,o){'use strict';function n(){this.array_=[],arguments[0]instanceof a.a&&this.addAll(arguments[0])}t.a=n;var a=o(32),i=o(97),r=o(181),s=o(294);n.prototype=new s.a,n.prototype.contains=function(t){for(let o=0,e=this.array_.length;o<e;o++){const n=this.array_[o];if(0===n.compareTo(t))return!0}return!1},n.prototype.add=function(t){if(this.contains(t))return!1;for(let o=0,e=this.array_.length;o<e;o++){const n=this.array_[o];if(1===n.compareTo(t))return this.array_.splice(o,0,t),!0}return this.array_.push(t),!0},n.prototype.addAll=function(e){for(let t=e.iterator();t.hasNext();)this.add(t.next());return!0},n.prototype.remove=function(){throw new r.a},n.prototype.size=function(){return this.array_.length},n.prototype.isEmpty=function(){return 0===this.array_.length},n.prototype.toArray=function(){const e=[];for(let t=0,o=this.array_.length;t<o;t++)e.push(this.array_[t]);return e},n.prototype.iterator=function(){return new d(this)};const d=function(e){this.treeSet_=e,this.position_=0};d.prototype.next=function(){if(this.position_===this.treeSet_.size())throw new i.a;return this.treeSet_.array_[this.position_++]},d.prototype.hasNext=function(){return!!(this.position_<this.treeSet_.size())},d.prototype.remove=function(){throw new r.a}},function(e,t){'use strict';function o(){}t.a=o,o.isWhitespace=(e)=>32>=e&&0<=e||127===e,o.toUpperCase=(e)=>e.toUpperCase()},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t,o){'use strict';var n=o(1),a=o(304);class i{constructor(){i.constructor_.apply(this,arguments)}static orientationIndex(e,t,o){const n=i.orientationIndexFilter(e,t,o);if(1>=n)return n;const r=a.a.valueOf(t.x).selfAdd(-e.x),s=a.a.valueOf(t.y).selfAdd(-e.y),d=a.a.valueOf(o.x).selfAdd(-t.x),l=a.a.valueOf(o.y).selfAdd(-t.y);return r.selfMultiply(l).selfSubtract(s.selfMultiply(d)).signum()}static signOfDet2x2(){if(arguments[3]instanceof a.a&&arguments[2]instanceof a.a&&arguments[0]instanceof a.a&&arguments[1]instanceof a.a){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3],a=e.multiply(n).selfSubtract(t.multiply(o));return a.signum()}if('number'==typeof arguments[3]&&'number'==typeof arguments[2]&&'number'==typeof arguments[0]&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3],i=a.a.valueOf(e),r=a.a.valueOf(t),s=a.a.valueOf(o),d=a.a.valueOf(n),l=i.multiply(d).selfSubtract(r.multiply(s));return l.signum()}}static intersection(e,t,o,i){const r=a.a.valueOf(i.y).selfSubtract(o.y).selfMultiply(a.a.valueOf(t.x).selfSubtract(e.x)),s=a.a.valueOf(i.x).selfSubtract(o.x).selfMultiply(a.a.valueOf(t.y).selfSubtract(e.y)),d=r.subtract(s),l=a.a.valueOf(i.x).selfSubtract(o.x).selfMultiply(a.a.valueOf(e.y).selfSubtract(o.y)),p=a.a.valueOf(i.y).selfSubtract(o.y).selfMultiply(a.a.valueOf(e.x).selfSubtract(o.x)),_=l.subtract(p),g=_.selfDivide(d).doubleValue(),c=a.a.valueOf(e.x).selfAdd(a.a.valueOf(t.x).selfSubtract(e.x).selfMultiply(g)).doubleValue(),u=a.a.valueOf(t.x).selfSubtract(e.x).selfMultiply(a.a.valueOf(e.y).selfSubtract(o.y)),m=a.a.valueOf(t.y).selfSubtract(e.y).selfMultiply(a.a.valueOf(e.x).selfSubtract(o.x)),h=u.subtract(m),f=h.selfDivide(d).doubleValue(),x=a.a.valueOf(o.y).selfAdd(a.a.valueOf(i.y).selfSubtract(o.y).selfMultiply(f)).doubleValue();return new n.a(c,x)}static orientationIndexFilter(e,t,o){let n=null;const a=(e.x-o.x)*(t.y-o.y),r=(e.y-o.y)*(t.x-o.x),s=a-r;if(0<a){if(0>=r)return i.signum(s);n=a+r}else if(0>a){if(0<=r)return i.signum(s);n=-a-r}else return i.signum(s);const d=i.DP_SAFE_EPSILON*n;return s>=d||-s>=d?i.signum(s):2}static signum(e){return 0<e?1:0>e?-1:0}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){},i.DP_SAFE_EPSILON=1e-15},function(e,t,o){'use strict';function n(){this.map_=new Map}t.a=n;var a=o(0),i=o(180),r=o(128);n.prototype=new i.a,n.prototype.get=function(e){return this.map_.get(e)||null},n.prototype.put=function(e,t){return this.map_.set(e,t),t},n.prototype.values=function(){const e=new a.a,t=this.map_.values();for(let n=t.next();!n.done;)e.add(n.value),n=t.next();return e},n.prototype.entrySet=function(){const e=new r.a;return this.map_.entries().forEach((t)=>e.add(t)),e},n.prototype.size=function(){return this.map_.size()}},function(e,t,o){'use strict';var n=o(101),a=o(37),i=o(317),r=o(0),s=o(4),d=o(105);class l{constructor(){l.constructor_.apply(this,arguments)}sortShellsAndHoles(e,t,o){for(let n=e.iterator();n.hasNext();){const e=n.next();e.isHole()?o.add(e):t.add(e)}}computePolygons(e){const t=new r.a;for(let o=e.iterator();o.hasNext();){const e=o.next(),n=e.toPolygon(this._geometryFactory);t.add(n)}return t}placeFreeHoles(e,t){for(let o=t.iterator();o.hasNext();){const t=o.next();if(null===t.getShell()){const o=this.findEdgeRingContaining(t,e);if(null===o)throw new a.a('unable to assign hole to a shell',t.getCoordinate(0));t.setShell(o)}}}buildMinimalEdgeRings(e,t,o){const n=new r.a;for(let a=e.iterator();a.hasNext();){const e=a.next();if(2<e.getMaxNodeDegree()){e.linkDirectedEdgesForMinimalEdgeRings();const n=e.buildMinimalRings(),a=this.findShell(n);null===a?o.addAll(n):(this.placePolygonHoles(a,n),t.add(a))}else n.add(e)}return n}containsPoint(e){for(let t=this._shellList.iterator();t.hasNext();){const o=t.next();if(o.containsPoint(e))return!0}return!1}buildMaximalEdgeRings(e){const t=new r.a;for(let o=e.iterator();o.hasNext();){const e=o.next();if(e.isInResult()&&e.getLabel().isArea()&&null===e.getEdgeRing()){const o=new i.a(e,this._geometryFactory);t.add(o),o.setInResult()}}return t}placePolygonHoles(e,t){for(let o=t.iterator();o.hasNext();){const t=o.next();t.isHole()&&t.setShell(e)}}getPolygons(){const e=this.computePolygons(this._shellList);return e}findEdgeRingContaining(e,t){const o=e.getLinearRing(),a=o.getEnvelopeInternal(),i=o.getCoordinateN(0);let r=null,s=null;for(let o=t.iterator();o.hasNext();){const e=o.next(),t=e.getLinearRing(),d=t.getEnvelopeInternal();null!=r&&(s=r.getLinearRing().getEnvelopeInternal());let l=!1;d.contains(a)&&n.a.isInRing(i,t.getCoordinates())&&(l=!0),l&&(null==r||s.contains(d))&&(r=e)}return r}findShell(e){let t=0,o=null;for(let n=e.iterator();n.hasNext();){const e=n.next();e.isHole()||(o=e,t++)}return s.a.isTrue(1>=t,'found two shells in MinimalEdgeRing list'),o}add(){if(1===arguments.length){const e=arguments[0];this.add(e.getEdgeEnds(),e.getNodes())}else if(2===arguments.length){const e=arguments[0],t=arguments[1];d.a.linkResultDirectedEdges(t);const o=this.buildMaximalEdgeRings(e),n=new r.a,a=this.buildMinimalEdgeRings(o,this._shellList,n);this.sortShellsAndHoles(a,this._shellList,n),this.placeFreeHoles(this._shellList,n)}}getClass(){return l}get interfaces_(){return[]}}t.a=l,l.constructor_=function(){this._geometryFactory=null,this._shellList=new r.a;const e=arguments[0];this._geometryFactory=e}},function(e,t){'use strict';t.a=function(){}},function(e,t,o){'use strict';var n=o(9),a=o(3),i=o(1),r=o(17),s=o(31);class d{constructor(){d.constructor_.apply(this,arguments)}static locatePointInRing(){if(arguments[0]instanceof i.a&&Object(a.a)(arguments[1],s.a)){const e=arguments[0],t=arguments[1],o=new d(e),n=new i.a,a=new i.a;for(let e=1;e<t.size();e++)if(t.getCoordinate(e,n),t.getCoordinate(e-1,a),o.countSegment(n,a),o.isOnSegment())return o.getLocation();return o.getLocation()}if(arguments[0]instanceof i.a&&arguments[1]instanceof Array){const e=arguments[0],t=arguments[1],o=new d(e);for(let e=1;e<t.length;e++){const n=t[e],a=t[e-1];if(o.countSegment(n,a),o.isOnSegment())return o.getLocation()}return o.getLocation()}}countSegment(e,t){if(e.x<this._p.x&&t.x<this._p.x)return null;if(this._p.x===t.x&&this._p.y===t.y)return this._isPointOnSegment=!0,null;if(e.y===this._p.y&&t.y===this._p.y){let o=e.x,n=t.x;return o>n&&(o=t.x,n=e.x),this._p.x>=o&&this._p.x<=n&&(this._isPointOnSegment=!0),null}if(e.y>this._p.y&&t.y<=this._p.y||t.y>this._p.y&&e.y<=this._p.y){let o=r.a.index(e,t,this._p);if(o===r.a.COLLINEAR)return this._isPointOnSegment=!0,null;t.y<e.y&&(o=-o),o===r.a.LEFT&&this._crossingCount++}}isPointInPolygon(){return this.getLocation()!==n.a.EXTERIOR}getLocation(){return this._isPointOnSegment?n.a.BOUNDARY:1==this._crossingCount%2?n.a.INTERIOR:n.a.EXTERIOR}isOnSegment(){return this._isPointOnSegment}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){this._p=null,this._crossingCount=0,this._isPointOnSegment=!1;const e=arguments[0];this._p=e}},function(e,t,o){'use strict';var n=o(9),a=o(10),i=o(101),r=o(37),s=o(17),d=o(29),l=o(0),p=o(4);class _{constructor(){_.constructor_.apply(this,arguments)}computeRing(){if(null!==this._ring)return null;const e=Array(this._pts.size()).fill(null);for(let t=0;t<this._pts.size();t++)e[t]=this._pts.get(t);this._ring=this._geometryFactory.createLinearRing(e),this._isHole=s.a.isCCW(this._ring.getCoordinates())}isIsolated(){return 1===this._label.getGeometryCount()}computePoints(e){this._startDe=e;let t=e,o=!0;do{if(null===t)throw new r.a('Found null DirectedEdge');if(t.getEdgeRing()===this)throw new r.a('Directed Edge visited twice during ring-building at '+t.getCoordinate());this._edges.add(t);const e=t.getLabel();p.a.isTrue(e.isArea()),this.mergeLabel(e),this.addPoints(t.getEdge(),t.isForward(),o),o=!1,this.setEdgeRing(t,this),t=this.getNext(t)}while(t!==this._startDe)}getLinearRing(){return this._ring}getCoordinate(e){return this._pts.get(e)}computeMaxNodeDegree(){this._maxNodeDegree=0;let e=this._startDe;do{const t=e.getNode(),o=t.getEdges().getOutgoingDegree(this);o>this._maxNodeDegree&&(this._maxNodeDegree=o),e=this.getNext(e)}while(e!==this._startDe);this._maxNodeDegree*=2}addPoints(e,t,o){const n=e.getCoordinates();if(t){let e=1;o&&(e=0);for(let t=e;t<n.length;t++)this._pts.add(n[t])}else{let e=n.length-2;o&&(e=n.length-1);for(let t=e;0<=t;t--)this._pts.add(n[t])}}isHole(){return this._isHole}setInResult(){let e=this._startDe;do e.getEdge().setInResult(!0),e=e.getNext();while(e!==this._startDe)}containsPoint(e){const t=this.getLinearRing(),o=t.getEnvelopeInternal();if(!o.contains(e))return!1;if(!i.a.isInRing(e,t.getCoordinates()))return!1;for(let t=this._holes.iterator();t.hasNext();){const o=t.next();if(o.containsPoint(e))return!1}return!0}addHole(e){this._holes.add(e)}isShell(){return null===this._shell}getLabel(){return this._label}getEdges(){return this._edges}getMaxNodeDegree(){return 0>this._maxNodeDegree&&this.computeMaxNodeDegree(),this._maxNodeDegree}getShell(){return this._shell}mergeLabel(){if(1===arguments.length){const e=arguments[0];this.mergeLabel(e,0),this.mergeLabel(e,1)}else if(2===arguments.length){const e=arguments[0],t=arguments[1],o=e.getLocation(t,a.a.RIGHT);if(o===n.a.NONE)return null;if(this._label.getLocation(t)===n.a.NONE)return this._label.setLocation(t,o),null}}setShell(e){this._shell=e,null!==e&&e.addHole(this)}toPolygon(e){const t=Array(this._holes.size()).fill(null);for(let o=0;o<this._holes.size();o++)t[o]=this._holes.get(o).getLinearRing();const o=e.createPolygon(this.getLinearRing(),t);return o}getClass(){return _}get interfaces_(){return[]}}t.a=_,_.constructor_=function(){if(this._startDe=null,this._maxNodeDegree=-1,this._edges=new l.a,this._pts=new l.a,this._label=new d.a(n.a.NONE),this._ring=null,this._isHole=null,this._shell=null,this._holes=new l.a,this._geometryFactory=null,0===arguments.length);else if(2===arguments.length){const e=arguments[0],t=arguments[1];this._geometryFactory=t,this.computePoints(e),this.computeRing()}}},function(e,t,o){'use strict';var n=o(4);class a{constructor(){a.constructor_.apply(this,arguments)}setVisited(e){this._isVisited=e}setInResult(e){this._isInResult=e}isCovered(){return this._isCovered}isCoveredSet(){return this._isCoveredSet}setLabel(e){this._label=e}getLabel(){return this._label}setCovered(e){this._isCovered=e,this._isCoveredSet=!0}updateIM(e){n.a.isTrue(2<=this._label.getGeometryCount(),'found partial label'),this.computeIM(e)}isInResult(){return this._isInResult}isVisited(){return this._isVisited}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){if(this._label=null,this._isInResult=!1,this._isCovered=!1,this._isCoveredSet=!1,this._isVisited=!1,0===arguments.length);else if(1===arguments.length){const e=arguments[0];this._label=e}}},function(e,t,o){'use strict';var n=o(9),a=o(321),r=o(10),i=o(37),s=o(29);class d extends a.a{constructor(){super(),d.constructor_.apply(this,arguments)}static depthFactor(e,t){if(e===n.a.EXTERIOR&&t===n.a.INTERIOR)return 1;return e===n.a.INTERIOR&&t===n.a.EXTERIOR?-1:0}getNextMin(){return this._nextMin}getDepth(e){return this._depth[e]}setVisited(e){this._isVisited=e}computeDirectedLabel(){this._label=new s.a(this._edge.getLabel()),this._isForward||this._label.flip()}getNext(){return this._next}setDepth(e,t){if(-999!==this._depth[e]&&this._depth[e]!==t)throw new i.a('assigned depths do not match',this.getCoordinate());this._depth[e]=t}isInteriorAreaEdge(){let e=!0;for(let t=0;2>t;t++)this._label.isArea(t)&&this._label.getLocation(t,r.a.LEFT)===n.a.INTERIOR&&this._label.getLocation(t,r.a.RIGHT)===n.a.INTERIOR||(e=!1);return e}setNextMin(e){this._nextMin=e}print(e){super.print.call(this,e),e.print(' '+this._depth[r.a.LEFT]+'/'+this._depth[r.a.RIGHT]),e.print(' ('+this.getDepthDelta()+')'),this._isInResult&&e.print(' inResult')}setMinEdgeRing(e){this._minEdgeRing=e}isLineEdge(){const e=this._label.isLine(0)||this._label.isLine(1),t=!this._label.isArea(0)||this._label.allPositionsEqual(0,n.a.EXTERIOR),o=!this._label.isArea(1)||this._label.allPositionsEqual(1,n.a.EXTERIOR);return e&&t&&o}setEdgeRing(e){this._edgeRing=e}getMinEdgeRing(){return this._minEdgeRing}getDepthDelta(){let e=this._edge.getDepthDelta();return this._isForward||(e=-e),e}setInResult(e){this._isInResult=e}getSym(){return this._sym}isForward(){return this._isForward}getEdge(){return this._edge}printEdge(e){this.print(e),e.print(' '),this._isForward?this._edge.print(e):this._edge.printReverse(e)}setSym(e){this._sym=e}setVisitedEdge(e){this.setVisited(e),this._sym.setVisited(e)}setEdgeDepths(e,t){let o=this.getEdge().getDepthDelta();this._isForward||(o=-o);let n=1;e===r.a.LEFT&&(n=-1);const a=r.a.opposite(e),i=o*n;this.setDepth(e,t),this.setDepth(a,t+i)}getEdgeRing(){return this._edgeRing}isInResult(){return this._isInResult}setNext(e){this._next=e}isVisited(){return this._isVisited}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){this._isForward=null,this._isInResult=!1,this._isVisited=!1,this._sym=null,this._next=null,this._nextMin=null,this._edgeRing=null,this._minEdgeRing=null,this._depth=[0,-999,-999];const e=arguments[0],t=arguments[1];if(a.a.constructor_.call(this,e),this._isForward=t,t)this.init(e.getCoordinate(0),e.getCoordinate(1));else{const t=e.getNumPoints()-1;this.init(e.getCoordinate(t),e.getCoordinate(t-1))}this.computeDirectedLabel()}},function(e,t,o){'use strict';var n=o(106);class a{constructor(){a.constructor_.apply(this,arguments)}createNode(e){return new n.a(e,null)}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){}},function(e,t,o){'use strict';var n=o(197),a=o(22);class i{constructor(){i.constructor_.apply(this,arguments)}getItem(){return this._item}getBounds(){return this._bounds}getClass(){return i}get interfaces_(){return[n.a,a.a]}}t.a=i,i.constructor_=function(){this._bounds=null,this._item=null;const e=arguments[0],t=arguments[1];this._bounds=e,this._item=t}},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}getBounds(){}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t){'use strict';function o(){}t.a=o;o.prototype.hasNext=function(){},o.prototype.next=function(){},o.prototype.remove=function(){}},function(e,t,o){'use strict';var n=o(1),a=o(5);class i{constructor(){i.constructor_.apply(this,arguments)}static octant(){if('number'==typeof arguments[0]&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1];if(0===e&&0===t)throw new a.a('Cannot compute the octant for point ( '+e+', '+t+' )');const o=l(e),n=l(t);return 0<=e?0<=t?o>=n?0:1:o>=n?7:6:0<=t?o>=n?3:2:o>=n?4:5}if(arguments[0]instanceof n.a&&arguments[1]instanceof n.a){const e=arguments[0],t=arguments[1],o=t.x-e.x,n=t.y-e.y;if(0==o&&0==n)throw new a.a('Cannot compute the octant for two identical points '+e);return i.octant(o,n)}}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){}},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}getCoordinates(){}size(){}getCoordinate(){}isClosed(){}setData(){}getData(){}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t,o){'use strict';var n=o(23);class a{constructor(){a.constructor_.apply(this,arguments)}getLineSegment(e,t){t.p0=this._pts[e],t.p1=this._pts[e+1]}computeSelect(e,t,o,n){const a=this._pts[t],i=this._pts[o];if(1==o-t)return n.select(this,t),null;if(!e.intersects(a,i))return null;const r=u((t+o)/2);t<r&&this.computeSelect(e,t,r,n),r<o&&this.computeSelect(e,r,o,n)}getCoordinates(){const e=Array(this._end-this._start+1).fill(null);let t=0;for(let o=this._start;o<=this._end;o++)e[t++]=this._pts[o];return e}computeOverlaps(){if(2===arguments.length){const e=arguments[0],t=arguments[1];this.computeOverlaps(this._start,this._end,e,e._start,e._end,t)}else if(6===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3],a=arguments[4],i=arguments[5];if(1==t-e&&1==a-n)return i.overlap(this,e,o,n),null;if(!this.overlaps(e,t,o,n,a))return null;const r=u((e+t)/2),s=u((n+a)/2);e<r&&(n<s&&this.computeOverlaps(e,r,o,n,s,i),s<a&&this.computeOverlaps(e,r,o,s,a,i)),r<t&&(n<s&&this.computeOverlaps(r,t,o,n,s,i),s<a&&this.computeOverlaps(r,t,o,s,a,i))}}setId(e){this._id=e}select(e,t){this.computeSelect(e,this._start,this._end,t)}getEnvelope(){if(null===this._env){const e=this._pts[this._start],t=this._pts[this._end];this._env=new n.a(e,t)}return this._env}overlaps(e,t,o,a,i){return n.a.intersects(this._pts[e],this._pts[t],o._pts[a],o._pts[i])}getEndIndex(){return this._end}getStartIndex(){return this._start}getContext(){return this._context}getId(){return this._id}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){this._pts=null,this._start=null,this._end=null,this._env=null,this._context=null,this._id=null;const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3];this._pts=e,this._start=t,this._end=o,this._context=n}},function(e,o,n){'use strict';var a=n(17);class i{constructor(){i.constructor_.apply(this,arguments)}static toDegrees(e){return 180*e/s}static normalize(e){for(;e>s;)e-=i.PI_TIMES_2;for(;e<=-s;)e+=i.PI_TIMES_2;return e}static angle(){if(1===arguments.length){const e=arguments[0];return t(e.y,e.x)}if(2===arguments.length){const e=arguments[0],o=arguments[1],n=o.x-e.x,a=o.y-e.y;return t(a,n)}}static isAcute(e,t,o){const n=e.x-t.x,a=e.y-t.y,i=o.x-t.x,r=o.y-t.y;return 0<n*i+a*r}static isObtuse(e,t,o){const n=e.x-t.x,a=e.y-t.y,i=o.x-t.x,r=o.y-t.y;return 0>n*i+a*r}static interiorAngle(e,t,o){const n=i.angle(t,e),a=i.angle(t,o);return l(a-n)}static normalizePositive(e){if(0>e){for(;0>e;)e+=i.PI_TIMES_2;e>=i.PI_TIMES_2&&(e=0)}else{for(;e>=i.PI_TIMES_2;)e-=i.PI_TIMES_2;0>e&&(e=0)}return e}static angleBetween(e,t,o){const n=i.angle(t,e),a=i.angle(t,o);return i.diff(n,a)}static diff(e,t){let o=null;return o=e<t?t-e:e-t,o>s&&(o=2*s-o),o}static toRadians(e){return e*s/180}static getTurn(e,t){const o=r(t-e);return 0<o?i.COUNTERCLOCKWISE:0>o?i.CLOCKWISE:i.NONE}static angleBetweenOriented(e,t,o){const n=i.angle(t,e),a=i.angle(t,o),r=a-n;return r<=-s?r+i.PI_TIMES_2:r>s?r-i.PI_TIMES_2:r}getClass(){return i}get interfaces_(){return[]}}o.a=i,i.constructor_=function(){},i.PI_TIMES_2=2*s,i.PI_OVER_2=s/2,i.PI_OVER_4=s/4,i.COUNTERCLOCKWISE=a.a.COUNTERCLOCKWISE,i.CLOCKWISE=a.a.CLOCKWISE,i.NONE=a.a.COLLINEAR},function(e,t,o){'use strict';var n=o(342),a=o(106),i=o(195);class r extends i.a{constructor(){super(),r.constructor_.apply(this,arguments)}createNode(e){return new a.a(e,new n.a())}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){}},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}locate(){}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t,o){'use strict';var n=o(198),a=o(97),i=o(25);class r{constructor(){r.constructor_.apply(this,arguments)}static isAtomic(e){return!(e instanceof i.a)}next(){if(this._atStart)return this._atStart=!1,r.isAtomic(this._parent)&&this._index++,this._parent;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return this._subcollectionIterator.next();this._subcollectionIterator=null}if(this._index>=this._max)throw new a.a;const e=this._parent.getGeometryN(this._index++);return e instanceof i.a?(this._subcollectionIterator=new r(e),this._subcollectionIterator.next()):e}remove(){throw new UnsupportedOperationException(this.getClass().getName())}hasNext(){if(this._atStart)return!0;if(null!==this._subcollectionIterator){if(this._subcollectionIterator.hasNext())return!0;this._subcollectionIterator=null}return!(this._index>=this._max)}getClass(){return r}get interfaces_(){return[n.a]}}t.a=r,r.constructor_=function(){this._parent=null,this._atStart=null,this._max=null,this._index=null,this._subcollectionIterator=null;const e=arguments[0];this._parent=e,this._atStart=!0,this._index=0,this._max=e.getNumGeometries()}},function(e,t,o){'use strict';var n=o(345),a=o(0),i=o(63);class r{constructor(){r.constructor_.apply(this,arguments)}print(t){t.print('MULTILINESTRING ( ');for(let o=0;o<this._edges.size();o++){const n=this._edges.get(o);0<o&&t.print(','),t.print('(');const e=n.getCoordinates();for(let o=0;o<e.length;o++)0<o&&t.print(','),t.print(e[o].x+' '+e[o].y);t.println(')')}t.print(')  ')}addAll(e){for(let t=e.iterator();t.hasNext();)this.add(t.next())}findEdgeIndex(t){for(let e=0;e<this._edges.size();e++)if(this._edges.get(e).equals(t))return e;return-1}iterator(){return this._edges.iterator()}getEdges(){return this._edges}get(e){return this._edges.get(e)}findEqualEdge(t){const e=new n.a(t.getCoordinates()),o=this._ocaMap.get(e);return o}add(t){this._edges.add(t);const e=new n.a(t.getCoordinates());this._ocaMap.put(e,t)}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._edges=new a.a,this._ocaMap=new i.a}},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NzIuNTM4IiBoZWlnaHQ9IjU1Ni4wOTQiIHZpZXdCb3g9IjAgMCA1MzYuNzU1IDUyMS4zMzgiPjxnIGZpbGw9Im5vbmUiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PHBhdGggZD0iTTQ5MS45NzggMTA0Ljg1OEwzNzUuMDUzIDMyMi42MzNsLTE5Ny45OTUgMzMuNTI4LTUyLjExMiAxMjAuNTYyIDUwLjUwOC0xMjAuNzY1IDIwMC0zMHoiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSI5MCIvPjxwYXRoIGQ9Ik00OTEuOTc4IDEwNC44NThMMzc1LjA1MyAzMjIuNjMzbC0xOTcuOTk1IDMzLjUyOC01Mi4xMTIgMTIwLjU2MiA1MC41MDgtMTIwLjc2NSAyMDAtMzB6IiBzdHJva2U9IiNmZmYiIHN0cm9rZS13aWR0aD0iNDAiLz48cGF0aCBkPSJNMzgxLjk3OCAxNC44NThMMjY1LjA1MyAyMzIuNjMzIDY3LjA1OCAyNjYuMTYgMTQuOTQ2IDM4Ni43MjNsNTAuNTA4LTEyMC43NjUgMjAwLTMweiIgc3Ryb2tlPSIjOGE4YThhIiBzdHJva2Utd2lkdGg9IjMwIi8+PC9nPjwvc3ZnPg=='},function(e,t,o){'use strict';var n=o(184),a=o(362),i=o(3),r=o(21),s=o(209),d=o(132),l=o(82);class p{constructor(){p.constructor_.apply(this,arguments)}static snap(e,t,o){const n=[,,].fill(null),a=new p(e);n[0]=a.snapTo(t,o);const i=new p(t);return n[1]=i.snapTo(n[0],o),n}static computeOverlaySnapTolerance(){if(1===arguments.length){const e=arguments[0];let t=p.computeSizeBasedSnapTolerance(e);const o=e.getPrecisionModel();if(o.getType()===d.a.FIXED){const e=2*(1/o.getScale())/1.415;e>t&&(t=e)}return t}if(2===arguments.length){const e=arguments[0],t=arguments[1];return C(p.computeOverlaySnapTolerance(e),p.computeOverlaySnapTolerance(t))}}static computeSizeBasedSnapTolerance(e){const t=e.getEnvelopeInternal(),o=C(t.getHeight(),t.getWidth()),n=o*p.SNAP_PRECISION_FACTOR;return n}static snapToSelf(e,t,o){const n=new p(e);return n.snapToSelf(t,o)}snapTo(e,t){const o=this.extractTargetCoordinates(e),n=new _(t,o);return n.transform(this._srcGeom)}snapToSelf(e,t){const o=this.extractTargetCoordinates(this._srcGeom),n=new _(e,o,!0),a=n.transform(this._srcGeom);let r=a;return t&&Object(i.a)(r,l.a)&&(r=a.buffer(0)),r}computeSnapTolerance(e){const t=this.computeMinimumSegmentLength(e);return t/10}extractTargetCoordinates(e){const t=new n.a,o=e.getCoordinates();for(let n=0;n<o.length;n++)t.add(o[n]);return t.toArray([].fill(null))}computeMinimumSegmentLength(e){let t=r.a.MAX_VALUE;for(let o=0;o<e.length-1;o++){const n=e[o].distance(e[o+1]);n<t&&(t=n)}return t}getClass(){return p}get interfaces_(){return[]}}t.a=p,p.constructor_=function(){this._srcGeom=null;const e=arguments[0];this._srcGeom=e},p.SNAP_PRECISION_FACTOR=1e-9;class _ extends a.a{constructor(){super(),_.constructor_.apply(this,arguments)}snapLine(e,t){const o=new s.a(e,this._snapTolerance);return o.setAllowSnappingToSourceVertices(this._isSelfSnap),o.snapTo(t)}transformCoordinates(e){const t=e.toCoordinateArray(),o=this.snapLine(t,this._snapPts);return this._factory.getCoordinateSequenceFactory().create(o)}getClass(){return _}get interfaces_(){return[]}}_.constructor_=function(){if(this._snapTolerance=null,this._snapPts=null,this._isSelfSnap=!1,2===arguments.length){const e=arguments[0],t=arguments[1];this._snapTolerance=e,this._snapPts=t}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];this._snapTolerance=e,this._snapPts=t,this._isSelfSnap=o}}},function(e,t,o){'use strict';var n=o(27),a=o(96),r=o(1),i=o(21),s=o(68);class d{constructor(){d.constructor_.apply(this,arguments)}static isClosed(e){return!(1>=e.length)&&e[0].equals2D(e[e.length-1])}snapVertices(e,t){const o=this._isClosed?e.size()-1:e.size();for(let n=0;n<o;n++){const o=e.get(n),a=this.findSnapForVertex(o,t);null!==a&&(e.set(n,new r.a(a)),0===n&&this._isClosed&&e.set(e.size()-1,new r.a(a)))}}findSnapForVertex(e,t){for(let o=0;o<t.length;o++){if(e.equals2D(t[o]))return null;if(e.distance(t[o])<this._snapTolerance)return t[o]}return null}snapTo(e){const t=new a.a(this._srcPts);this.snapVertices(t,e),this.snapSegments(t,e);const o=t.toCoordinateArray();return o}snapSegments(e,t){if(0===t.length)return null;let o=t.length;t[0].equals2D(t[t.length-1])&&(o=t.length-1);for(let n=0;n<o;n++){const o=t[n],a=this.findSegmentIndexToSnap(o,e);0<=a&&e.add(a+1,new r.a(o),!1)}}findSegmentIndexToSnap(e,t){let o=i.a.MAX_VALUE,n=-1;for(let a=0;a<t.size()-1;a++){if(this._seg.p0=t.get(a),this._seg.p1=t.get(a+1),this._seg.p0.equals2D(e)||this._seg.p1.equals2D(e))if(this._allowSnappingToSourceVertices)continue;else return-1;const i=this._seg.distance(e);i<this._snapTolerance&&i<o&&(o=i,n=a)}return n}setAllowSnappingToSourceVertices(e){this._allowSnappingToSourceVertices=e}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){if(this._snapTolerance=0,this._srcPts=null,this._seg=new s.a,this._allowSnappingToSourceVertices=!1,this._isClosed=!1,arguments[0]instanceof n.a&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1];d.constructor_.call(this,e.getCoordinates(),t)}else if(arguments[0]instanceof Array&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1];this._srcPts=e,this._isClosed=d.isClosed(e),this._snapTolerance=t}}},function(e,t,o){'use strict';var n=o(9),a=o(27),i=o(5),r=o(64),s=o(49),d=o(101),l=o(95),_=o(65),g=o(205),c=o(25),u=o(47);class p{constructor(){p.constructor_.apply(this,arguments)}locateInPolygonRing(e,t){return t.getEnvelopeInternal().intersects(e)?d.a.locateInRing(e,t.getCoordinates()):n.a.EXTERIOR}intersects(e,t){return this.locate(e,t)!==n.a.EXTERIOR}updateLocationInfo(e){e===n.a.INTERIOR&&(this._isIn=!0),e===n.a.BOUNDARY&&this._numBoundaries++}computeLocation(e,t){if(t instanceof r.a&&this.updateLocationInfo(this.locateOnPoint(e,t)),t instanceof a.a)this.updateLocationInfo(this.locateOnLineString(e,t));else if(t instanceof s.a)this.updateLocationInfo(this.locateInPolygon(e,t));else if(t instanceof u.a){const o=t;for(let t=0;t<o.getNumGeometries();t++){const n=o.getGeometryN(t);this.updateLocationInfo(this.locateOnLineString(e,n))}}else if(t instanceof _.a){const o=t;for(let t=0;t<o.getNumGeometries();t++){const n=o.getGeometryN(t);this.updateLocationInfo(this.locateInPolygon(e,n))}}else if(t instanceof c.a)for(const o=new g.a(t);o.hasNext();){const n=o.next();n!==t&&this.computeLocation(e,n)}}locateOnPoint(e,t){const o=t.getCoordinate();return o.equals2D(e)?n.a.INTERIOR:n.a.EXTERIOR}locateOnLineString(e,t){if(!t.getEnvelopeInternal().intersects(e))return n.a.EXTERIOR;const o=t.getCoordinateSequence();return!t.isClosed()&&(e.equals(o.getCoordinate(0))||e.equals(o.getCoordinate(o.size()-1)))?n.a.BOUNDARY:d.a.isOnLine(e,o)?n.a.INTERIOR:n.a.EXTERIOR}locateInPolygon(e,t){if(t.isEmpty())return n.a.EXTERIOR;const o=t.getExteriorRing(),a=this.locateInPolygonRing(e,o);if(a===n.a.EXTERIOR)return n.a.EXTERIOR;if(a===n.a.BOUNDARY)return n.a.BOUNDARY;for(let o=0;o<t.getNumInteriorRing();o++){const a=t.getInteriorRingN(o),i=this.locateInPolygonRing(e,a);if(i===n.a.INTERIOR)return n.a.EXTERIOR;if(i===n.a.BOUNDARY)return n.a.BOUNDARY}return n.a.INTERIOR}locate(e,t){return t.isEmpty()?n.a.EXTERIOR:t instanceof a.a?this.locateOnLineString(e,t):t instanceof s.a?this.locateInPolygon(e,t):(this._isIn=!1,this._numBoundaries=0,this.computeLocation(e,t),this._boundaryRule.isInBoundary(this._numBoundaries)?n.a.BOUNDARY:0<this._numBoundaries||this._isIn?n.a.INTERIOR:n.a.EXTERIOR)}getClass(){return p}get interfaces_(){return[]}}t.a=p,p.constructor_=function(){if(this._boundaryRule=l.a.OGC_SFS_BOUNDARY_RULE,this._isIn=null,this._numBoundaries=null,0===arguments.length);else if(1===arguments.length){const e=arguments[0];if(null===e)throw new i.a('Rule must be non-null');this._boundaryRule=e}}},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}static isAdjacentSegments(e,t){return 1===l(e-t)}isTrivialIntersection(e,t,n,a){if(e===n&&1===this._li.getIntersectionNum()){if(o.isAdjacentSegments(t,a))return!0;if(e.isClosed()){const o=e.getNumPoints()-1;if(0===t&&a===o||0===a&&t===o)return!0}}return!1}getProperIntersectionPoint(){return this._properIntersectionPoint}setIsDoneIfProperInt(e){this._isDoneWhenProperInt=e}hasProperInteriorIntersection(){return this._hasProperInterior}isBoundaryPointInternal(e,t){for(let o=t.iterator();o.hasNext();){const t=o.next(),n=t.getCoordinate();if(e.isIntersection(n))return!0}return!1}hasProperIntersection(){return this._hasProper}hasIntersection(){return this._hasIntersection}isDone(){return this._isDone}isBoundaryPoint(e,t){return null!==t&&(!!this.isBoundaryPointInternal(e,t[0])||!!this.isBoundaryPointInternal(e,t[1]))}setBoundaryNodes(e,t){this._bdyNodes=[,,].fill(null),this._bdyNodes[0]=e,this._bdyNodes[1]=t}addIntersections(e,t,o,n){if(e===o&&t===n)return null;this.numTests++;const a=e.getCoordinates()[t],i=e.getCoordinates()[t+1],r=o.getCoordinates()[n],s=o.getCoordinates()[n+1];this._li.computeIntersection(a,i,r,s),this._li.hasIntersection()&&(this._recordIsolated&&(e.setIsolated(!1),o.setIsolated(!1)),this._numIntersections++,!this.isTrivialIntersection(e,t,o,n)&&(this._hasIntersection=!0,(this._includeProper||!this._li.isProper())&&(e.addIntersections(this._li,t,0),o.addIntersections(this._li,n,1)),this._li.isProper()&&(this._properIntersectionPoint=this._li.getIntersection(0).copy(),this._hasProper=!0,this._isDoneWhenProperInt&&(this._isDone=!0),!this.isBoundaryPoint(this._li,this._bdyNodes)&&(this._hasProperInterior=!0))))}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._properIntersectionPoint=null,this._li=null,this._includeProper=null,this._recordIsolated=null,this._isSelfIntersection=null,this._numIntersections=0,this.numTests=0,this._bdyNodes=null,this._isDone=!1,this._isDoneWhenProperInt=!1;const e=arguments[0],t=arguments[1],o=arguments[2];this._li=e,this._includeProper=t,this._recordIsolated=o}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=o(395),s=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(n)},l=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this));return o.controls=(e||{}).controls,o.ignoreKeys=['title','image','className'],o}return i(t,e),s(t,[{key:'activate',value:function(){var e=this;d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'activate',this).call(this),this.controls=this.controls||this.editor.getControls().getArray(),this.restoreProperties(),this.restoreActiveControls(),this.controls.forEach(function(t){t.addEventListener('propertychange',function(t){e.storeProperties(t.detail.control.getProperties().title,t.detail.properties)}),t.addEventListener('change:active',function(){e.storeActiveControls()})})}},{key:'deactivate',value:function(){d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'deactivate',this).call(this),this.controls.forEach(function(e){e.removeEventListener('propertychange')})}},{key:'storeProperties',value:function(e,t){for(var o={},n=Object.keys(t),a=0,i;a<n.length;a+=1)i=n[a],-1!==this.ignoreKeys.indexOf(i)||t[i]instanceof Object||(o[i]=t[i]);return o}},{key:'restoreProperties',value:function(){}},{key:'storeActiveControls',value:function(){var e=this.editor.getActiveControls();return e.getArray().map(function(e){return e.getProperties().title})}},{key:'restoreActiveControls',value:function(){}}]),t}(r.a);t.a=l},function(e,t,o){e.exports=o(214)},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(215),a=o(223),i=o(393);o.d(t,'control',function(){return a}),o.d(t,'service',function(){return i}),o.d(t,'Editor',function(){return n.a})},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var a=o(69),i=o(216),r=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),s=function(){function e(t,o){n(this,e),this.map=t,this.controls=new a.a,this.activeControls=new a.a,this.services=new a.a,this.options=o||{},this.editFeature=null,'undefined'==typeof this.options.showToolbar&&(this.options.showToolbar=!0),this.options.showToolbar&&(this.toolbar=new i.a(this.map,this.controls,this.options.target))}return r(e,[{key:'addControl',value:function(e){var t=this;e.setMap(this.map),e.setEditor(this),e.addEventListener('change:active',function(o){t.activeStateChange(o.detail.control)}),this.controls.push(e)}},{key:'addService',value:function(e){e.setMap(this.map),e.setEditor(this),e.activate(),this.services.push(e)}},{key:'addControls',value:function(e){for(var t=e instanceof a.a?e:new a.a(e),o=0;o<t.getLength();o+=1)this.addControl(t.item(o))}},{key:'remove',value:function(){this.controls.forEach(function(e){e.deactivate(!0)}),this.toolbar&&this.toolbar.destroy()}},{key:'getControls',value:function(){return this.controls}},{key:'getActiveControls',value:function(){return this.activeControls}},{key:'setEditFeature',value:function(e){this.editFeature=e}},{key:'getEditFeature',value:function(){return this.editFeature}},{key:'activeStateChange',value:function(e){if(e.getActive()&&e.standalone)for(var t=0,o;t<this.controls.getLength();t+=1)o=this.controls.item(t),o!==e&&o.getActive()&&o.standalone&&(o.deactivate(),this.activeControls.remove(o));e.getActive()?this.activeControls.push(e):this.activeControls.remove(e)}}]),e}();t.a=s},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=o(143),s=o(218),d=o.n(s),l=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),p=function(e){function t(e,o,i){n(this,t);var r=document.createElement('div');r.setAttribute('id','ole-toolbar');var s=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,{element:i||r}));return s.controls=o,s.map=e,i||s.map.getTargetElement().appendChild(s.element),s.load(),s.controls.on('change:length',s.load.bind(s)),s}return i(t,e),l(t,[{key:'load',value:function(){for(var e=0,t;e<this.controls.getLength();e+=1)t=this.controls.item(e).getElement(),this.element.appendChild(t)}},{key:'destroy',value:function(){for(var e=0,t;e<this.controls.getLength();e+=1)t=this.controls.item(e).getElement(),this.element.removeChild(t)}}]),t}(r.a);t.a=p},function(e,t){'use strict';t.a={POSTRENDER:'postrender',MOVESTART:'movestart',MOVEEND:'moveend'}},function(e,t,o){var n=o(219);'string'==typeof n&&(n=[[e.i,n,'']]);var a={hmr:!0},i;a.transform=i,a.insertInto=void 0;o(221)(n,a);n.locals&&(e.exports=n.locals),!1},function(e,t,o){t=e.exports=o(220)(!1),t.push([e.i,'#ole-toolbar {\n  position: absolute;\n  right: 20px;\n  top: 20px;\n}\n\n#ole-toolbar button.ole-control {\n  background: #fafafa;\n  border: 0;\n  color: #999;\n  cursor: pointer;\n  font-size: 14px;\n  line-height: 36px;\n  height: 45px;\n  padding: 0 8px;\n  transition: all .3s ease-out;\n}\n\n#ole-toolbar button.ole-control:first-child {\n  border-radius: 4px 0 0 4px;\n}\n\n#ole-toolbar button.ole-control:last-child {\n  border-radius: 0 4px 4px 0;\n}\n\n#ole-toolbar button.ole-control:hover {\n  color: #5c5c5c;\n}\n\n#ole-toolbar button.ole-control:focus {\n  outline: 0;\n}\n\n#ole-toolbar button.ole-control.active {\n  box-shadow: 0 4px 4px 0 rgba(0,0,0,0.3);\n  color: #5c5c5c;\n  filter: brightness(90%);\n}\n\n/* buttons */\n#ole-toolbar button.ole-control {\n  padding: 5px;\n}\n\n#ole-toolbar button.ole-control img {\n  height: 35px;\n}\n\n\n/* dialog */\n.ole-dialog {\n  background: #fafafa;\n  border-radius: 4px;\n  right: 20px;\n  padding: 10px;\n  position: absolute;\n  text-align: left;\n  top: 75px;\n  width: 330px;\n  z-index: 2;\n}\n\n/* font */\n#ole-toolbar, .ole-dialog {\n  font-family: Arial;\n  font-size:  14px;\n}\n\n/* shadow */\n#ole-toolbar button.ole-control, .ole-dialog {\n  box-shadow: 0 3px 3px 0 rgba(0,0,0,0.2);\n}\n\n#width-input {\n  width: 50px;\n}\n',''])},function(e){function t(e,t){var n=e[1]||'',a=e[3];if(!a)return n;if(t&&'function'==typeof btoa){var i=o(a),r=a.sources.map(function(e){return'/*# sourceURL='+a.sourceRoot+e+' */'});return[n].concat(r).concat([i]).join('\n')}return[n].join('\n')}function o(e){var t=btoa(unescape(encodeURIComponent(JSON.stringify(e))));return'/*# '+('sourceMappingURL=data:application/json;charset=utf-8;base64,'+t)+' */'}e.exports=function(e){var o=[];return o.toString=function(){return this.map(function(o){var n=t(o,e);return o[2]?'@media '+o[2]+'{'+n+'}':n}).join('')},o.i=function(e,t){'string'==typeof e&&(e=[[null,e,'']]);for(var n={},a=0,i;a<this.length;a++)i=this[a][0],'number'==typeof i&&(n[i]=!0);for(a=0;a<e.length;a++){var r=e[a];'number'==typeof r[0]&&n[r[0]]||(t&&!r[2]?r[2]=t:t&&(r[2]='('+r[2]+') and ('+t+')'),o.push(r))}},o}},function(e,t,o){function n(e,t){for(var o=0;o<e.length;o++){var n=e[o],a=u[n.id];if(a){a.refs++;for(var i=0;i<a.parts.length;i++)a.parts[i](n.parts[i]);for(;i<n.parts.length;i++)a.parts.push(p(n.parts[i],t))}else{for(var r=[],i=0;i<n.parts.length;i++)r.push(p(n.parts[i],t));u[n.id]={id:n.id,refs:1,parts:r}}}}function a(e,t){for(var o=[],n={},a=0;a<e.length;a++){var i=e[a],r=t.base?i[0]+t.base:i[0],s=i[1],d=i[2],l=i[3],p={css:s,media:d,sourceMap:l};n[r]?n[r].parts.push(p):o.push(n[r]={id:r,parts:[p]})}return o}function i(e,t){var o=h(e.insertInto);if(!o)throw new Error('Couldn\'t find a style target. This probably means that the value for the \'insertInto\' parameter is invalid.');var n=I[I.length-1];if('top'===e.insertAt)n?n.nextSibling?o.insertBefore(t,n.nextSibling):o.appendChild(t):o.insertBefore(t,o.firstChild),I.push(t);else if('bottom'===e.insertAt)o.appendChild(t);else if('object'==typeof e.insertAt&&e.insertAt.before){var a=h(e.insertInto+' '+e.insertAt.before);o.insertBefore(t,a)}else throw new Error('[Style Loader]\n\n Invalid value for parameter \'insertAt\' (\'options.insertAt\') found.\n Must be \'top\', \'bottom\', or Object.\n (https://github.com/webpack-contrib/style-loader#insertat)\n')}function r(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e);var t=I.indexOf(e);0<=t&&I.splice(t,1)}function s(e){var t=document.createElement('style');return e.attrs.type='text/css',l(t,e.attrs),i(e,t),t}function d(e){var t=document.createElement('link');return e.attrs.type='text/css',e.attrs.rel='stylesheet',l(t,e.attrs),i(e,t),t}function l(e,t){Object.keys(t).forEach(function(o){e.setAttribute(o,t[o])})}function p(e,t){var o,n,a,i;if(t.transform&&e.css)if(i=t.transform(e.css),i)e.css=i;else return function(){};if(t.singleton){var l=x++;o=f||(f=s(t)),n=_.bind(null,o,l,!1),a=_.bind(null,o,l,!0)}else e.sourceMap&&'function'==typeof URL&&'function'==typeof URL.createObjectURL&&'function'==typeof URL.revokeObjectURL&&'function'==typeof Blob&&'function'==typeof btoa?(o=d(t),n=c.bind(null,o,t),a=function(){r(o),o.href&&URL.revokeObjectURL(o.href)}):(o=s(t),n=g.bind(null,o),a=function(){r(o)});return n(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;n(e=t)}else a()}}function _(e,t,o,n){var a=o?'':n.css;if(e.styleSheet)e.styleSheet.cssText=C(t,a);else{var i=document.createTextNode(a),r=e.childNodes;r[t]&&e.removeChild(r[t]),r.length?e.insertBefore(i,r[t]):e.appendChild(i)}}function g(e,t){var o=t.css,n=t.media;if(n&&e.setAttribute('media',n),e.styleSheet)e.styleSheet.cssText=o;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(o))}}function c(e,t,o){var n=o.css,a=o.sourceMap,i=t.convertToAbsoluteUrls===void 0&&a;(t.convertToAbsoluteUrls||i)&&(n=E(n)),a&&(n+='\n/*# sourceMappingURL=data:application/json;base64,'+btoa(unescape(encodeURIComponent(JSON.stringify(a))))+' */');var r=new Blob([n],{type:'text/css'}),s=e.href;e.href=URL.createObjectURL(r),s&&URL.revokeObjectURL(s)}var u={},y=function(e){var t;return function(){return'undefined'==typeof t&&(t=e.apply(this,arguments)),t}}(function(){return window&&document&&document.all&&!window.atob}),m=function(e){return document.querySelector(e)},h=function(){var e={};return function(t){if('function'==typeof t)return t();if('undefined'==typeof e[t]){var o=m.call(this,t);if(window.HTMLIFrameElement&&o instanceof window.HTMLIFrameElement)try{o=o.contentDocument.head}catch(t){o=null}e[t]=o}return e[t]}}(),f=null,x=0,I=[],E=o(222);e.exports=function(e,t){if('undefined'!=typeof DEBUG&&DEBUG&&'object'!=typeof document)throw new Error('The style-loader cannot be used in a non-browser environment');t=t||{},t.attrs='object'==typeof t.attrs?t.attrs:{},t.singleton||'boolean'==typeof t.singleton||(t.singleton=y()),t.insertInto||(t.insertInto='head'),t.insertAt||(t.insertAt='bottom');var o=a(e,t);return n(o,t),function(e){for(var r=[],s=0;s<o.length;s++){var i=o[s],d=u[i.id];d.refs--,r.push(d)}if(e){var l=a(e,t);n(l,t)}for(var s=0,d;s<r.length;s++)if(d=r[s],0===d.refs){for(var p=0;p<d.parts.length;p++)d.parts[p]();delete u[d.id]}}};var C=function(){var e=[];return function(t,o){return e[t]=o,e.filter(Boolean).join('\n')}}()},function(e){e.exports=function(e){var t='undefined'!=typeof window&&window.location;if(!t)throw new Error('fixUrls requires window.location');if(!e||'string'!=typeof e)return e;var o=t.protocol+'//'+t.host,n=o+t.pathname.replace(/\/[^\/]*$/,'/'),a=e.replace(/url\s*\(((?:[^)(]|\((?:[^)(]+|\([^)(]*\))*\))*)\)/gi,function(e,t){var a=t.trim().replace(/^"(.*)"$/,function(e,t){return t}).replace(/^'(.*)'$/,function(e,t){return t});if(/^(#|data:|http:\/\/|https:\/\/|file:\/\/\/|\s*$)/i.test(a))return e;var i;return i=0===a.indexOf('//')?a:0===a.indexOf('/')?o+a:n+a.replace(/^\.\//,''),'url('+JSON.stringify(i)+')'});return a}},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(40),a=o(233),i=o(281),r=o(284),s=o(288),d=o(290),l=o(360),p=o(389),_=o(391);o.d(t,'Control',function(){return n.a}),o.d(t,'CAD',function(){return a.a}),o.d(t,'Rotate',function(){return i.a}),o.d(t,'Draw',function(){return r.a}),o.d(t,'Modify',function(){return s.a}),o.d(t,'Buffer',function(){return d.a}),o.d(t,'Union',function(){return l.a}),o.d(t,'Intersection',function(){return p.a}),o.d(t,'Difference',function(){return _.a})},function(e,t){'use strict';t.a={BOTTOM_LEFT:'bottom-left',BOTTOM_RIGHT:'bottom-right',TOP_LEFT:'top-left',TOP_RIGHT:'top-right'}},function(e,t,o){'use strict';function n(e,t,o,n){return function(a,r,s){var d=new XMLHttpRequest;d.open('GET','function'==typeof e?e(a,r,s):e,!0),t.getType()==i.a.ARRAY_BUFFER&&(d.responseType='arraybuffer'),d.onload=function(){if(!d.status||200<=d.status&&300>d.status){var e=t.getType(),r=void 0;e==i.a.JSON||e==i.a.TEXT?r=d.responseText:e==i.a.XML?(r=d.responseXML,!r&&(r=new DOMParser().parseFromString(d.responseText,'application/xml'))):e==i.a.ARRAY_BUFFER&&(r=d.response),r?o.call(this,t.readFeatures(r,{extent:a,featureProjection:s}),t.readProjection(r)):n.call(this)}else n.call(this)}.bind(this),d.onerror=function(){n.call(this)}.bind(this),d.send()}}t.a=function(e,t){return n(e,t,function(e){var t=this;'function'==typeof t.addFeatures&&t.addFeatures(e)},a.c)};var a=o(13),i=o(226)},function(e,t){'use strict';t.a={ARRAY_BUFFER:'arraybuffer',JSON:'json',TEXT:'text',XML:'xml'}},function(e,t){'use strict';t.a=function(){return[[-Infinity,-Infinity,Infinity,Infinity]]}},function(e,t,o){'use strict';function n(e){return e?Array.isArray(e)?function(){return e}:'function'==typeof e?e:function(){return[e]}:null}var a=o(6),i=o(26),r=o(109),s=o(89),d=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=function(e){function t(t){var o=e.call(this)||this;return o.projection_=Object(r.a)(t.projection),o.attributions_=n(t.attributions),o.attributionsCollapsible_=void 0===t.attributionsCollapsible||t.attributionsCollapsible,o.loading=!1,o.state_=void 0===t.state?s.a.READY:t.state,o.wrapX_=void 0!==t.wrapX&&t.wrapX,o}return d(t,e),t.prototype.getAttributions=function(){return this.attributions_},t.prototype.getAttributionsCollapsible=function(){return this.attributionsCollapsible_},t.prototype.getProjection=function(){return this.projection_},t.prototype.getResolutions=function(){return Object(a.b)()},t.prototype.getState=function(){return this.state_},t.prototype.getWrapX=function(){return this.wrapX_},t.prototype.refresh=function(){this.changed()},t.prototype.setAttributions=function(e){this.attributions_=n(e),this.changed()},t.prototype.setState=function(e){this.state_=e,this.changed()},t}(i.a);t.a=l},function(t,o,n){'use strict';n.d(o,'a',function(){return m}),o.b=function(e,t,o){var n=e.length,a=1<o?o:2,r=t;r===void 0&&(2<a?r=e.slice():r=Array(n));for(var d=g,p=0;p<n;p+=a){r[p]=d*e[p]/180;var i=l*_(Math.tan(s*(+e[p+1]+90)/360));i>d?i=d:i<-d&&(i=-d),r[p+1]=i}return r},o.c=function(t,o,n){var a=t.length,r=1<n?n:2,d=o;d===void 0&&(2<r?d=t.slice():d=Array(a));for(var _=0;_<a;_+=r)d[_]=180*t[_]/g,d[_+1]=360*e(p(t[_+1]/l))/s-90;return d};var a=n(14),i=n(110),r=n(71),d=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),l=6378137,g=s*l,c=[-g,-g,g,g],u=[-180,-85,180,85],y=function(e){function t(t){return e.call(this,{code:t,units:r.b.METERS,extent:c,global:!0,worldExtent:u,getPointResolution:function(e,t){return e/Object(a.b)(t[1]/l)}})||this}return d(t,e),t}(i.a),m=[new y('EPSG:3857'),new y('EPSG:102100'),new y('EPSG:102113'),new y('EPSG:900913'),new y('urn:ogc:def:crs:EPSG:6.18:3:3857'),new y('urn:ogc:def:crs:EPSG::3857'),new y('http://www.opengis.net/gml/srs/epsg.xml#3857')]},function(e,t,o){'use strict';o.d(t,'a',function(){return l});var n=o(110),a=o(71),i=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=[-180,-90,180,90],d=function(e){function t(t,o){return e.call(this,{code:t,units:a.b.DEGREES,extent:r,axisOrientation:o,global:!0,metersPerUnit:s*6378137/180,worldExtent:r})||this}return i(t,e),t}(n.a),l=[new d('CRS:84'),new d('EPSG:4326','neu'),new d('urn:ogc:def:crs:EPSG::4326','neu'),new d('urn:ogc:def:crs:EPSG:6.6:4326','neu'),new d('urn:ogc:def:crs:OGC:1.3:CRS84'),new d('urn:ogc:def:crs:OGC:2:84'),new d('http://www.opengis.net/gml/srs/epsg.xml#4326','neu'),new d('urn:x-ogc:def:crs:EPSG:4326','neu')]},function(e,t,o){'use strict';t.b=function(){a={}},t.a=function(e,t,o){var n=e.getCode(),i=t.getCode();n in a||(a[n]={}),a[n][i]=o},t.c=function(e,t){var o;return e in a&&t in a[e]&&(o=a[e][t]),o};var n=o(12),a={}},function(e,t){'use strict';t.b=function(){o={}},t.c=function(e){return o[e]||null},t.a=function(e,t){o[e]=t};var o={}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=o(113),d=o(54),l=o(45),p=o(92),_=o(57),g=o(41),c=o(123),u=o(40),y=o(280),m=o.n(y),h=Object.assign||function(e){for(var t=1,o;t<arguments.length;t++)for(var n in o=arguments[t],o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);return e},f=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),x=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(n)},I=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,h({title:'CAD control',className:'ole-control-cad',image:m.a,showSnapPoints:!0,showSnapLines:!1,snapPointDist:10},e)));return o.pointerInteraction=new c.c({handleMoveEvent:o.onMove.bind(o)}),o.snapLayer=new _.a({source:new g.a,style:e.snapStyle||[new r.f({image:new r.d({fill:new r.b({color:'#E8841F'}),stroke:new r.e({width:1,color:'#618496'}),points:4,radius:5,radius2:0,angle:s/4}),stroke:new r.e({width:1,lineDash:[5,10],color:'#618496'})})]}),o.linesLayer=new _.a({source:new g.a,style:e.linesStyle||[new r.f({stroke:new r.e({width:1,lineDash:[5,10],color:'#FF530D'})})]}),o.snapTolerance=e.snapTolerance||10,o.snapInteraction=new c.e({pixelTolerance:o.snapTolerance,source:o.snapLayer.getSource()}),o.standalone=!1,o}return i(t,e),f(t,[{key:'getDialogTemplate',value:function(){var e=this.properties.useMapUnits?'map units':'px';return'\n      <div>\n        <input\n          id="aux-cb"\n          type="radio"\n          name="radioBtn"\n          '+(this.properties.showSnapLines?'checked':'')+'\n        >\n        <label>Show snap lines</label>\n      </div>\n      <div>\n        <input\n          id="dist-cb"\n          type="radio"\n          name="radioBtn"\n          '+(this.properties.showSnapPoints?'checked':'')+'\n        >\n        <label>Show snap points. Distance ('+e+'):</label>\n        <input type="text" id="width-input"\n          value="'+this.properties.snapPointDist+'">\n      </div>\n    '}},{key:'setMap',value:function(e){var o=this;x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'setMap',this).call(this,e),this.map.getInteractions().on('change:length',function(t){var e=t.target.getArray().indexOf(o.snapInteraction);o.snapInteraction.getActive()&&-1<e&&e!==t.target.getLength()-1&&(o.deactivate(!0),o.activate(!0))}.bind(this))}},{key:'onMove',value:function(e){var t=this.getClosestFeatures(e.coordinate,5),o=this.editor.getEditFeature();o&&-1<t.indexOf(o)&&t.splice(t.indexOf(o),1),this.linesLayer.getSource().clear(),this.snapLayer.getSource().clear(),this.properties.showSnapLines&&this.drawSnapLines(t,e.coordinate),this.properties.showSnapPoints&&t.length&&this.drawSnapPoints(e.coordinate,t[0])}},{key:'getClosestFeatures',value:function(e,t){var o=[-Infinity,-Infinity,Infinity,Infinity],n={};this.source.forEachFeatureInExtent(o,function(t){var o=t.getGeometry().getClosestPoint(e),a=o[0]-e[0],i=o[1]-e[1];n[a*a+i*i]=t});var a=Object.keys(n),r=[],s=C(a.length,t||1);a.sort(function(e,t){return e-t});for(var d=0;d<s;d+=1)r.push(n[a[d]]);return r}},{key:'drawSnapLines',value:function(e,t){for(var o=[],n=0;n<e.length;n+=1){var a=e[n].getGeometry(),i=a.getCoordinates();if(a instanceof d.e)o.push(i);else{if(a instanceof d.a)for(var r=0;r<i.length;r+=1)o.push(i[r]);else if(a instanceof d.f)for(var s=0;s<i[0].length;s+=1)o.push(i[0][s]);var _=Object(l.c)(a.getExtent()).getCoordinates()[0];o=o.concat(_)}}for(var c=this.map.getPixelFromCoordinate(t),u=null,y=0;y<o.length;y+=1){var m=this.snapTolerance,h=this.map.getPixelFromCoordinate(o[y]),f=c[0]>h[0]-this.snapTolerance/2&&c[0]<h[0]+this.snapTolerance/2,x=c[1]>h[1]-this.snapTolerance/2&&c[1]<h[1]+this.snapTolerance/2;if(f){var I=c[1];I+=c[1]<h[1]?2*-m:2*m;var E=this.map.getCoordinateFromPixel([h[0],I]);u=[[o[y][0],E[1]],o[y]]}else if(x){var C=c[0];C+=c[0]<h[0]?2*-m:2*m;var N=this.map.getCoordinateFromPixel([C,h[1]]);u=[[N[0],o[y][1]],o[y]]}if(u){var T=new d.a(u);this.snapLayer.getSource().addFeature(new p.a(T))}}var g=null,S=null,L=this.snapLayer.getSource().getFeatures();if(L.length){L.forEach(function(e){var t=e.getGeometry().getCoordinates(),o=t[0][0],n=t[1][0],a=t[0][1],i=t[1][1];o===n&&(g=o),a===i&&(S=a)});var O=[];if(g&&S){O.push(g),O.push(S),this.linesLayer.getSource().addFeatures(L),this.snapLayer.getSource().clear();var R=new d.e(O);this.snapLayer.getSource().addFeature(new p.a(R))}}}},{key:'drawSnapPoints',value:function(e,t){var o=t.getGeometry().getClosestPoint(e),n=this.map.getPixelFromCoordinate(o),a=[];if(this.properties.useMapUnits)a=[[o[0]-this.properties.snapPointDist,o[1]],[o[0]+this.properties.snapPointDist,o[1]],[o[0],o[1]-this.properties.snapPointDist],[o[0],o[1]+this.properties.snapPointDist]];else for(var i=[[n[0]-this.properties.snapPointDist,n[1]],[n[0]+this.properties.snapPointDist,n[1]],[n[0],n[1]-this.properties.snapPointDist],[n[0],n[1]+this.properties.snapPointDist]],r=0;r<i.length;r+=1)a.push(this.map.getCoordinateFromPixel(i[r]));var s=new d.c(a);this.snapLayer.getSource().addFeature(new p.a(s))}},{key:'activate',value:function(e){var o=this;x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'activate',this).call(this,e),this.snapLayer.setMap(this.map),this.linesLayer.setMap(this.map),this.map.addInteraction(this.pointerInteraction),this.map.addInteraction(this.snapInteraction),document.getElementById('aux-cb').addEventListener('change',function(e){o.setProperties({showSnapLines:e.target.checked,showSnapPoints:!e.target.checked})}),document.getElementById('dist-cb').addEventListener('change',function(e){o.setProperties({showSnapPoints:e.target.checked,showSnapLines:!e.target.checked})}),document.getElementById('width-input').addEventListener('keyup',function(e){var t=parseFloat(e.target.value);t&&o.setProperties({snapPointDist:t})})}},{key:'deactivate',value:function(e){x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'deactivate',this).call(this,e),this.snapLayer.setMap(null),this.linesLayer.setMap(null),this.map.removeInteraction(this.pointerInteraction),this.map.removeInteraction(this.snapInteraction)}}]),t}(u.a);t.a=I},function(e,t,o){'use strict';o.d(t,'a',function(){return n});var n=function(){var e={},t;return function(o){if(t||(t=document.createElement('div').style),!(o in e)){t.font=o;var n=t.fontFamily,a=t.fontWeight,i=t.fontStyle;if(t.font='',!n)return null;var r=n.split(/,\s?/);e[o]={families:r,weight:a,style:i}}return e[o]}}()},function(e,t,o){'use strict';var n=o(6),a=o(236),i=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=function(e){function t(t){var o=e.call(this,t)||this;return o.consumers={},o}return i(t,e),t.prototype.clear=function(){this.consumers={},e.prototype.clear.call(this)},t.prototype.get=function(t,o){var a=e.prototype.get.call(this,t),i=Object(n.c)(o);return i in this.consumers||(this.consumers[i]={}),this.consumers[i][t]=!0,a},t.prototype.prune=function(){outer:for(;this.canExpireCache();){var e=this.peekLastKey();for(var t in this.consumers)if(e in this.consumers[t])break outer;var o=this.pop();for(var t in o.width=o.height=0,this.consumers)delete this.consumers[t][e]}},t.prototype.release=function(e){delete this.consumers[Object(n.c)(e)]},t}(a.a);t.a=r},function(e,t,o){'use strict';var n=o(30),a=o(87),i=o(7),r=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s=function(e){function t(t){var o=e.call(this)||this;return o.highWaterMark=void 0===t?2048:t,o.count_=0,o.entries_={},o.oldest_=null,o.newest_=null,o}return r(t,e),t.prototype.canExpireCache=function(){return this.getCount()>this.highWaterMark},t.prototype.clear=function(){this.count_=0,this.entries_={},this.oldest_=null,this.newest_=null,this.dispatchEvent(i.a.CLEAR)},t.prototype.containsKey=function(e){return this.entries_.hasOwnProperty(e)},t.prototype.forEach=function(e){for(var t=this.oldest_;t;)e(t.value_,t.key_,this),t=t.newer},t.prototype.get=function(e){var t=this.entries_[e];return(Object(n.a)(void 0!==t,15),t===this.newest_)?t.value_:(t===this.oldest_?(this.oldest_=this.oldest_.newer,this.oldest_.older=null):(t.newer.older=t.older,t.older.newer=t.newer),t.newer=null,t.older=this.newest_,this.newest_.newer=t,this.newest_=t,t.value_)},t.prototype.remove=function(e){var t=this.entries_[e];return Object(n.a)(void 0!==t,15),t===this.newest_?(this.newest_=t.older,this.newest_&&(this.newest_.newer=null)):t===this.oldest_?(this.oldest_=t.newer,this.oldest_&&(this.oldest_.older=null)):(t.newer.older=t.older,t.older.newer=t.newer),delete this.entries_[e],--this.count_,t.value_},t.prototype.getCount=function(){return this.count_},t.prototype.getKeys=function(){var e=Array(this.count_),t=0,o;for(o=this.newest_;o;o=o.older)e[t++]=o.key_;return e},t.prototype.getValues=function(){var e=Array(this.count_),t=0,o;for(o=this.newest_;o;o=o.older)e[t++]=o.value_;return e},t.prototype.peekLast=function(){return this.oldest_.value_},t.prototype.peekLastKey=function(){return this.oldest_.key_},t.prototype.peekFirstKey=function(){return this.newest_.key_},t.prototype.pop=function(){var e=this.oldest_;return delete this.entries_[e.key_],e.newer&&(e.newer.older=null),this.oldest_=e.newer,this.oldest_||(this.newest_=null),--this.count_,e.value_},t.prototype.replace=function(e,t){this.get(e),this.entries_[e].value_=t},t.prototype.set=function(e,t){Object(n.a)(!(e in this.entries_),16);var o={key_:e,newer:null,older:this.newest_,value_:t};this.newest_?this.newest_.newer=o:this.oldest_=o,this.newest_=o,this.entries_[e]=o,++this.count_},t.prototype.setSize=function(e){this.highWaterMark=e},t}(a.a);t.a=s},function(e,t,o){'use strict';var n=o(6),a=o(51),i=o(30),r=o(115),s=o(11),d=o(7),l=o(238),p=o(149),_=o(242),g=o(116),c=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),u=function(e){function t(t){var o=this,s=t||{},d=void 0===s.opacity?1:s.opacity,g=void 0===s.rotation?0:s.rotation,c=void 0===s.scale?1:s.scale,u=void 0!==s.rotateWithView&&s.rotateWithView;o=e.call(this,{opacity:d,rotation:g,scale:c,rotateWithView:u})||this,o.anchor_=void 0===s.anchor?[0.5,0.5]:s.anchor,o.normalizedAnchor_=null,o.anchorOrigin_=void 0===s.anchorOrigin?_.a.TOP_LEFT:s.anchorOrigin,o.anchorXUnits_=void 0===s.anchorXUnits?l.a.FRACTION:s.anchorXUnits,o.anchorYUnits_=void 0===s.anchorYUnits?l.a.FRACTION:s.anchorYUnits,o.crossOrigin_=void 0===s.crossOrigin?null:s.crossOrigin;var y=void 0===s.img?null:s.img,m=void 0===s.imgSize?null:s.imgSize,h=s.src;Object(i.a)(!(void 0!==h&&y),4),Object(i.a)(!y||y&&m,5),(void 0===h||0===h.length)&&y&&(h=y.src||Object(n.c)(y)),Object(i.a)(void 0!==h&&0<h.length,6);var f=void 0===s.src?a.a.LOADED:a.a.IDLE;return o.color_=void 0===s.color?null:Object(r.a)(s.color),o.iconImage_=Object(p.a)(y,h,m,o.crossOrigin_,f,o.color_),o.offset_=void 0===s.offset?[0,0]:s.offset,o.offsetOrigin_=void 0===s.offsetOrigin?_.a.TOP_LEFT:s.offsetOrigin,o.origin_=null,o.size_=void 0===s.size?null:s.size,o}return c(t,e),t.prototype.clone=function(){return new t({anchor:this.anchor_.slice(),anchorOrigin:this.anchorOrigin_,anchorXUnits:this.anchorXUnits_,anchorYUnits:this.anchorYUnits_,crossOrigin:this.crossOrigin_,color:this.color_&&this.color_.slice?this.color_.slice():this.color_||void 0,src:this.getSrc(),offset:this.offset_.slice(),offsetOrigin:this.offsetOrigin_,size:null===this.size_?void 0:this.size_.slice(),opacity:this.getOpacity(),scale:this.getScale(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView()})},t.prototype.getAnchor=function(){if(this.normalizedAnchor_)return this.normalizedAnchor_;var e=this.anchor_,t=this.getSize();if(this.anchorXUnits_==l.a.FRACTION||this.anchorYUnits_==l.a.FRACTION){if(!t)return null;e=this.anchor_.slice(),this.anchorXUnits_==l.a.FRACTION&&(e[0]*=t[0]),this.anchorYUnits_==l.a.FRACTION&&(e[1]*=t[1])}if(this.anchorOrigin_!=_.a.TOP_LEFT){if(!t)return null;e===this.anchor_&&(e=this.anchor_.slice()),(this.anchorOrigin_==_.a.TOP_RIGHT||this.anchorOrigin_==_.a.BOTTOM_RIGHT)&&(e[0]=-e[0]+t[0]),(this.anchorOrigin_==_.a.BOTTOM_LEFT||this.anchorOrigin_==_.a.BOTTOM_RIGHT)&&(e[1]=-e[1]+t[1])}return this.normalizedAnchor_=e,this.normalizedAnchor_},t.prototype.setAnchor=function(e){this.anchor_=e,this.normalizedAnchor_=null},t.prototype.getColor=function(){return this.color_},t.prototype.getImage=function(e){return this.iconImage_.getImage(e)},t.prototype.getImageSize=function(){return this.iconImage_.getSize()},t.prototype.getHitDetectionImageSize=function(){return this.getImageSize()},t.prototype.getImageState=function(){return this.iconImage_.getImageState()},t.prototype.getHitDetectionImage=function(e){return this.iconImage_.getHitDetectionImage(e)},t.prototype.getOrigin=function(){if(this.origin_)return this.origin_;var e=this.offset_;if(this.offsetOrigin_!=_.a.TOP_LEFT){var t=this.getSize(),o=this.iconImage_.getSize();if(!t||!o)return null;e=e.slice(),(this.offsetOrigin_==_.a.TOP_RIGHT||this.offsetOrigin_==_.a.BOTTOM_RIGHT)&&(e[0]=o[0]-t[0]-e[0]),(this.offsetOrigin_==_.a.BOTTOM_LEFT||this.offsetOrigin_==_.a.BOTTOM_RIGHT)&&(e[1]=o[1]-t[1]-e[1])}return this.origin_=e,this.origin_},t.prototype.getSrc=function(){return this.iconImage_.getSrc()},t.prototype.getSize=function(){return this.size_?this.size_:this.iconImage_.getSize()},t.prototype.listenImageChange=function(e,t){return Object(s.a)(this.iconImage_,d.a.CHANGE,e,t)},t.prototype.load=function(){this.iconImage_.load()},t.prototype.unlistenImageChange=function(e,t){Object(s.c)(this.iconImage_,d.a.CHANGE,e,t)},t}(g.a);t.a=u},function(e,t){'use strict';t.a={FRACTION:'fraction',PIXELS:'pixels'}},function(e,t,o){'use strict';function n(e,t,o){var n=o?Object(a.b)(o):'null';return t+':'+e+':'+n}o.d(t,'a',function(){return r});var a=o(115),i=function(){function e(){this.cache_={},this.cacheSize_=0,this.maxCacheSize_=32}return e.prototype.clear=function(){this.cache_={},this.cacheSize_=0},e.prototype.canExpireCache=function(){return this.cacheSize_>this.maxCacheSize_},e.prototype.expire=function(){if(this.canExpireCache()){var e=0;for(var t in this.cache_){var o=this.cache_[t];0!=(3&e++)||o.hasListener()||(delete this.cache_[t],--this.cacheSize_)}}},e.prototype.get=function(e,t,o){var a=n(e,t,o);return a in this.cache_?this.cache_[a]:null},e.prototype.set=function(e,t,o,a){var i=n(e,t,o);this.cache_[i]=a,++this.cacheSize_},e.prototype.setSize=function(e){this.maxCacheSize_=e,this.expire()},e}(),r=new i},function(e,t,o){'use strict';function n(e,t,o){var n=e;if(n.src&&l.c){var a=n.decode(),i=!0,d=function(){i=!1};return a.then(function(){i&&t()}).catch(function(e){i&&('EncodingError'===e.name&&'Invalid image type.'===e.message?t():o())}),d}var p=[Object(r.b)(n,s.a.LOAD,t),Object(r.b)(n,s.a.ERROR,o)];return function(){p.forEach(r.e)}}t.a=n;var a=o(241),i=o(51),r=o(11),s=o(7),d=o(2),l=o(118),p=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),_=function(e){function t(t,o,n,a,r,s){var d=e.call(this,t,o,n,i.a.IDLE)||this;return d.src_=a,d.image_=new Image,null!==r&&(d.image_.crossOrigin=r),d.unlisten_=null,d.state=i.a.IDLE,d.imageLoadFunction_=s,d}return p(t,e),t.prototype.getImage=function(){return this.image_},t.prototype.handleImageError_=function(){this.state=i.a.ERROR,this.unlistenImage_(),this.changed()},t.prototype.handleImageLoad_=function(){void 0===this.resolution&&(this.resolution=Object(d.x)(this.extent)/this.image_.height),this.state=i.a.LOADED,this.unlistenImage_(),this.changed()},t.prototype.load=function(){(this.state==i.a.IDLE||this.state==i.a.ERROR)&&(this.state=i.a.LOADING,this.changed(),this.imageLoadFunction_(this,this.src_),this.unlisten_=n(this.image_,this.handleImageLoad_.bind(this),this.handleImageError_.bind(this)))},t.prototype.setImage=function(e){this.image_=e},t.prototype.unlistenImage_=function(){this.unlisten_&&(this.unlisten_(),this.unlisten_=null)},t}(a.a)},function(e,t,o){'use strict';var n=o(6),a=o(87),i=o(7),r=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s=function(e){function t(t,o,n,a){var i=e.call(this)||this;return i.extent=t,i.pixelRatio_=n,i.resolution=o,i.state=a,i}return r(t,e),t.prototype.changed=function(){this.dispatchEvent(i.a.CHANGE)},t.prototype.getExtent=function(){return this.extent},t.prototype.getImage=function(){return Object(n.b)()},t.prototype.getPixelRatio=function(){return this.pixelRatio_},t.prototype.getResolution=function(){return this.resolution},t.prototype.getState=function(){return this.state},t.prototype.load=function(){Object(n.b)()},t}(a.a);t.a=s},function(e,t){'use strict';t.a={BOTTOM_LEFT:'bottom-left',BOTTOM_RIGHT:'bottom-right',TOP_LEFT:'top-left',TOP_RIGHT:'top-right'}},function(e,t,o){'use strict';var n=o(117),a=o(151),i=function(){function e(e){var t=e||{};this.font_=t.font,this.rotation_=t.rotation,this.rotateWithView_=t.rotateWithView,this.scale_=t.scale,this.text_=t.text,this.textAlign_=t.textAlign,this.textBaseline_=t.textBaseline,this.fill_=void 0===t.fill?new n.a({color:'#333'}):t.fill,this.maxAngle_=void 0===t.maxAngle?s/4:t.maxAngle,this.placement_=void 0===t.placement?a.a.POINT:t.placement,this.overflow_=!!t.overflow,this.stroke_=void 0===t.stroke?null:t.stroke,this.offsetX_=void 0===t.offsetX?0:t.offsetX,this.offsetY_=void 0===t.offsetY?0:t.offsetY,this.backgroundFill_=t.backgroundFill?t.backgroundFill:null,this.backgroundStroke_=t.backgroundStroke?t.backgroundStroke:null,this.padding_=void 0===t.padding?null:t.padding}return e.prototype.clone=function(){return new e({font:this.getFont(),placement:this.getPlacement(),maxAngle:this.getMaxAngle(),overflow:this.getOverflow(),rotation:this.getRotation(),rotateWithView:this.getRotateWithView(),scale:this.getScale(),text:this.getText(),textAlign:this.getTextAlign(),textBaseline:this.getTextBaseline(),fill:this.getFill()?this.getFill().clone():void 0,stroke:this.getStroke()?this.getStroke().clone():void 0,offsetX:this.getOffsetX(),offsetY:this.getOffsetY(),backgroundFill:this.getBackgroundFill()?this.getBackgroundFill().clone():void 0,backgroundStroke:this.getBackgroundStroke()?this.getBackgroundStroke().clone():void 0})},e.prototype.getOverflow=function(){return this.overflow_},e.prototype.getFont=function(){return this.font_},e.prototype.getMaxAngle=function(){return this.maxAngle_},e.prototype.getPlacement=function(){return this.placement_},e.prototype.getOffsetX=function(){return this.offsetX_},e.prototype.getOffsetY=function(){return this.offsetY_},e.prototype.getFill=function(){return this.fill_},e.prototype.getRotateWithView=function(){return this.rotateWithView_},e.prototype.getRotation=function(){return this.rotation_},e.prototype.getScale=function(){return this.scale_},e.prototype.getStroke=function(){return this.stroke_},e.prototype.getText=function(){return this.text_},e.prototype.getTextAlign=function(){return this.textAlign_},e.prototype.getTextBaseline=function(){return this.textBaseline_},e.prototype.getBackgroundFill=function(){return this.backgroundFill_},e.prototype.getBackgroundStroke=function(){return this.backgroundStroke_},e.prototype.getPadding=function(){return this.padding_},e.prototype.setOverflow=function(e){this.overflow_=e},e.prototype.setFont=function(e){this.font_=e},e.prototype.setMaxAngle=function(e){this.maxAngle_=e},e.prototype.setOffsetX=function(e){this.offsetX_=e},e.prototype.setOffsetY=function(e){this.offsetY_=e},e.prototype.setPlacement=function(e){this.placement_=e},e.prototype.setRotateWithView=function(e){this.rotateWithView_=e},e.prototype.setFill=function(e){this.fill_=e},e.prototype.setRotation=function(e){this.rotation_=e},e.prototype.setScale=function(e){this.scale_=e},e.prototype.setStroke=function(e){this.stroke_=e},e.prototype.setText=function(e){this.text_=e},e.prototype.setTextAlign=function(e){this.textAlign_=e},e.prototype.setTextBaseline=function(e){this.textBaseline_=e},e.prototype.setBackgroundFill=function(e){this.backgroundFill_=e},e.prototype.setBackgroundStroke=function(e){this.backgroundStroke_=e},e.prototype.setPadding=function(e){this.padding_=e},e}()},function(e,t){'use strict';t.a=function(e,t,o,n){for(;t<o-n;){for(var a=0,i;a<n;++a)i=e[t+a],e[t+a]=e[o-n+a],e[o-n+a]=i;t+=n,o-=n}}},function(e,t,o){'use strict';t.a=function(e,t,o,a){for(var r=[],s=Object(n.i)(),d=0,i=o.length,l;d<i;++d)l=o[d],s=Object(n.n)(e,t,l[0],a),r.push((s[0]+s[2])/2,(s[1]+s[3])/2),t=l[l.length-1];return r};var n=o(2)},function(e,t,o){'use strict';var n=o(247),a=o(12),i=o(53),r=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s={RENDER_ORDER:'renderOrder'},d=function(e){function t(t){var o=this,n=t?t:{},i=Object(a.a)({},n);return delete i.style,delete i.renderBuffer,delete i.updateWhileAnimating,delete i.updateWhileInteracting,o=e.call(this,i)||this,o.declutter_=void 0!==n.declutter&&n.declutter,o.renderBuffer_=void 0===n.renderBuffer?100:n.renderBuffer,o.style_=null,o.styleFunction_=void 0,o.setStyle(n.style),o.updateWhileAnimating_=void 0!==n.updateWhileAnimating&&n.updateWhileAnimating,o.updateWhileInteracting_=void 0!==n.updateWhileInteracting&&n.updateWhileInteracting,o}return r(t,e),t.prototype.getDeclutter=function(){return this.declutter_},t.prototype.getRenderBuffer=function(){return this.renderBuffer_},t.prototype.getRenderOrder=function(){return this.get(s.RENDER_ORDER)},t.prototype.getStyle=function(){return this.style_},t.prototype.getStyleFunction=function(){return this.styleFunction_},t.prototype.getUpdateWhileAnimating=function(){return this.updateWhileAnimating_},t.prototype.getUpdateWhileInteracting=function(){return this.updateWhileInteracting_},t.prototype.setRenderOrder=function(e){this.set(s.RENDER_ORDER,e)},t.prototype.setStyle=function(e){this.style_=void 0===e?i.a:e,this.styleFunction_=null===e?void 0:Object(i.d)(this.style_),this.changed()},t}(n.a);t.a=d},function(e,t,o){'use strict';var n=o(11),a=o(7),i=o(26),r=o(248),s=o(161),d=o(12),l=o(162),p=o(89),_=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g=function(e){function t(t){var o=this,a=Object(d.a)({},t);delete a.source,o=e.call(this,a)||this,o.mapPrecomposeKey_=null,o.mapRenderKey_=null,o.sourceChangeKey_=null,o.renderer_=null,t.render&&(o.render=t.render),t.map&&o.setMap(t.map),Object(n.a)(o,Object(i.b)(s.a.SOURCE),o.handleSourcePropertyChange_,o);var r=t.source?t.source:null;return o.setSource(r),o}return _(t,e),t.prototype.getLayersArray=function(e){var t=e?e:[];return t.push(this),t},t.prototype.getLayerStatesArray=function(e){var t=e?e:[];return t.push(this.getLayerState()),t},t.prototype.getSource=function(){return this.get(s.a.SOURCE)||null},t.prototype.getSourceState=function(){var e=this.getSource();return e?e.getState():p.a.UNDEFINED},t.prototype.handleSourceChange_=function(){this.changed()},t.prototype.handleSourcePropertyChange_=function(){this.sourceChangeKey_&&(Object(n.e)(this.sourceChangeKey_),this.sourceChangeKey_=null);var e=this.getSource();e&&(this.sourceChangeKey_=Object(n.a)(e,a.a.CHANGE,this.handleSourceChange_,this)),this.changed()},t.prototype.render=function(e,t){var o=this.getRenderer();if(o.prepareFrame(e))return o.renderFrame(e,t)},t.prototype.setMap=function(e){this.mapPrecomposeKey_&&(Object(n.e)(this.mapPrecomposeKey_),this.mapPrecomposeKey_=null),e||this.changed(),this.mapRenderKey_&&(Object(n.e)(this.mapRenderKey_),this.mapRenderKey_=null),e&&(this.mapPrecomposeKey_=Object(n.a)(e,l.a.PRECOMPOSE,function(e){e.frameState.layerStatesArray.push(this.getLayerState(!1))},this),this.mapRenderKey_=Object(n.a)(this,a.a.CHANGE,e.render,e),this.changed())},t.prototype.setSource=function(e){this.set(s.a.SOURCE,e)},t.prototype.getRenderer=function(){return this.renderer_||(this.renderer_=this.createRenderer()),this.renderer_},t.prototype.hasRenderer=function(){return!!this.renderer_},t.prototype.createRenderer=function(){return null},t}(r.a);t.a=g},function(e,t,n){'use strict';var a=n(6),i=n(26),r=n(161),s=n(14),d=n(12),l=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),p=function(e){function t(t){var o=e.call(this)||this,n=Object(d.a)({},t);return n[r.a.OPACITY]=void 0===t.opacity?1:t.opacity,n[r.a.VISIBLE]=void 0===t.visible||t.visible,n[r.a.Z_INDEX]=t.zIndex,n[r.a.MAX_RESOLUTION]=void 0===t.maxResolution?Infinity:t.maxResolution,n[r.a.MIN_RESOLUTION]=void 0===t.minResolution?0:t.minResolution,n[r.a.MIN_ZOOM]=void 0===t.minZoom?-Infinity:t.minZoom,n[r.a.MAX_ZOOM]=void 0===t.maxZoom?Infinity:t.maxZoom,o.className_=void 0===n.className?'ol-layer':t.className,delete n.className,o.setProperties(n),o.state_=null,o}return l(t,e),t.prototype.getClassName=function(){return this.className_},t.prototype.getLayerState=function(e){var t=this.state_||{layer:this,managed:void 0===e||e,hasOverlay:!1};return t.opacity=Object(s.a)(o(100*this.getOpacity())/100,0,1),t.sourceState=this.getSourceState(),t.visible=this.getVisible(),t.extent=this.getExtent(),t.zIndex=this.getZIndex()||(!1===t.managed?Infinity:0),t.maxResolution=this.getMaxResolution(),t.minResolution=E(this.getMinResolution(),0),t.minZoom=this.getMinZoom(),t.maxZoom=this.getMaxZoom(),this.state_=t,t},t.prototype.getLayersArray=function(){return Object(a.b)()},t.prototype.getLayerStatesArray=function(){return Object(a.b)()},t.prototype.getExtent=function(){return this.get(r.a.EXTENT)},t.prototype.getMaxResolution=function(){return this.get(r.a.MAX_RESOLUTION)},t.prototype.getMinResolution=function(){return this.get(r.a.MIN_RESOLUTION)},t.prototype.getMinZoom=function(){return this.get(r.a.MIN_ZOOM)},t.prototype.getMaxZoom=function(){return this.get(r.a.MAX_ZOOM)},t.prototype.getOpacity=function(){return this.get(r.a.OPACITY)},t.prototype.getSourceState=function(){return Object(a.b)()},t.prototype.getVisible=function(){return this.get(r.a.VISIBLE)},t.prototype.getZIndex=function(){return this.get(r.a.Z_INDEX)},t.prototype.setExtent=function(e){this.set(r.a.EXTENT,e)},t.prototype.setMaxResolution=function(e){this.set(r.a.MAX_RESOLUTION,e)},t.prototype.setMinResolution=function(e){this.set(r.a.MIN_RESOLUTION,e)},t.prototype.setMaxZoom=function(e){this.set(r.a.MAX_ZOOM,e)},t.prototype.setMinZoom=function(e){this.set(r.a.MIN_ZOOM,e)},t.prototype.setOpacity=function(e){this.set(r.a.OPACITY,e)},t.prototype.setVisible=function(e){this.set(r.a.VISIBLE,e)},t.prototype.setZIndex=function(e){this.set(r.a.Z_INDEX,e)},t}(i.a);t.a=p},function(e,t,n){'use strict';var a=n(6),r=n(250),s=n(2),d=n(251),l=n(257),i=n(260),p=n(263),_=n(52),g=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),c=function(e){function t(t){var o=e.call(this,t)||this;return o.dirty_=!1,o.renderedRevision_=-1,o.renderedResolution_=NaN,o.renderedExtent_=Object(s.i)(),o.renderedRenderOrder_=null,o.replayGroup_=null,o.replayGroupChanged=!0,o}return g(t,e),t.prototype.useContainer=function(t,o,n){1>n&&(t=null),e.prototype.useContainer.call(this,t,o,n)},t.prototype.renderFrame=function(e,t){var n=e.pixelRatio,a=e.layerStatesArray[e.layerIndex];Object(_.e)(this.pixelTransform,1/n,1/n),Object(_.d)(this.inversePixelTransform,this.pixelTransform),this.useContainer(t,this.pixelTransform,a.opacity);var i=this.context,d=i.canvas,p=this.replayGroup_;if(!p||p.isEmpty())return!this.containerReused&&0<d.width&&(d.width=0),this.container;var g=o(e.size[0]*n),c=o(e.size[1]*n);if(d.width!=g||d.height!=c){d.width=g,d.height=c;var u=Object(_.g)(this.pixelTransform);d.style.transform!==u&&(d.style.transform=u)}else this.containerReused||i.clearRect(0,0,g,c);this.preRender(i,e);var y=e.extent,m=e.viewState,h=m.projection,f=m.rotation,x=h.getExtent(),I=this.getLayer().getSource(),E=a.extent,C=void 0!==E;C&&this.clip(i,e,E);var N=e.viewHints,T=!(N[r.a.ANIMATING]||N[r.a.INTERACTING]),S=this.getRenderTransform(e,g,c,0),L=a.managed?e.skippedFeatureUids:{},O=this.getLayer().getDeclutter()?{}:null;if(p.execute(i,S,f,L,T,void 0,O),I.getWrapX()&&h.canWrapX()&&!Object(s.f)(x,y)){for(var R=y[0],P=Object(s.A)(x),v=0,b=void 0;R<x[0];){--v,b=P*v;var M=this.getRenderTransform(e,g,c,b);p.execute(i,M,f,L,T,void 0,O),R+=P}for(v=0,R=y[2];R>x[2];){++v,b=P*v;var D=this.getRenderTransform(e,g,c,b);p.execute(i,D,f,L,T,void 0,O),R-=P}}if(O){var A=e.viewHints,F=!(A[r.a.ANIMATING]||A[r.a.INTERACTING]);Object(l.b)(O,i,f,1,F,e.declutterItems)}C&&i.restore(),this.postRender(i,e);var G=a.opacity,w=this.container;return G!==parseFloat(w.style.opacity)&&(w.style.opacity=1===G?'':G),this.container},t.prototype.forEachFeatureAtCoordinate=function(e,t,o,n,i){if(this.replayGroup_){var r=t.viewState.resolution,s=t.viewState.rotation,d=this.getLayer(),l={},p=this.replayGroup_.forEachFeatureAtCoordinate(e,r,s,o,{},function(e){var t=Object(a.c)(e);if(!(t in l))return l[t]=!0,n(e,d)},d.getDeclutter()?i:null);return p}},t.prototype.handleFontsChanged=function(){var e=this.getLayer();e.getVisible()&&this.replayGroup_&&e.changed()},t.prototype.handleStyleImageChange_=function(){this.renderIfReadyAndVisible()},t.prototype.prepareFrame=function(e){var t=this.getLayer(),o=t.getSource(),n=e.viewHints[r.a.ANIMATING],a=e.viewHints[r.a.INTERACTING],_=t.getUpdateWhileAnimating(),g=t.getUpdateWhileInteracting();if(!this.dirty_&&!_&&n||!g&&a)return!0;var c=e.extent,u=e.viewState,y=u.projection,m=u.resolution,h=e.pixelRatio,f=t.getRevision(),x=t.getRenderBuffer(),I=t.getRenderOrder();void 0===I&&(I=p.a);var C=Object(s.c)(c,x*m),N=u.projection.getExtent();if(o.getWrapX()&&u.projection.canWrapX()&&!Object(s.f)(N,e.extent)){var T=Object(s.A)(N),S=E(Object(s.A)(C)/2,T);C[0]=N[0]-S,C[2]=N[2]+S}if(!this.dirty_&&this.renderedResolution_==m&&this.renderedRevision_==f&&this.renderedRenderOrder_==I&&Object(s.f)(this.renderedExtent_,C))return this.replayGroupChanged=!1,!0;this.replayGroup_&&this.replayGroup_.dispose(),this.replayGroup_=null,this.dirty_=!1;var L=new d.a(Object(p.c)(m,h),C,m,h,t.getDeclutter());o.loadFeatures(C,m,y);var O=function(e){var o=e.getStyleFunction()||t.getStyleFunction(),n;if(o&&(n=o(e,m)),n){var a=this.renderFeature(e,m,h,n,L);this.dirty_=this.dirty_||a}}.bind(this);if(I){var R=[];o.forEachFeatureInExtent(C,function(e){R.push(e)}),R.sort(I);for(var P=0,i=R.length;P<i;++P)O(R[P])}else o.forEachFeatureInExtent(C,O);var v=L.finish(),b=new l.a(C,m,h,o.getOverlaps(),v,t.getRenderBuffer());return this.renderedResolution_=m,this.renderedRevision_=f,this.renderedRenderOrder_=I,this.renderedExtent_=C,this.replayGroup_=b,this.replayGroupChanged=!0,!0},t.prototype.renderFeature=function(e,t,o,n,a){if(!n)return!1;var r=!1;if(Array.isArray(n))for(var s=0,i=n.length;s<i;++s)r=Object(p.d)(a,e,n[s],Object(p.b)(t,o),this.handleStyleImageChange_,this)||r;else r=Object(p.d)(a,e,n,Object(p.b)(t,o),this.handleStyleImageChange_,this);return r},t}(i.a);t.a=c},function(e,t){'use strict';t.a={ANIMATING:0,INTERACTING:1}},function(e,t,o){'use strict';var n=o(2),a=o(75),i=o(253),r=o(254),s=o(255),d=o(163),l={Circle:s.a,Default:a.a,Image:i.a,LineString:r.a,Polygon:s.a,Text:d.b},p=function(){function e(e,t,o,n,a){this.declutter_=a,this.declutterGroup_=null,this.tolerance_=e,this.maxExtent_=t,this.pixelRatio_=n,this.resolution_=o,this.buildersByZIndex_={}}return e.prototype.addDeclutter=function(e){var t=null;return this.declutter_&&(e?(t=this.declutterGroup_,t[4]++):(t=this.declutterGroup_=Object(n.i)(),t.push(1))),t},e.prototype.finish=function(){var e={};for(var t in this.buildersByZIndex_){e[t]=e[t]||{};var o=this.buildersByZIndex_[t];for(var n in o){var a=o[n].finish();e[t][n]=a}}return e},e.prototype.getBuilder=function(e,t){var o=void 0===e?'0':e.toString(),n=this.buildersByZIndex_[o];void 0===n&&(n={},this.buildersByZIndex_[o]=n);var a=n[t];if(void 0===a){var i=l[t];a=new i(this.tolerance_,this.maxExtent_,this.resolution_,this.pixelRatio_),n[t]=a}return a},e}();t.a=p},function(e,t){'use strict';var o=function(){function e(){}return e.prototype.drawCustom=function(){},e.prototype.drawGeometry=function(){},e.prototype.setStyle=function(){},e.prototype.drawCircle=function(){},e.prototype.drawFeature=function(){},e.prototype.drawGeometryCollection=function(){},e.prototype.drawLineString=function(){},e.prototype.drawMultiLineString=function(){},e.prototype.drawMultiPoint=function(){},e.prototype.drawMultiPolygon=function(){},e.prototype.drawPoint=function(){},e.prototype.drawPolygon=function(){},e.prototype.drawText=function(){},e.prototype.setFillStrokeStyle=function(){},e.prototype.setImageStyle=function(){},e.prototype.setTextStyle=function(){},e}();t.a=o},function(e,t,o){'use strict';var n=o(58),a=o(75),i=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=function(e){function t(t,o,n,a){var i=e.call(this,t,o,n,a)||this;return i.declutterGroup_=null,i.hitDetectionImage_=null,i.image_=null,i.anchorX_=void 0,i.anchorY_=void 0,i.height_=void 0,i.opacity_=void 0,i.originX_=void 0,i.originY_=void 0,i.rotateWithView_=void 0,i.rotation_=void 0,i.scale_=void 0,i.width_=void 0,i}return i(t,e),t.prototype.drawCoordinates_=function(e,t,o,n){return this.appendFlatCoordinates(e,t,o,n,!1,!1)},t.prototype.drawPoint=function(e,t){if(this.image_){this.beginGeometry(t);var o=e.getFlatCoordinates(),a=e.getStride(),i=this.coordinates.length,r=this.drawCoordinates_(o,0,o.length,a);this.instructions.push([n.c.DRAW_IMAGE,i,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([n.c.DRAW_IMAGE,i,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t)}},t.prototype.drawMultiPoint=function(e,t){if(this.image_){this.beginGeometry(t);var o=e.getFlatCoordinates(),a=e.getStride(),i=this.coordinates.length,r=this.drawCoordinates_(o,0,o.length,a);this.instructions.push([n.c.DRAW_IMAGE,i,r,this.image_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_*this.pixelRatio,this.width_]),this.hitDetectionInstructions.push([n.c.DRAW_IMAGE,i,r,this.hitDetectionImage_,this.anchorX_,this.anchorY_,this.declutterGroup_,this.height_,this.opacity_,this.originX_,this.originY_,this.rotateWithView_,this.rotation_,this.scale_,this.width_]),this.endGeometry(t)}},t.prototype.finish=function(){return this.reverseHitDetectionInstructions(),this.anchorX_=void 0,this.anchorY_=void 0,this.hitDetectionImage_=null,this.image_=null,this.height_=void 0,this.scale_=void 0,this.opacity_=void 0,this.originX_=void 0,this.originY_=void 0,this.rotateWithView_=void 0,this.rotation_=void 0,this.width_=void 0,e.prototype.finish.call(this)},t.prototype.setImageStyle=function(e,t){var o=e.getAnchor(),n=e.getSize(),a=e.getHitDetectionImage(1),i=e.getImage(1),r=e.getOrigin();this.anchorX_=o[0],this.anchorY_=o[1],this.declutterGroup_=t,this.hitDetectionImage_=a,this.image_=i,this.height_=n[1],this.opacity_=e.getOpacity(),this.originX_=r[0],this.originY_=r[1],this.rotateWithView_=e.getRotateWithView(),this.rotation_=e.getRotation(),this.scale_=e.getScale(),this.width_=n[0]},t}(a.a);t.a=r},function(e,t,o){'use strict';var n=o(58),a=o(75),i=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=function(e){function t(t,o,n,a){return e.call(this,t,o,n,a)||this}return i(t,e),t.prototype.drawFlatCoordinates_=function(e,t,o,a){var i=this.coordinates.length,r=this.appendFlatCoordinates(e,t,o,a,!1,!1),s=[n.c.MOVE_TO_LINE_TO,i,r];return this.instructions.push(s),this.hitDetectionInstructions.push(s),o},t.prototype.drawLineString=function(e,t){var o=this.state,a=o.strokeStyle,i=o.lineWidth;if(void 0!==a&&void 0!==i){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(t),this.hitDetectionInstructions.push([n.c.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],n.a);var r=e.getFlatCoordinates(),s=e.getStride();this.drawFlatCoordinates_(r,0,r.length,s),this.hitDetectionInstructions.push(n.e),this.endGeometry(t)}},t.prototype.drawMultiLineString=function(e,t){var o=this.state,a=o.strokeStyle,r=o.lineWidth;if(void 0!==a&&void 0!==r){this.updateStrokeStyle(o,this.applyStroke),this.beginGeometry(t),this.hitDetectionInstructions.push([n.c.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset],n.a);for(var s=e.getEnds(),d=e.getFlatCoordinates(),l=e.getStride(),p=0,_=0,i=s.length;_<i;++_)p=this.drawFlatCoordinates_(d,p,s[_],l);this.hitDetectionInstructions.push(n.e),this.endGeometry(t)}},t.prototype.finish=function(){var t=this.state;return void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&this.instructions.push(n.e),this.reverseHitDetectionInstructions(),this.state=null,e.prototype.finish.call(this)},t.prototype.applyStroke=function(t){void 0!=t.lastStroke&&t.lastStroke!=this.coordinates.length&&(this.instructions.push(n.e),t.lastStroke=this.coordinates.length),t.lastStroke=0,e.prototype.applyStroke.call(this,t),this.instructions.push(n.a)},t}(a.a);t.a=r},function(e,t,o){'use strict';var n=o(56),a=o(42),r=o(58),i=o(75),s=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),d=function(e){function t(t,o,n,a){return e.call(this,t,o,n,a)||this}return s(t,e),t.prototype.drawFlatCoordinatess_=function(e,t,o,n){var a=this.state,s=void 0!==a.fillStyle,d=void 0!=a.strokeStyle,l=o.length;this.instructions.push(r.a),this.hitDetectionInstructions.push(r.a);for(var p=0;p<l;++p){var i=o[p],_=this.coordinates.length,g=this.appendFlatCoordinates(e,t,i,n,!0,!d),c=[r.c.MOVE_TO_LINE_TO,_,g];this.instructions.push(c),this.hitDetectionInstructions.push(c),d&&(this.instructions.push(r.b),this.hitDetectionInstructions.push(r.b)),t=i}return s&&(this.instructions.push(r.d),this.hitDetectionInstructions.push(r.d)),d&&(this.instructions.push(r.e),this.hitDetectionInstructions.push(r.e)),t},t.prototype.drawCircle=function(e,t){var o=this.state,n=o.fillStyle,i=o.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t),void 0!==o.fillStyle&&this.hitDetectionInstructions.push([r.c.SET_FILL_STYLE,a.b]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var s=e.getFlatCoordinates(),d=e.getStride(),l=this.coordinates.length;this.appendFlatCoordinates(s,0,s.length,d,!1,!1);var p=[r.c.CIRCLE,l];this.instructions.push(r.a,p),this.hitDetectionInstructions.push(r.a,p),this.hitDetectionInstructions.push(r.d),void 0!==o.fillStyle&&this.instructions.push(r.d),void 0!==o.strokeStyle&&(this.instructions.push(r.e),this.hitDetectionInstructions.push(r.e)),this.endGeometry(t)}},t.prototype.drawPolygon=function(e,t){var o=this.state,n=o.fillStyle,i=o.strokeStyle;if(void 0!==n||void 0!==i){this.setFillStrokeStyles_(),this.beginGeometry(t),void 0!==o.fillStyle&&this.hitDetectionInstructions.push([r.c.SET_FILL_STYLE,a.b]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);var s=e.getEnds(),d=e.getOrientedFlatCoordinates(),l=e.getStride();this.drawFlatCoordinatess_(d,0,s,l),this.endGeometry(t)}},t.prototype.drawMultiPolygon=function(e,t){var o=this.state,n=o.fillStyle,s=o.strokeStyle;if(void 0!==n||void 0!==s){this.setFillStrokeStyles_(),this.beginGeometry(t),void 0!==o.fillStyle&&this.hitDetectionInstructions.push([r.c.SET_FILL_STYLE,a.b]),void 0!==o.strokeStyle&&this.hitDetectionInstructions.push([r.c.SET_STROKE_STYLE,o.strokeStyle,o.lineWidth,o.lineCap,o.lineJoin,o.miterLimit,o.lineDash,o.lineDashOffset]);for(var d=e.getEndss(),l=e.getOrientedFlatCoordinates(),p=e.getStride(),_=0,g=0,i=d.length;g<i;++g)_=this.drawFlatCoordinatess_(l,_,d[g],p);this.endGeometry(t)}},t.prototype.finish=function(){this.reverseHitDetectionInstructions(),this.state=null;var t=this.tolerance;if(0!==t)for(var o=this.coordinates,a=0,i=o.length;a<i;++a)o[a]=Object(n.e)(o[a],t);return e.prototype.finish.call(this)},t.prototype.setFillStrokeStyles_=function(){var e=this.state,t=e.fillStyle;void 0!==t&&this.updateFillStyle(e,this.createFill),void 0!==e.strokeStyle&&this.updateStrokeStyle(e,this.applyStroke)},t}(i.a);t.a=d},function(e,t){'use strict';t.a=function(e,t,o,n,a){var r=o,s=o,d=0,l=0,p=o,_,g,i,c,u,y,m,h,f,x;for(g=o;g<n;g+=a){var I=t[g],E=t[g+1];void 0!=u&&(f=I-u,x=E-y,c=N(f*f+x*x),void 0!=m&&(l+=i,_=Math.acos((m*f+h*x)/(i*c)),_>e&&(l>d&&(d=l,r=p,s=g),l=0,p=g-a)),i=c,m=f,h=x),u=I,y=E}return l+=c,l>d?[p,g]:[r,s]}},function(e,t,n){'use strict';function a(e,t,o){var n=d(e.length/2),a;if(t>=n)for(a=n;a<t;a++)e[a][o]=!0;else if(t<n)for(a=t+1;a<n;a++)e[a][o]=!0}function r(e){if(void 0!==I[e])return I[e];for(var t=2*e+1,o=Array(t),n=0;n<t;n++)o[n]=Array(t);for(var i=e,r=0,s=0;i>=r;)a(o,e+i,e+r),a(o,e+r,e+i),a(o,e-r,e+i),a(o,e-i,e+r),a(o,e-i,e-r),a(o,e-r,e-i),a(o,e+r,e-i),a(o,e+i,e-r),r++,s+=1+2*r,0<2*(s-i)+1&&(i-=1,s+=1-2*i);return I[e]=o,o}t.b=function(e,t,o,n,a,r){for(var d=Object.keys(e).map(Number).sort(s.e),l={},p=0,_=d.length;p<_;++p)for(var g=e[d[p].toString()],c=void 0,u=0,i=g.length,y;u<i;){y=g[u++],y!==c&&(c=y,r.push({items:y.declutterItems,opacity:n}));var m=g[u++];y.execute(t,m,o,l,a)}};var s=n(15),l=n(39),p=n(2),i=n(72),_=n(12),g=n(164),c=n(52),u=n(258),y=n(88),m=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),h=[g.a.POLYGON,g.a.CIRCLE,g.a.LINE_STRING,g.a.IMAGE,g.a.TEXT,g.a.DEFAULT],f=function(e){function t(t,o,n,a,i,r){var s=e.call(this)||this;return s.maxExtent_=t,s.overlaps_=a,s.pixelRatio_=n,s.resolution_=o,s.renderBuffer_=r,s.executorsByZIndex_={},s.hitDetectionContext_=null,s.hitDetectionTransform_=Object(c.c)(),s.createExecutors_(i),s}return m(t,e),t.prototype.clip=function(e,t){var o=this.getClipCoords(t);e.beginPath(),e.moveTo(o[0],o[1]),e.lineTo(o[2],o[3]),e.lineTo(o[4],o[5]),e.lineTo(o[6],o[7]),e.clip()},t.prototype.createExecutors_=function(e){for(var t in e){var o=this.executorsByZIndex_[t];void 0===o&&(this.executorsByZIndex_[t]=o={});var n=e[t];for(var a in n){var i=n[a];o[a]=new u.a(this.resolution_,this.pixelRatio_,this.overlaps_,i)}}},t.prototype.disposeInternal=function(){for(var t in this.executorsByZIndex_){var o=this.executorsByZIndex_[t];for(var n in o)o[n].disposeInternal()}if(this.hitDetectionContext_){var a=this.hitDetectionContext_.canvas;a.width=a.height=0}e.prototype.disposeInternal.call(this)},t.prototype.hasExecutors=function(e){for(var t in this.executorsByZIndex_)for(var o=this.executorsByZIndex_[t],n=0,a=e.length;n<a;++n)if(e[n]in o)return!0;return!1},t.prototype.forEachFeatureAtCoordinate=function(e,t,n,a,d,_,u){function y(e){for(var t=x.getImageData(0,0,m,m).data,o=0;o<m;o++)for(var n=0;n<m;n++)if(E[o][n]&&0<t[4*(n*m+o)+3]){var a=void 0;return u&&(N==g.a.IMAGE||N==g.a.TEXT)&&-1===u.indexOf(e)||(a=_(e)),a?a:void x.clearRect(0,0,m,m)}}a=o(a);var m=2*a+1,f=Object(c.b)(this.hitDetectionTransform_,a+0.5,a+0.5,1/t,-1/t,-n,-e[0],-e[1]);this.hitDetectionContext_||(this.hitDetectionContext_=Object(l.a)(m,m));var x=this.hitDetectionContext_;x.canvas.width!==m||x.canvas.height!==m?(x.canvas.width=m,x.canvas.height=m):x.clearRect(0,0,m,m);var I;void 0!==this.renderBuffer_&&(I=Object(p.i)(),Object(p.q)(I,e),Object(p.c)(I,t*(this.renderBuffer_+a),I));var E=r(a),C=Object.keys(this.executorsByZIndex_).map(Number),N;C.sort(s.e);var T,i,S,L,O;for(T=C.length-1;0<=T;--T){var R=C[T].toString();for(S=this.executorsByZIndex_[R],i=h.length-1;0<=i;--i)if(N=h[i],L=S[N],void 0!==L&&(O=L.executeHitDetection(x,f,n,d,y,I),O))return O}},t.prototype.getClipCoords=function(e){var t=this.maxExtent_;if(!t)return null;var o=t[0],n=t[1],a=t[2],r=t[3],s=[o,n,o,r,a,r,a,n];return Object(i.c)(s,0,8,2,e,s),s},t.prototype.isEmpty=function(){return Object(_.d)(this.executorsByZIndex_)},t.prototype.execute=function(e,t,o,n,a,r,d){var l=Object.keys(this.executorsByZIndex_).map(Number);l.sort(s.e),this.maxExtent_&&(e.save(),this.clip(e,t));var p=r?r:h,_,i,c,u,y,m;for(_=0,i=l.length;_<i;++_){var f=l[_].toString();for(y=this.executorsByZIndex_[f],c=0,u=p.length;c<u;++c){var x=p[c];if(m=y[x],void 0!==m)if(d&&(x==g.a.IMAGE||x==g.a.TEXT)){var I=d[f];I?I.push(m,t.slice(0)):d[f]=[m,t.slice(0)]}else m.execute(e,t,o,n,a)}}this.maxExtent_&&e.restore()},t}(y.a),I={0:[[!0]]};t.a=f},function(e,t,n){'use strict';var a=n(6),l=n(15),p=n(2),_=n(156),i=n(259),u=n(72),m=n(12),f=n(42),h=n(58),r=n(163),I=n(52),d=n(39),c=n(88),y=n(146),x=n.n(y),T=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),S=Object(p.i)(),L=Object(I.c)(),O=[],R=[],P=[],v=[],b=function(e){function t(t,o,n,a){var i=e.call(this)||this;return i.overlaps=n,i.pixelRatio=o,i.resolution=t,i.alignFill_,i.declutterItems=[],i.instructions=a.instructions,i.coordinates=a.coordinates,i.coordinateCache_={},i.renderedTransform_=Object(I.c)(),i.hitDetectionInstructions=a.hitDetectionInstructions,i.pixelCoordinates_=null,i.viewRotation_=0,i.fillStates=a.fillStates||{},i.strokeStates=a.strokeStates||{},i.textStates=a.textStates||{},i.widths_={},i}return T(t,e),t.prototype.disposeInternal=function(){f.o.release(this),e.prototype.disposeInternal.call(this)},t.prototype.getTextImage=function(e,t,o,n){var a=n+t+e+o+this.pixelRatio,s;if(!f.o.containsKey(a)){var l=n?this.strokeStates[n]:null,p=o?this.fillStates[o]:null,_=this.textStates[t],c=this.pixelRatio,u=_.scale*c,y=r.a[_.textAlign||f.l],m=n&&l.lineWidth?l.lineWidth:0,h=e.split('\n'),I=h.length,E=[],C=Object(f.r)(_.font,h,E),N=Object(f.q)(_.font),T=C+m,S=Object(d.a)(g((T+2)*u),g((N*I+m)*u));s=S.canvas,f.o.set(a,s),1!=u&&S.scale(u,u),S.font=_.font,n&&(S.strokeStyle=l.strokeStyle,S.lineWidth=m,S.lineCap=l.lineCap,S.lineJoin=l.lineJoin,S.miterLimit=l.miterLimit,S.setLineDash&&l.lineDash.length&&(S.setLineDash(l.lineDash),S.lineDashOffset=l.lineDashOffset)),o&&(S.fillStyle=p.fillStyle),S.textBaseline='middle',S.textAlign='center';var L=0.5-y,O=y*T+L*m,x=void 0;if(n)for(x=0;x<I;++x)S.strokeText(h[x],O+L*E[x],0.5*(m+N)+x*N);if(o)for(x=0;x<I;++x)S.fillText(h[x],O+L*E[x],0.5*(m+N)+x*N)}return f.o.get(a,this)},t.prototype.replayTextBackground_=function(e,t,o,n,a,i,r){e.beginPath(),e.moveTo.apply(e,t),e.lineTo.apply(e,o),e.lineTo.apply(e,n),e.lineTo.apply(e,a),e.lineTo.apply(e,t),i&&(this.alignFill_=i[2],this.fill_(e)),r&&(this.setStrokeStyle_(e,r),e.stroke())},t.prototype.replayImage_=function(e,t,n,a,i,r,s,d,l,_,g,c,u,y,m,x,N,T){var b=N||T;i*=u,r*=u,t-=i,n-=r;var M=m+_>a.width?a.width-_:m,D=d+g>a.height?a.height-g:d,h=x[3]+M*u+x[1],A=x[0]+D*u+x[2],F=t-x[3],G=n-x[0];(b||0!==c)&&(O[0]=v[0]=F,O[1]=R[1]=G,R[0]=P[0]=F+h,P[1]=v[1]=G+A);var w=null;if(0!==c){var k=t+i,z=n+r;w=Object(I.b)(L,k,z,1,1,c,-k,-z),Object(I.a)(L,O),Object(I.a)(L,R),Object(I.a)(L,P),Object(I.a)(L,v),Object(p.j)(C(O[0],R[0],P[0],v[0]),C(O[1],R[1],P[1],v[1]),E(O[0],R[0],P[0],v[0]),E(O[1],R[1],P[1],v[1]),S)}else Object(p.j)(F,G,F+h,G+A,S);var Y=e.canvas,B=T?T[2]*u/2:0,U=S[0]-B<=Y.width&&0<=S[2]+B&&S[1]-B<=Y.height&&0<=S[3]+B;if(y&&(t=o(t),n=o(n)),s){if(!U&&1==s[4])return;Object(p.p)(s,S);var j=U?[e,w?w.slice(0):null,l,a,_,g,M,D,t,n,u]:null;j&&(b&&j.push(N,T,O,R,P,v),s.push(j))}else U&&(b&&this.replayTextBackground_(e,O,R,P,v,N,T),Object(f.n)(e,w,l,a,_,g,M,D,t,n,u))},t.prototype.fill_=function(e){if(this.alignFill_){var t=Object(I.a)(this.renderedTransform_,[0,0]),o=512*this.pixelRatio;e.save(),e.translate(t[0]%o,t[1]%o),e.rotate(this.viewRotation_)}e.fill(),this.alignFill_&&e.restore()},t.prototype.setStrokeStyle_=function(e,t){e.strokeStyle=t[1],e.lineWidth=t[2],e.lineCap=t[3],e.lineJoin=t[4],e.miterLimit=t[5],e.setLineDash&&(e.lineDashOffset=t[7],e.setLineDash(t[6]))},t.prototype.renderDeclutter=function(e,t,o,n){if(e&&5<e.length){var a=e[4];if(1==a||a==e.length-5){var i={minX:e[0],minY:e[1],maxX:e[2],maxY:e[3],value:t};if(n||(n=new x.a(9)),!n.collides(i)){n.insert(i);for(var r=5,s=e.length;r<s;++r){var d=e[r],l=d[0],_=l.globalAlpha;_!==o&&(l.globalAlpha=o),11<d.length&&this.replayTextBackground_(d[0],d[13],d[14],d[15],d[16],d[11],d[12]),f.n.apply(void 0,d),_!==o&&(l.globalAlpha=_)}}e.length=5,Object(p.k)(e)}}return n},t.prototype.drawTextImageWithPointPlacement_=function(e,t,o,n){var a=this.textStates[t],i=this.getTextImage(e,t,n,o),s=this.strokeStates[o],d=this.pixelRatio,l=r.a[a.textAlign||f.l],p=r.a[a.textBaseline||f.m],_=s&&s.lineWidth?s.lineWidth:0,g=i.width/d-2*a.scale,c=p*i.height/d+2*(0.5-p)*_;return{label:i,anchorX:l*g+2*(0.5-l)*_,anchorY:c}},t.prototype.execute_=function(e,t,o,n,g,E,C){this.declutterItems.length=0;var T;this.pixelCoordinates_&&Object(l.b)(t,this.renderedTransform_)?T=this.pixelCoordinates_:(!this.pixelCoordinates_&&(this.pixelCoordinates_=[]),T=Object(u.c)(this.coordinates,0,this.coordinates.length,2,t,this.pixelCoordinates_),Object(I.f)(this.renderedTransform_,t));for(var S=!Object(m.d)(o),L=0,O=n.length,R=0,d=0,P=0,v=null,b=null,M=this.coordinateCache_,D=this.viewRotation_,A={context:e,pixelRatio:this.pixelRatio,resolution:this.resolution,rotation:D},F=this.instructions!=n||this.overlaps?0:200,G,w,k,z,Y,B,U,j,X,V,W,H,Z,q,K,x;L<O;){var y=n[L],Q=y[0];switch(Q){case h.c.BEGIN_GEOMETRY:q=y[1],S&&o[Object(a.c)(q)]||!q.getGeometry()?L=y[2]:void 0===C||Object(p.B)(C,q.getGeometry().getExtent())?++L:L=y[2]+1;break;case h.c.BEGIN_PATH:d>F&&(this.fill_(e),d=0),P>F&&(e.stroke(),P=0),d||P||(e.beginPath(),z=Y=NaN),++L;break;case h.c.CIRCLE:R=y[1];var J=T[R],$=T[R+1],ee=T[R+2],te=T[R+3],oe=ee-J,ne=te-$,ae=N(oe*oe+ne*ne);e.moveTo(J+ae,$),e.arc(J,$,ae,0,2*s,!0),++L;break;case h.c.CLOSE_PATH:e.closePath(),++L;break;case h.c.CUSTOM:R=y[1],G=y[2];var ie=y[3],re=y[4],se=6==y.length?y[5]:void 0;A.geometry=ie,A.feature=q,L in M||(M[L]=[]);var de=M[L];se?se(T,R,G,2,de):(de[0]=T[R],de[1]=T[R+1],de.length=2),re(de,A),++L;break;case h.c.DRAW_IMAGE:R=y[1],G=y[2],X=y[3],w=y[4],k=y[5],j=E?null:y[6];var le=y[7],pe=y[8],_e=y[9],ge=y[10],ce=y[11],ue=y[12],ye=y[13],me=y[14];if(!X&&19<=y.length){V=y[18],W=y[19],H=y[20],Z=y[21];var he=this.drawTextImageWithPointPlacement_(V,W,H,Z);X=y[3]=he.label;var fe=y[22];w=y[4]=(he.anchorX-fe)*this.pixelRatio;var xe=y[23];k=y[5]=(he.anchorY-xe)*this.pixelRatio,le=y[7]=X.height,me=y[14]=X.width}var Ie=void 0;24<y.length&&(Ie=y[24]);var Ee=void 0,Ce=void 0,Ne=void 0;16<y.length?(Ee=y[15],Ce=y[16],Ne=y[17]):(Ee=f.j,Ce=Ne=!1),ce&&(ue+=D);for(var Te=0;R<G;R+=2)Ie&&Ie[Te++]<me/this.pixelRatio||this.replayImage_(e,T[R],T[R+1],X,w,k,j,le,pe,_e,ge,ue,ye,g,me,Ee,Ce?v:null,Ne?b:null);this.declutterItems.push(this,j,q),++L;break;case h.c.DRAW_CHARS:var Se=y[1],Le=y[2],Oe=y[3];j=E?null:y[4];var Re=y[5];Z=y[6];var Pe=y[7],ve=y[8],be=y[9];H=y[10];var Me=y[11];V=y[12],W=y[13];var De=y[14],Ae=this.textStates[W],Fe=Ae.font,Ge=Ae.scale*ve,we=void 0;we=Fe in this.widths_?this.widths_[Fe]:this.widths_[Fe]={};var ke=Object(_.a)(T,Se,Le,2),ze=Ge*Object(f.p)(Fe,V,we);if(Re||ze<=ke){var Ye=this.textStates[W].textAlign,Be=(ke-ze)*r.a[Ye],Ue=Object(i.a)(T,Se,Le,2,V,Be,Pe,Ge,f.p,Fe,we);if(Ue){var je=void 0,c=void 0,Xe=void 0,Ve=void 0,We=void 0;if(H)for(je=0,c=Ue.length;je<c;++je)We=Ue[je],Xe=We[4],Ve=this.getTextImage(Xe,W,'',H),w=We[2]+Me,k=Oe*Ve.height+2*(0.5-Oe)*Me-be,this.replayImage_(e,We[0],We[1],Ve,w,k,j,Ve.height,1,0,0,We[3],De,!1,Ve.width,f.j,null,null);if(Z)for(je=0,c=Ue.length;je<c;++je)We=Ue[je],Xe=We[4],Ve=this.getTextImage(Xe,W,Z,''),w=We[2],k=Oe*Ve.height-be,this.replayImage_(e,We[0],We[1],Ve,w,k,j,Ve.height,1,0,0,We[3],De,!1,Ve.width,f.j,null,null)}}this.declutterItems.push(this,j,q),++L;break;case h.c.END_GEOMETRY:if(void 0!==E){q=y[1];var He=E(q);if(He)return He}++L;break;case h.c.FILL:F?d++:this.fill_(e),++L;break;case h.c.MOVE_TO_LINE_TO:for(R=y[1],G=y[2],K=T[R],x=T[R+1],B=0|K+0.5,U=0|x+0.5,(B!==z||U!==Y)&&(e.moveTo(K,x),z=B,Y=U),R+=2;R<G;R+=2)K=T[R],x=T[R+1],B=0|K+0.5,U=0|x+0.5,(R==G-2||B!==z||U!==Y)&&(e.lineTo(K,x),z=B,Y=U);++L;break;case h.c.SET_FILL_STYLE:v=y,this.alignFill_=y[2],d&&(this.fill_(e),d=0,P&&(e.stroke(),P=0)),e.fillStyle=y[1],++L;break;case h.c.SET_STROKE_STYLE:b=y,P&&(e.stroke(),P=0),this.setStrokeStyle_(e,y),++L;break;case h.c.STROKE:F?P++:e.stroke(),++L;break;default:++L;}}return d&&this.fill_(e),void(P&&e.stroke())},t.prototype.execute=function(e,t,o,n,a){this.viewRotation_=o,this.execute_(e,t,n,this.instructions,a,void 0,void 0)},t.prototype.executeHitDetection=function(e,t,o,n,a,i){return this.viewRotation_=o,this.execute_(e,t,n,this.hitDetectionInstructions,!0,a,i)},t}(c.a);t.a=b},function(e,o,n){'use strict';o.a=function(e,o,n,r,d,p,_,g,c,u,m){var h=[],f=e[o]>e[n-r],E=d.length,C=e[o],T=e[o+1];o+=r;for(var S=e[o],L=e[o+1],O=0,R=N(I(S-C,2)+I(L-T,2)),P=!1,v=0,i,b;v<E;++v){i=f?E-v-1:v;for(var M=d[i],D=g*c(u,M,m),A=p+D/2;o<n-r&&O+R<A;)C=S,T=L,o+=r,S=e[o],L=e[o+1],O+=R,R=N(I(S-C,2)+I(L-T,2));var F=A-O,G=t(L-T,S-C);if(f&&(G+=0<G?-s:s),void 0!=b){var w=G-b;if(P=P||0!=w,w+=w>s?-2*s:w<-s?2*s:0,l(w)>_)return null}b=G;var k=F/R,z=Object(a.c)(C,S,k),x=Object(a.c)(T,L,k);h[i]=[z,x,D/2,G,M],p+=D}return P?h:[[h[0][0],h[0][1],h[0][2],h[0][3],d]]};var a=n(14)},function(e,t,n){'use strict';var a=n(2),i=n(39),r=n(261),s=n(162),d=n(42),l=n(262),p=n(52),_=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g=function(e){function t(t){var o=e.call(this,t)||this;return o.container=null,o.renderedResolution,o.tempTransform_=Object(p.c)(),o.pixelTransform=Object(p.c)(),o.inversePixelTransform=Object(p.c)(),o.context=null,o.containerReused=!1,o}return _(t,e),t.prototype.useContainer=function(e,t){var o=this.getLayer().getClassName(),n,a;if(e&&''===e.style.opacity&&e.className===o){var r=e.firstElementChild;r instanceof HTMLCanvasElement&&(a=r.getContext('2d'))}if(a&&a.canvas.style.transform===Object(p.g)(t)?(this.container=e,this.context=a,this.containerReused=!0):this.containerReused&&(this.container=null,this.context=null,this.containerReused=!1),!this.container){n=document.createElement('div'),n.className=o;var s=n.style;s.position='absolute',s.width='100%',s.height='100%',a=Object(i.a)();var r=a.canvas;n.appendChild(r),s=r.style,s.position='absolute',s.transformOrigin='top left',this.container=n,this.context=a}},t.prototype.clip=function(e,t,o){var n=t.pixelRatio,i=t.size[0]*n/2,r=t.size[1]*n/2,s=t.viewState.rotation,l=Object(a.y)(o),_=Object(a.z)(o),g=Object(a.v)(o),c=Object(a.u)(o);Object(p.a)(t.coordinateToPixelTransform,l),Object(p.a)(t.coordinateToPixelTransform,_),Object(p.a)(t.coordinateToPixelTransform,g),Object(p.a)(t.coordinateToPixelTransform,c),e.save(),Object(d.s)(e,-s,i,r),e.beginPath(),e.moveTo(l[0]*n,l[1]*n),e.lineTo(_[0]*n,_[1]*n),e.lineTo(g[0]*n,g[1]*n),e.lineTo(c[0]*n,c[1]*n),e.clip(),Object(d.s)(e,s,i,r)},t.prototype.clipUnrotated=function(e,t,n){var i=Object(a.y)(n),r=Object(a.z)(n),s=Object(a.v)(n),d=Object(a.u)(n);Object(p.a)(t.coordinateToPixelTransform,i),Object(p.a)(t.coordinateToPixelTransform,r),Object(p.a)(t.coordinateToPixelTransform,s),Object(p.a)(t.coordinateToPixelTransform,d);var l=this.inversePixelTransform;Object(p.a)(l,i),Object(p.a)(l,r),Object(p.a)(l,s),Object(p.a)(l,d),e.save(),e.beginPath(),e.moveTo(o(i[0]),o(i[1])),e.lineTo(o(r[0]),o(r[1])),e.lineTo(o(s[0]),o(s[1])),e.lineTo(o(d[0]),o(d[1])),e.clip()},t.prototype.dispatchRenderEvent_=function(e,t,o){var n=this.getLayer();if(n.hasListener(e)){var a=new r.a(e,this.inversePixelTransform,o,t);n.dispatchEvent(a)}},t.prototype.preRender=function(e,t){this.dispatchRenderEvent_(s.a.PRERENDER,e,t)},t.prototype.postRender=function(e,t){this.dispatchRenderEvent_(s.a.POSTRENDER,e,t)},t.prototype.getRenderTransform=function(e,t,o,n){var a=e.viewState,i=e.pixelRatio,r=i/a.resolution,s=-a.center[0]+n,d=-a.center[1];return Object(p.b)(this.tempTransform_,t/2,o/2,r,-r,-a.rotation,s,d)},t.prototype.getDataAtPixel=function(e){var t=Object(p.a)(this.inversePixelTransform,e.slice()),n=this.context,a;try{a=n.getImageData(o(t[0]),o(t[1]),1,1).data}catch(e){return'SecurityError'===e.name?new Uint8Array:a}return 0===a[3]?null:a},t}(l.a);t.a=g},function(e,t,o){'use strict';var n=o(18),a=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(e){function t(t,o,n,a){var i=e.call(this,t)||this;return i.inversePixelTransform=o,i.frameState=n,i.context=a,i}return a(t,e),t}(n.a);t.a=i},function(e,t,o){'use strict';var n=o(6),a=o(51),i=o(108),r=o(11),s=o(7),d=o(89),l=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),p=function(e){function t(t){var o=e.call(this)||this;return o.layer_=t,o}return l(t,e),t.prototype.prepareFrame=function(){return Object(n.b)()},t.prototype.renderFrame=function(){return Object(n.b)()},t.prototype.loadedTileCallback=function(e,t,o){e[t]||(e[t]={}),e[t][o.tileCoord.toString()]=o},t.prototype.createLoadedTileFinder=function(e,t,o){return function(n,a){var i=this.loadedTileCallback.bind(this,o,n);return e.forEachLoadedTile(t,n,a,i)}.bind(this)},t.prototype.forEachFeatureAtCoordinate=function(){},t.prototype.getDataAtPixel=function(){return Object(n.b)()},t.prototype.getLayer=function(){return this.layer_},t.prototype.handleFontsChanged=function(){},t.prototype.handleImageChange_=function(e){var t=e.target;t.getState()===a.a.LOADED&&this.renderIfReadyAndVisible()},t.prototype.loadImage=function(e){var t=e.getState();return t!=a.a.LOADED&&t!=a.a.ERROR&&Object(r.a)(e,s.a.CHANGE,this.handleImageChange_,this),t==a.a.IDLE&&(e.load(),t=e.getState()),t==a.a.LOADED},t.prototype.renderIfReadyAndVisible=function(){var e=this.getLayer();e.getVisible()&&e.getSourceState()==d.a.READY&&e.changed()},t}(i.a);t.a=p},function(e,t,o){'use strict';function n(e,t){return p*e/t}function a(e,t,o,n){var a=o.getGeometryFunction()(t);if(a){var i=a.getSimplifiedGeometry(n),s=o.getRenderer();if(s)r(e,i,o,t);else{var d=_[i.getType()];d(e,i,o,t)}}}function r(e,t,o,n){if(t.getType()==d.a.GEOMETRY_COLLECTION){for(var a=t.getGeometries(),s=0,i=a.length;s<i;++s)r(e,a[s],o,n);return}var p=e.getBuilder(o.getZIndex(),l.a.DEFAULT);p.drawCustom(t,n,o.getRenderer())}t.a=function(e,t){return parseInt(Object(i.c)(e),10)-parseInt(Object(i.c)(t),10)},t.b=function(e,t){var o=n(e,t);return o*o},t.c=n,t.d=function(e,t,o,n,i,r){var d=!1,l=o.getImage();if(l){var p=l.getImageState();p==s.a.LOADED||p==s.a.ERROR?l.unlistenImageChange(i,r):(p==s.a.IDLE&&l.load(),p=l.getImageState(),l.listenImageChange(i,r),d=!0)}return a(e,t,o,n),d};var i=o(6),s=o(51),d=o(8),l=o(164),p=0.5,_={Point:function(e,t,o,n){var a=o.getImage();if(a){if(a.getImageState()!=s.a.LOADED)return;var i=e.getBuilder(o.getZIndex(),l.a.IMAGE);i.setImageStyle(a,e.addDeclutter(!1)),i.drawPoint(t,n)}var r=o.getText();if(r){var d=e.getBuilder(o.getZIndex(),l.a.TEXT);d.setTextStyle(r,e.addDeclutter(!!a)),d.drawText(t,n)}},LineString:function(e,t,o,n){var a=o.getStroke();if(a){var i=e.getBuilder(o.getZIndex(),l.a.LINE_STRING);i.setFillStrokeStyle(null,a),i.drawLineString(t,n)}var r=o.getText();if(r){var s=e.getBuilder(o.getZIndex(),l.a.TEXT);s.setTextStyle(r,e.addDeclutter(!1)),s.drawText(t,n)}},Polygon:function(e,t,o,n){var a=o.getFill(),i=o.getStroke();if(a||i){var r=e.getBuilder(o.getZIndex(),l.a.POLYGON);r.setFillStrokeStyle(a,i),r.drawPolygon(t,n)}var s=o.getText();if(s){var d=e.getBuilder(o.getZIndex(),l.a.TEXT);d.setTextStyle(s,e.addDeclutter(!1)),d.drawText(t,n)}},MultiPoint:function(e,t,o,n){var a=o.getImage();if(a){if(a.getImageState()!=s.a.LOADED)return;var i=e.getBuilder(o.getZIndex(),l.a.IMAGE);i.setImageStyle(a,e.addDeclutter(!1)),i.drawMultiPoint(t,n)}var r=o.getText();if(r){var d=e.getBuilder(o.getZIndex(),l.a.TEXT);d.setTextStyle(r,e.addDeclutter(!!a)),d.drawText(t,n)}},MultiLineString:function(e,t,o,n){var a=o.getStroke();if(a){var i=e.getBuilder(o.getZIndex(),l.a.LINE_STRING);i.setFillStrokeStyle(null,a),i.drawMultiLineString(t,n)}var r=o.getText();if(r){var s=e.getBuilder(o.getZIndex(),l.a.TEXT);s.setTextStyle(r,e.addDeclutter(!1)),s.drawText(t,n)}},MultiPolygon:function(e,t,o,n){var a=o.getFill(),i=o.getStroke();if(i||a){var r=e.getBuilder(o.getZIndex(),l.a.POLYGON);r.setFillStrokeStyle(a,i),r.drawMultiPolygon(t,n)}var s=o.getText();if(s){var d=e.getBuilder(o.getZIndex(),l.a.TEXT);d.setTextStyle(s,e.addDeclutter(!1)),d.drawText(t,n)}},GeometryCollection:function(e,t,o,n){var a=t.getGeometriesArray(),r,i;for(r=0,i=a.length;r<i;++r){var s=_[a[r].getType()];s(e,a[r],o,n)}},Circle:function(e,t,o,n){var a=o.getFill(),i=o.getStroke();if(a||i){var r=e.getBuilder(o.getZIndex(),l.a.CIRCLE);r.setFillStrokeStyle(a,i),r.drawCircle(t,n)}var s=o.getText();if(s){var d=e.getBuilder(o.getZIndex(),l.a.TEXT);d.setTextStyle(s,e.addDeclutter(!1)),d.drawText(t,n)}}}},function(e,o){'use strict';var n=function(){function e(e,t,o){this.decay_=e,this.minVelocity_=t,this.delay_=o,this.points_=[],this.angle_=0,this.initialVelocity_=0}return e.prototype.begin=function(){this.points_.length=0,this.angle_=0,this.initialVelocity_=0},e.prototype.update=function(e,t){this.points_.push(e,t,Date.now())},e.prototype.end=function(){if(6>this.points_.length)return!1;var e=Date.now()-this.delay_,o=this.points_.length-3;if(this.points_[o+2]<e)return!1;for(var n=o-3;0<n&&this.points_[n+2]>e;)n-=3;var a=this.points_[o+2]-this.points_[n+2];if(a<1e3/60)return!1;var i=this.points_[o]-this.points_[n],r=this.points_[o+1]-this.points_[n+1];return this.angle_=t(r,i),this.initialVelocity_=N(i*i+r*r)/a,this.initialVelocity_>this.minVelocity_},e.prototype.getDistance=function(){return(this.minVelocity_-this.initialVelocity_)/this.decay_},e.prototype.getAngle=function(){return this.angle_},e}();o.a=n},function(e,t){'use strict';t.a=function(e,t,o){var n=void 0===o?''+e:e.toFixed(o),a=n.indexOf('.');return a=-1===a?n.length:a,a>t?n:Array(1+t-a).join('0')+n}},function(e,t,o){'use strict';var n=o(88),a=o(45),i=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),r=function(e){function t(t){var o=e.call(this)||this;return o.geometry_=null,o.element_=document.createElement('div'),o.element_.style.position='absolute',o.element_.className='ol-box '+t,o.map_=null,o.startPixel_=null,o.endPixel_=null,o}return i(t,e),t.prototype.disposeInternal=function(){this.setMap(null)},t.prototype.render_=function(){var e=this.startPixel_,t=this.endPixel_,o='px',n=this.element_.style;n.left=C(e[0],t[0])+o,n.top=C(e[1],t[1])+o,n.width=l(t[0]-e[0])+o,n.height=l(t[1]-e[1])+o},t.prototype.setMap=function(e){if(this.map_){this.map_.getOverlayContainer().removeChild(this.element_);var t=this.element_.style;t.left=t.top=t.width=t.height='inherit'}this.map_=e,this.map_&&this.map_.getOverlayContainer().appendChild(this.element_)},t.prototype.setPixels=function(e,t){this.startPixel_=e,this.endPixel_=t,this.createOrUpdateGeometry(),this.render_()},t.prototype.createOrUpdateGeometry=function(){var e=this.startPixel_,t=this.endPixel_,o=[e,[e[0],t[1]],t,[t[0],e[1]]],n=o.map(this.map_.getCoordinateFromPixel,this.map_);n[4]=n[0].slice(),this.geometry_?this.geometry_.setCoordinates([n]):this.geometry_=new a.a([n])},t.prototype.getGeometry=function(){return this.geometry_},t}(n.a);t.a=r},function(e,t){'use strict';t.a={LEFT:37,UP:38,RIGHT:39,DOWN:40}},function(e,t,o){'use strict';function n(e){for(var t=e.dataTransfer.files,o=0,n=t.length;o<n;++o){var a=t.item(o),i=new FileReader;i.addEventListener(d.a.LOAD,this.handleResult_.bind(this,a)),i.readAsText(a)}}function a(e){e.stopPropagation(),e.preventDefault(),e.dataTransfer.dropEffect='copy'}var i=o(13),r=o(11),s=o(18),d=o(7),l=o(35),p=o(109),_=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g={ADD_FEATURES:'addfeatures'},c=function(e){function t(t,o,n,a){var i=e.call(this,t)||this;return i.features=n,i.file=o,i.projection=a,i}return _(t,e),t}(s.a),u=function(e){function t(t){var o=this,n=t?t:{};return o=e.call(this,{handleEvent:i.b})||this,o.formatConstructors_=n.formatConstructors?n.formatConstructors:[],o.projection_=n.projection?Object(p.a)(n.projection):null,o.dropListenKeys_=null,o.source_=n.source||null,o.target=n.target?n.target:null,o}return _(t,e),t.prototype.handleResult_=function(e,t){var o=t.target.result,n=this.getMap(),a=this.projection_;if(!a){var r=n.getView();a=r.getProjection()}for(var s=this.formatConstructors_,d=[],l=0,i=s.length,p;l<i&&(p=new s[l],d=this.tryReadFeatures_(p,o,{featureProjection:a}),!(d&&0<d.length));++l);this.source_&&(this.source_.clear(),this.source_.addFeatures(d)),this.dispatchEvent(new c(g.ADD_FEATURES,e,d,a))},t.prototype.registerListeners_=function(){var e=this.getMap();if(e){var t=this.target?this.target:e.getViewport();this.dropListenKeys_=[Object(r.a)(t,d.a.DROP,n,this),Object(r.a)(t,d.a.DRAGENTER,a,this),Object(r.a)(t,d.a.DRAGOVER,a,this),Object(r.a)(t,d.a.DROP,a,this)]}},t.prototype.setActive=function(t){e.prototype.setActive.call(this,t),t?this.registerListeners_():this.unregisterListeners_()},t.prototype.setMap=function(t){this.unregisterListeners_(),e.prototype.setMap.call(this,t),this.getActive()&&this.registerListeners_()},t.prototype.tryReadFeatures_=function(e,t,o){try{return e.readFeatures(t,o)}catch(t){return null}},t.prototype.unregisterListeners_=function(){this.dropListenKeys_&&(this.dropListenKeys_.forEach(r.e),this.dropListenKeys_=null)},t}(l.a)},function(e,o,n){'use strict';var a=n(19),i=n(20),r=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),s=function(e){function o(t){var o=this,n=t?t:{};return o=e.call(this,n)||this,o.condition_=n.condition?n.condition:a.l,o.lastAngle_=void 0,o.lastMagnitude_=void 0,o.lastScaleDelta_=0,o.duration_=void 0===n.duration?400:n.duration,o}return r(o,e),o.prototype.handleDragEvent=function(e){if(Object(a.g)(e)){var o=e.map,n=o.getSize(),i=e.pixel,r=i[0]-n[0]/2,s=n[1]/2-i[1],d=t(s,r),l=N(r*r+s*s),p=o.getView();if(void 0!==this.lastAngle_){var _=this.lastAngle_-d;p.adjustRotation(_)}this.lastAngle_=d,void 0!==this.lastMagnitude_&&p.adjustResolution(this.lastMagnitude_/l),void 0!==this.lastMagnitude_&&(this.lastScaleDelta_=this.lastMagnitude_/l),this.lastMagnitude_=l}},o.prototype.handleUpEvent=function(e){if(!Object(a.g)(e))return!0;var t=e.map,o=t.getView(),n=1<this.lastScaleDelta_?1:-1;return o.endInteraction(this.duration_,n),this.lastScaleDelta_=0,!1},o.prototype.handleDownEvent=function(e){return!!Object(a.g)(e)&&!!this.condition_(e)&&(e.map.getView().beginInteraction(),this.lastAngle_=void 0,this.lastMagnitude_=void 0,!0)},o}(i.b)},function(e,t,o){'use strict';function n(){var e=Object(v.b)();return function(t){return e[t.getGeometry().getType()]}}function a(e){var t;return e===h.a.POINT||e===h.a.MULTI_POINT?t=M.POINT:e===h.a.LINE_STRING||e===h.a.MULTI_LINE_STRING?t=M.LINE_STRING:e===h.a.POLYGON||e===h.a.MULTI_POLYGON?t=M.POLYGON:e===h.a.CIRCLE&&(t=M.CIRCLE),t}var i=o(7),r=o(92),s=o(59),d=o(271),l=o(26),p=o(60),_=o(11),g=o(18),c=o(19),u=o(2),y=o(13),m=o(152),h=o(8),f=o(120),x=o(157),I=o(121),E=o(158),C=o(274),T=o(44),S=o(45),L=o(20),O=o(125),R=o(57),P=o(41),v=o(53),b=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),M={POINT:'Point',LINE_STRING:'LineString',POLYGON:'Polygon',CIRCLE:'Circle'},D={DRAWSTART:'drawstart',DRAWEND:'drawend'},A=function(e){function t(t,o){var n=e.call(this,t)||this;return n.feature=o,n}return b(t,e),t}(g.a),F=function(e){function t(t){var o=this,i=t;i.stopDown||(i.stopDown=y.a),o=e.call(this,i)||this,o.shouldHandle_=!1,o.downPx_=null,o.downTimeout_,o.lastDragTime_,o.freehand_=!1,o.source_=t.source?t.source:null,o.features_=t.features?t.features:null,o.snapTolerance_=t.snapTolerance?t.snapTolerance:12,o.type_=t.type,o.mode_=a(o.type_),o.stopClick_=!!t.stopClick,o.minPoints_=t.minPoints?t.minPoints:o.mode_===M.POLYGON?3:2,o.maxPoints_=t.maxPoints?t.maxPoints:Infinity,o.finishCondition_=t.finishCondition?t.finishCondition:y.b;var r=t.geometryFunction;if(!r)if(o.type_===h.a.CIRCLE)r=function(e,t){var o=t?t:new m.a([NaN,NaN]),n=Object(p.g)(e[0],e[1]);return o.setCenterAndRadius(e[0],N(n)),o};else{var s=o.mode_,d;s===M.POINT?d=T.a:s===M.LINE_STRING?d=f.a:s===M.POLYGON&&(d=S.a),r=function(e,t){var o=t;return o?s===M.POLYGON?e[0].length?o.setCoordinates([e[0].concat([e[0][0]])]):o.setCoordinates([]):o.setCoordinates(e):o=new d(e),o}}return o.geometryFunction_=r,o.dragVertexDelay_=void 0===t.dragVertexDelay?500:t.dragVertexDelay,o.finishCoordinate_=null,o.sketchFeature_=null,o.sketchPoint_=null,o.sketchCoords_=null,o.sketchLine_=null,o.sketchLineCoords_=null,o.squaredClickTolerance_=t.clickTolerance?t.clickTolerance*t.clickTolerance:36,o.overlay_=new R.a({source:new P.a({useSpatialIndex:!1,wrapX:!!t.wrapX&&t.wrapX}),style:t.style?t.style:n(),updateWhileInteracting:!0}),o.geometryName_=t.geometryName,o.condition_=t.condition?t.condition:c.i,o.freehandCondition_,o.freehandCondition_=t.freehand?c.c:t.freehandCondition?t.freehandCondition:c.l,Object(_.a)(o,Object(l.b)(O.a.ACTIVE),o.updateState_,o),o}return b(t,e),t.prototype.setMap=function(t){e.prototype.setMap.call(this,t),this.updateState_()},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleEvent=function(t){t.originalEvent.type===i.a.CONTEXTMENU&&t.preventDefault(),this.freehand_=this.mode_!==M.POINT&&this.freehandCondition_(t);var o=t.type===s.a.POINTERMOVE,n=!0;if(!this.freehand_&&this.lastDragTime_&&t.type===s.a.POINTERDRAG){var a=Date.now();a-this.lastDragTime_>=this.dragVertexDelay_?(this.downPx_=t.pixel,this.shouldHandle_=!this.freehand_,o=!0):this.lastDragTime_=void 0,this.shouldHandle_&&void 0!==this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0)}return this.freehand_&&t.type===s.a.POINTERDRAG&&null!==this.sketchFeature_?(this.addToDrawing_(t),n=!1):this.freehand_&&t.type===s.a.POINTERDOWN?n=!1:o?(n=t.type===s.a.POINTERMOVE,n&&this.freehand_?n=this.handlePointerMove_(t):(t.pointerEvent.pointerType==C.a||t.type===s.a.POINTERDRAG&&void 0===this.downTimeout_)&&this.handlePointerMove_(t)):t.type===s.a.DBLCLICK&&(n=!1),e.prototype.handleEvent.call(this,t)&&n},t.prototype.handleDownEvent=function(e){return this.shouldHandle_=!this.freehand_,this.freehand_?(this.downPx_=e.pixel,this.finishCoordinate_||this.startDrawing_(e),!0):this.condition_(e)?(this.lastDragTime_=Date.now(),this.downTimeout_=setTimeout(function(){this.handlePointerMove_(new d.a(s.a.POINTERMOVE,e.map,e.pointerEvent,!1,e.frameState))}.bind(this),this.dragVertexDelay_),this.downPx_=e.pixel,!0):(this.lastDragTime_=void 0,!1)},t.prototype.handleUpEvent=function(e){var t=!0;this.downTimeout_&&(clearTimeout(this.downTimeout_),this.downTimeout_=void 0),this.handlePointerMove_(e);var o=this.mode_===M.CIRCLE;return this.shouldHandle_?(this.finishCoordinate_?this.freehand_||o?this.finishDrawing():this.atFinish_(e)?this.finishCondition_(e)&&this.finishDrawing():this.addToDrawing_(e):(this.startDrawing_(e),this.mode_===M.POINT&&this.finishDrawing()),t=!1):this.freehand_&&(this.finishCoordinate_=null,this.abortDrawing_()),!t&&this.stopClick_&&e.stopPropagation(),t},t.prototype.handlePointerMove_=function(e){if(this.downPx_&&(!this.freehand_&&this.shouldHandle_||this.freehand_&&!this.shouldHandle_)){var t=this.downPx_,o=e.pixel,n=t[0]-o[0],a=t[1]-o[1],i=n*n+a*a;if(this.shouldHandle_=this.freehand_?i>this.squaredClickTolerance_:i<=this.squaredClickTolerance_,!this.shouldHandle_)return!0}return this.finishCoordinate_?this.modifyDrawing_(e):this.createOrUpdateSketchPoint_(e),!0},t.prototype.atFinish_=function(e){var t=!1;if(this.sketchFeature_){var o=!1,n=[this.finishCoordinate_];if(this.mode_===M.LINE_STRING)o=this.sketchCoords_.length>this.minPoints_;else if(this.mode_===M.POLYGON){var a=this.sketchCoords_;o=a[0].length>this.minPoints_,n=[a[0][0],a[0][a[0].length-2]]}if(o)for(var r=e.map,s=0,i=n.length;s<i;s++){var d=n[s],l=r.getPixelFromCoordinate(d),p=e.pixel,_=p[0]-l[0],g=p[1]-l[1],c=this.freehand_?1:this.snapTolerance_;if(t=N(_*_+g*g)<=c,t){this.finishCoordinate_=d;break}}}return t},t.prototype.createOrUpdateSketchPoint_=function(e){var t=e.coordinate.slice();if(!this.sketchPoint_)this.sketchPoint_=new r.a(new T.a(t)),this.updateSketchFeatures_();else{var o=this.sketchPoint_.getGeometry();o.setCoordinates(t)}},t.prototype.startDrawing_=function(e){var t=e.coordinate;this.finishCoordinate_=t,this.mode_===M.POINT?this.sketchCoords_=t.slice():this.mode_===M.POLYGON?(this.sketchCoords_=[[t.slice(),t.slice()]],this.sketchLineCoords_=this.sketchCoords_[0]):this.sketchCoords_=[t.slice(),t.slice()],this.sketchLineCoords_&&(this.sketchLine_=new r.a(new f.a(this.sketchLineCoords_)));var o=this.geometryFunction_(this.sketchCoords_);this.sketchFeature_=new r.a,this.geometryName_&&this.sketchFeature_.setGeometryName(this.geometryName_),this.sketchFeature_.setGeometry(o),this.updateSketchFeatures_(),this.dispatchEvent(new A(D.DRAWSTART,this.sketchFeature_))},t.prototype.modifyDrawing_=function(e){var t=e.coordinate,o=this.sketchFeature_.getGeometry(),n,a;if(this.mode_===M.POINT?a=this.sketchCoords_:this.mode_===M.POLYGON?(n=this.sketchCoords_[0],a=n[n.length-1],this.atFinish_(e)&&(t=this.finishCoordinate_.slice())):(n=this.sketchCoords_,a=n[n.length-1]),a[0]=t[0],a[1]=t[1],this.geometryFunction_(this.sketchCoords_,o),this.sketchPoint_){var i=this.sketchPoint_.getGeometry();i.setCoordinates(t)}var s;if(o.getType()==h.a.POLYGON&&this.mode_!==M.POLYGON){this.sketchLine_||(this.sketchLine_=new r.a);var d=o.getLinearRing(0);s=this.sketchLine_.getGeometry(),s?(s.setFlatCoordinates(d.getLayout(),d.getFlatCoordinates()),s.changed()):(s=new f.a(d.getFlatCoordinates(),d.getLayout()),this.sketchLine_.setGeometry(s))}else this.sketchLineCoords_&&(s=this.sketchLine_.getGeometry(),s.setCoordinates(this.sketchLineCoords_));this.updateSketchFeatures_()},t.prototype.addToDrawing_=function(e){var t=e.coordinate,o=this.sketchFeature_.getGeometry(),n,a;this.mode_===M.LINE_STRING?(this.finishCoordinate_=t.slice(),a=this.sketchCoords_,a.length>=this.maxPoints_&&(this.freehand_?a.pop():n=!0),a.push(t.slice()),this.geometryFunction_(a,o)):this.mode_===M.POLYGON&&(a=this.sketchCoords_[0],a.length>=this.maxPoints_&&(this.freehand_?a.pop():n=!0),a.push(t.slice()),n&&(this.finishCoordinate_=a[0]),this.geometryFunction_(this.sketchCoords_,o)),this.updateSketchFeatures_(),n&&this.finishDrawing()},t.prototype.removeLastPoint=function(){if(this.sketchFeature_){var e=this.sketchFeature_.getGeometry(),t,o;this.mode_===M.LINE_STRING?(t=this.sketchCoords_,t.splice(-2,1),this.geometryFunction_(t,e),2<=t.length&&(this.finishCoordinate_=t[t.length-2].slice())):this.mode_===M.POLYGON&&(t=this.sketchCoords_[0],t.splice(-2,1),o=this.sketchLine_.getGeometry(),o.setCoordinates(t),this.geometryFunction_(this.sketchCoords_,e)),0===t.length&&(this.finishCoordinate_=null),this.updateSketchFeatures_()}},t.prototype.finishDrawing=function(){var e=this.abortDrawing_();if(e){var t=this.sketchCoords_,o=e.getGeometry();this.mode_===M.LINE_STRING?(t.pop(),this.geometryFunction_(t,o)):this.mode_===M.POLYGON&&(t[0].pop(),this.geometryFunction_(t,o),t=o.getCoordinates()),this.type_===h.a.MULTI_POINT?e.setGeometry(new I.a([t])):this.type_===h.a.MULTI_LINE_STRING?e.setGeometry(new x.a([t])):this.type_===h.a.MULTI_POLYGON&&e.setGeometry(new E.a([t])),this.dispatchEvent(new A(D.DRAWEND,e)),this.features_&&this.features_.push(e),this.source_&&this.source_.addFeature(e)}},t.prototype.abortDrawing_=function(){this.finishCoordinate_=null;var e=this.sketchFeature_;return e&&(this.sketchFeature_=null,this.sketchPoint_=null,this.sketchLine_=null,this.overlay_.getSource().clear(!0)),e},t.prototype.extend=function(e){var t=e.getGeometry();this.sketchFeature_=e,this.sketchCoords_=t.getCoordinates();var o=this.sketchCoords_[this.sketchCoords_.length-1];this.finishCoordinate_=o.slice(),this.sketchCoords_.push(o.slice()),this.updateSketchFeatures_(),this.dispatchEvent(new A(D.DRAWSTART,this.sketchFeature_))},t.prototype.updateSketchFeatures_=function(){var e=[];this.sketchFeature_&&e.push(this.sketchFeature_),this.sketchLine_&&e.push(this.sketchLine_),this.sketchPoint_&&e.push(this.sketchPoint_);var t=this.overlay_.getSource();t.clear(!0),t.addFeatures(e)},t.prototype.updateState_=function(){var e=this.getMap(),t=this.getActive();e&&t||this.abortDrawing_(),this.overlay_.setMap(t?e:null)},t}(L.b);t.a=F},function(e,t,o){'use strict';var n=o(272),a=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(e){function t(t,o,n,a,i){var r=e.call(this,t,o,n.originalEvent,a,i)||this;return r.pointerEvent=n,r}return a(t,e),t}(n.a);t.a=i},function(e,t,o){'use strict';var n=o(273),a=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(e){function t(t,o,n,a,i){var r=e.call(this,t,o,i)||this;return r.originalEvent=n,r.pixel=o.getEventPixel(n),r.coordinate=o.getCoordinateFromPixel(r.pixel),r.dragging=void 0!==a&&a,r}return a(t,e),t.prototype.preventDefault=function(){e.prototype.preventDefault.call(this),this.originalEvent.preventDefault()},t.prototype.stopPropagation=function(){e.prototype.stopPropagation.call(this),this.originalEvent.stopPropagation()},t}(n.a);t.a=i},function(e,t,o){'use strict';var n=o(18),a=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),i=function(e){function t(t,o,n){var a=e.call(this,t)||this;return a.map=o,a.frameState=void 0===n?null:n,a}return a(t,e),t}(n.a);t.a=i},function(e,t,o){'use strict';function n(t){if(!this.isEventSimulatedFromTouch_(t)){g.toString()in this.pointerMap&&this.cancel(t);var o=d(t,this.dispatcher);this.pointerMap[g.toString()]=t,this.dispatcher.down(o,t)}}function a(t){if(!this.isEventSimulatedFromTouch_(t)){var o=d(t,this.dispatcher);this.dispatcher.move(o,t)}}function i(t){if(!this.isEventSimulatedFromTouch_(t)){var o=this.pointerMap[g.toString()];if(o&&o.button===t.button){var n=d(t,this.dispatcher);this.dispatcher.up(n,t),this.cleanupMouse()}}}function r(t){if(!this.isEventSimulatedFromTouch_(t)){var o=d(t,this.dispatcher);this.dispatcher.enterOver(o,t)}}function s(t){if(!this.isEventSimulatedFromTouch_(t)){var o=d(t,this.dispatcher);this.dispatcher.leaveOut(o,t)}}function d(t,o){var n=o.cloneEvent(t,t),e=n.preventDefault;return n.preventDefault=function(){t.preventDefault(),e()},n.pointerId=g,n.isPrimary=!0,n.pointerType=c,n}o.d(t,'a',function(){return c});var p=o(275),_=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g=1,c='mouse',u=25,y=function(e){function t(t){var o=this;return o=e.call(this,t,{mousedown:n,mousemove:a,mouseup:i,mouseover:r,mouseout:s})||this,o.pointerMap=t.pointerMap,o.lastTouches=[],o}return _(t,e),t.prototype.isEventSimulatedFromTouch_=function(e){for(var o=this.lastTouches,n=e.clientX,a=e.clientY,r=0,i=o.length,s=void 0;r<i&&(s=o[r]);r++){var t=l(n-s[0]),d=l(a-s[1]);if(t<=u&&d<=u)return!0}return!1},t.prototype.cancel=function(t){var o=d(t,this.dispatcher);this.dispatcher.cancel(o,t),this.cleanupMouse()},t.prototype.cleanupMouse=function(){delete this.pointerMap[g.toString()]},t}(p.a)},function(e,t){'use strict';var o=function(){function e(e,t){this.dispatcher=e,this.mapping_=t}return e.prototype.getEvents=function(){return Object.keys(this.mapping_)},e.prototype.getHandlerForEvent=function(e){return this.mapping_[e]},e}();t.a=o},function(e,t,o){'use strict';function n(){var e=Object(x.b)();return function(){return e[c.a.POLYGON]}}function a(){var e=Object(x.b)();return function(){return e[c.a.POINT]}}function i(e){return function(t){return Object(g.b)([e,t])}}function r(e,t){return e[0]==t[0]?function(o){return Object(g.b)([e,[o[0],t[1]]])}:e[1]==t[1]?function(o){return Object(g.b)([e,[t[0],o[1]]])}:null}function s(e){return[[[e[0],e[1]],[e[0],e[3]]],[[e[0],e[3]],[e[2],e[3]]],[[e[2],e[3]],[e[2],e[1]]],[[e[2],e[1]],[e[0],e[1]]]]}var d=o(92),l=o(59),p=o(60),_=o(18),g=o(2),c=o(8),u=o(44),y=o(45),m=o(20),h=o(57),f=o(41),x=o(53),I=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),E={EXTENTCHANGED:'extentchanged'},T=function(e){function t(t){var o=e.call(this,E.EXTENTCHANGED)||this;return o.extent=t,o}return I(t,e),t}(_.a),S=function(e){function t(t){var o=this,i=t||{};return o=e.call(this,i)||this,o.extent_=null,o.pointerHandler_=null,o.pixelTolerance_=void 0===i.pixelTolerance?10:i.pixelTolerance,o.snappedToVertex_=!1,o.extentFeature_=null,o.vertexFeature_=null,t||(t={}),o.extentOverlay_=new h.a({source:new f.a({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.boxStyle?t.boxStyle:n(),updateWhileAnimating:!0,updateWhileInteracting:!0}),o.vertexOverlay_=new h.a({source:new f.a({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.pointerStyle?t.pointerStyle:a(),updateWhileAnimating:!0,updateWhileInteracting:!0}),t.extent&&o.setExtent(t.extent),o}return I(t,e),t.prototype.snapToVertex_=function(e,t){var o=t.getCoordinateFromPixel(e),n=function(e,t){return Object(p.h)(o,e)-Object(p.h)(o,t)},a=this.getExtent();if(a){var i=s(a);i.sort(n);var r=i[0],d=Object(p.b)(o,r),l=t.getPixelFromCoordinate(d);if(Object(p.c)(e,l)<=this.pixelTolerance_){var _=t.getPixelFromCoordinate(r[0]),g=t.getPixelFromCoordinate(r[1]),c=Object(p.g)(l,_),u=Object(p.g)(l,g),y=N(C(c,u));return this.snappedToVertex_=y<=this.pixelTolerance_,this.snappedToVertex_&&(d=c>u?r[1]:r[0]),d}}return null},t.prototype.handlePointerMove_=function(e){var t=e.pixel,o=e.map,n=this.snapToVertex_(t,o);n||(n=o.getCoordinateFromPixel(t)),this.createOrUpdatePointerFeature_(n)},t.prototype.createOrUpdateExtentFeature_=function(e){var t=this.extentFeature_;return t?e?t.setGeometry(Object(y.c)(e)):t.setGeometry(void 0):(t=e?new d.a(Object(y.c)(e)):new d.a({}),this.extentFeature_=t,this.extentOverlay_.getSource().addFeature(t)),t},t.prototype.createOrUpdatePointerFeature_=function(e){var t=this.vertexFeature_;if(!t)t=new d.a(new u.a(e)),this.vertexFeature_=t,this.vertexOverlay_.getSource().addFeature(t);else{var o=t.getGeometry();o.setCoordinates(e)}return t},t.prototype.handleEvent=function(t){return!t.pointerEvent||(t.type!=l.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),e.prototype.handleEvent.call(this,t),!1)},t.prototype.handleDownEvent=function(e){var t=e.pixel,o=e.map,n=this.getExtent(),a=this.snapToVertex_(t,o),s=function(e){var t=null,o=null;return e[0]==n[0]?t=n[2]:e[0]==n[2]&&(t=n[0]),e[1]==n[1]?o=n[3]:e[1]==n[3]&&(o=n[1]),null!==t&&null!==o?[t,o]:null};if(a&&n){var d=a[0]==n[0]||a[0]==n[2]?a[0]:null,l=a[1]==n[1]||a[1]==n[3]?a[1]:null;null!==d&&null!==l?this.pointerHandler_=i(s(a)):null===d?null!==l&&(this.pointerHandler_=r(s([n[0],l]),s([n[2],l]))):this.pointerHandler_=r(s([d,n[1]]),s([d,n[3]]))}else a=o.getCoordinateFromPixel(t),this.setExtent([a[0],a[1],a[0],a[1]]),this.pointerHandler_=i(a);return!0},t.prototype.handleDragEvent=function(e){if(this.pointerHandler_){var t=e.coordinate;this.setExtent(this.pointerHandler_(t)),this.createOrUpdatePointerFeature_(t)}return!0},t.prototype.handleUpEvent=function(){this.pointerHandler_=null;var e=this.getExtent();return e&&0!==Object(g.t)(e)||this.setExtent(null),!1},t.prototype.setMap=function(t){this.extentOverlay_.setMap(t),this.vertexOverlay_.setMap(t),e.prototype.setMap.call(this,t)},t.prototype.getExtent=function(){return this.extent_},t.prototype.setExtent=function(e){this.extent_=e?e:null,this.createOrUpdateExtentFeature_(e),this.dispatchEvent(new T(this.extent_))},t}(m.b)},function(e,t,o){'use strict';function n(e,t){return e.index-t.index}function i(e,t){var o=t.geometry;if(o.getType()===x.a.CIRCLE){var n=o;if(t.index===b){var a=Object(c.g)(n.getCenter(),e),i=N(a)-n.getRadius();return i*i}}return Object(c.h)(e,t.segment)}function a(e,t){var o=t.geometry;return o.getType()===x.a.CIRCLE&&t.index===b?o.getClosestPoint(e):Object(c.b)(e,t.segment)}function r(){var e=Object(R.b)();return function(){return e[x.a.POINT]}}var s=o(6),d=o(69),l=o(70),p=o(92),_=o(59),g=o(15),c=o(60),u=o(11),y=o(18),m=o(7),h=o(19),f=o(2),x=o(8),I=o(44),E=o(20),T=o(57),S=o(41),L=o(111),O=o(112),R=o(53),P=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),v=0,b=1,M={MODIFYSTART:'modifystart',MODIFYEND:'modifyend'},D=function(e){function t(t,o,n){var a=e.call(this,t)||this;return a.features=o,a.mapBrowserEvent=n,a}return P(t,e),t}(y.a),A=function(e){function t(t){var o=e.call(this,t)||this;o.condition_=t.condition?t.condition:h.k,o.defaultDeleteCondition_=function(e){return Object(h.a)(e)&&Object(h.m)(e)},o.deleteCondition_=t.deleteCondition?t.deleteCondition:o.defaultDeleteCondition_,o.insertVertexCondition_=t.insertVertexCondition?t.insertVertexCondition:h.c,o.vertexFeature_=null,o.vertexSegments_=null,o.lastPixel_=[0,0],o.ignoreNextSingleClick_=!1,o.modified_=!1,o.rBush_=new O.a,o.pixelTolerance_=void 0===t.pixelTolerance?10:t.pixelTolerance,o.snappedToVertex_=!1,o.changingFeature_=!1,o.dragSegments_=[],o.overlay_=new T.a({source:new S.a({useSpatialIndex:!1,wrapX:!!t.wrapX}),style:t.style?t.style:r(),updateWhileAnimating:!0,updateWhileInteracting:!0}),o.SEGMENT_WRITERS_={Point:o.writePointGeometry_,LineString:o.writeLineStringGeometry_,LinearRing:o.writeLineStringGeometry_,Polygon:o.writePolygonGeometry_,MultiPoint:o.writeMultiPointGeometry_,MultiLineString:o.writeMultiLineStringGeometry_,MultiPolygon:o.writeMultiPolygonGeometry_,Circle:o.writeCircleGeometry_,GeometryCollection:o.writeGeometryCollectionGeometry_},o.source_=null;var n;if(t.source?(o.source_=t.source,n=new d.a(o.source_.getFeatures()),Object(u.a)(o.source_,L.a.ADDFEATURE,o.handleSourceAdd_,o),Object(u.a)(o.source_,L.a.REMOVEFEATURE,o.handleSourceRemove_,o)):n=t.features,!n)throw new Error('The modify interaction requires features or a source');return o.features_=n,o.features_.forEach(o.addFeature_.bind(o)),Object(u.a)(o.features_,l.a.ADD,o.handleFeatureAdd_,o),Object(u.a)(o.features_,l.a.REMOVE,o.handleFeatureRemove_,o),o.lastPointerEvent_=null,o}return P(t,e),t.prototype.addFeature_=function(e){var t=e.getGeometry();t&&t.getType()in this.SEGMENT_WRITERS_&&this.SEGMENT_WRITERS_[t.getType()].call(this,e,t);var o=this.getMap();o&&o.isRendered()&&this.getActive()&&this.handlePointerAtPixel_(this.lastPixel_,o),Object(u.a)(e,m.a.CHANGE,this.handleFeatureChange_,this)},t.prototype.willModifyFeatures_=function(e){this.modified_||(this.modified_=!0,this.dispatchEvent(new D(M.MODIFYSTART,this.features_,e)))},t.prototype.removeFeature_=function(e){this.removeFeatureSegmentData_(e),this.vertexFeature_&&0===this.features_.getLength()&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),Object(u.c)(e,m.a.CHANGE,this.handleFeatureChange_,this)},t.prototype.removeFeatureSegmentData_=function(e){var t=this.rBush_,o=[];t.forEach(function(t){e===t.feature&&o.push(t)});for(var n=o.length-1,a;0<=n;--n){a=o[n];for(var i=this.dragSegments_.length-1;0<=i;--i)this.dragSegments_[i][0]===a&&this.dragSegments_.splice(i,1);t.remove(a)}},t.prototype.setActive=function(t){this.vertexFeature_&&!t&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.prototype.setActive.call(this,t)},t.prototype.setMap=function(t){this.overlay_.setMap(t),e.prototype.setMap.call(this,t)},t.prototype.getOverlay=function(){return this.overlay_},t.prototype.handleSourceAdd_=function(e){e.feature&&this.features_.push(e.feature)},t.prototype.handleSourceRemove_=function(e){e.feature&&this.features_.remove(e.feature)},t.prototype.handleFeatureAdd_=function(e){this.addFeature_(e.element)},t.prototype.handleFeatureChange_=function(e){if(!this.changingFeature_){var t=e.target;this.removeFeature_(t),this.addFeature_(t)}},t.prototype.handleFeatureRemove_=function(e){var t=e.element;this.removeFeature_(t)},t.prototype.writePointGeometry_=function(e,t){var o=t.getCoordinates();this.rBush_.insert(t.getExtent(),{feature:e,geometry:t,segment:[o,o]})},t.prototype.writeMultiPointGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,a=o.length;n<a;++n){var r=o[n],s={feature:e,geometry:t,depth:[n],index:n,segment:[r,r]};this.rBush_.insert(t.getExtent(),s)}},t.prototype.writeLineStringGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,a=o.length-1;n<a;++n){var r=o.slice(n,n+2),s={feature:e,geometry:t,index:n,segment:r};this.rBush_.insert(Object(f.b)(r),s)}},t.prototype.writeMultiLineStringGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,a=o.length,r;n<a;++n){r=o[n];for(var s=0,d=r.length-1;s<d;++s){var l=r.slice(s,s+2),p={feature:e,geometry:t,depth:[n],index:s,segment:l};this.rBush_.insert(Object(f.b)(l),p)}}},t.prototype.writePolygonGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,a=o.length,r;n<a;++n){r=o[n];for(var s=0,d=r.length-1;s<d;++s){var l=r.slice(s,s+2),p={feature:e,geometry:t,depth:[n],index:s,segment:l};this.rBush_.insert(Object(f.b)(l),p)}}},t.prototype.writeMultiPolygonGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,a=o.length,r;n<a;++n){r=o[n];for(var s=0,d=r.length,l;s<d;++s){l=r[s];for(var p=0,_=l.length-1;p<_;++p){var g=l.slice(p,p+2),c={feature:e,geometry:t,depth:[s,n],index:p,segment:g};this.rBush_.insert(Object(f.b)(g),c)}}}},t.prototype.writeCircleGeometry_=function(e,t){var o=t.getCenter(),n={feature:e,geometry:t,index:v,segment:[o,o]},a={feature:e,geometry:t,index:b,segment:[o,o]};n.featureSegments=a.featureSegments=[n,a],this.rBush_.insert(Object(f.l)(o),n),this.rBush_.insert(t.getExtent(),a)},t.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var o=t.getGeometriesArray(),n=0;n<o.length;++n)this.SEGMENT_WRITERS_[o[n].getType()].call(this,e,o[n])},t.prototype.createOrUpdateVertexFeature_=function(e){var t=this.vertexFeature_;if(!t)t=new p.a(new I.a(e)),this.vertexFeature_=t,this.overlay_.getSource().addFeature(t);else{var o=t.getGeometry();o.setCoordinates(e)}return t},t.prototype.handleEvent=function(t){if(!t.pointerEvent)return!0;this.lastPointerEvent_=t;var o;return t.map.getView().getInteracting()||t.type!=_.a.POINTERMOVE||this.handlingDownUpSequence||this.handlePointerMove_(t),this.vertexFeature_&&this.deleteCondition_(t)&&(t.type==_.a.SINGLECLICK&&this.ignoreNextSingleClick_?o=!0:o=this.removePoint()),t.type==_.a.SINGLECLICK&&(this.ignoreNextSingleClick_=!1),e.prototype.handleEvent.call(this,t)&&!o},t.prototype.handleDragEvent=function(e){this.ignoreNextSingleClick_=!1,this.willModifyFeatures_(e);for(var t=e.coordinate,o=0,n=this.dragSegments_.length;o<n;++o){for(var a=this.dragSegments_[o],i=a[0],r=i.depth,s=i.geometry,d=void 0,l=i.segment,p=a[1];t.length<s.getStride();)t.push(l[p][t.length]);switch(s.getType()){case x.a.POINT:d=t,l[0]=l[1]=t;break;case x.a.MULTI_POINT:d=s.getCoordinates(),d[i.index]=t,l[0]=l[1]=t;break;case x.a.LINE_STRING:d=s.getCoordinates(),d[i.index+p]=t,l[p]=t;break;case x.a.MULTI_LINE_STRING:d=s.getCoordinates(),d[r[0]][i.index+p]=t,l[p]=t;break;case x.a.POLYGON:d=s.getCoordinates(),d[r[0]][i.index+p]=t,l[p]=t;break;case x.a.MULTI_POLYGON:d=s.getCoordinates(),d[r[1]][r[0]][i.index+p]=t,l[p]=t;break;case x.a.CIRCLE:l[0]=l[1]=t,i.index===v?(this.changingFeature_=!0,s.setCenter(t),this.changingFeature_=!1):(this.changingFeature_=!0,s.setRadius(Object(c.c)(s.getCenter(),t)),this.changingFeature_=!1);break;default:}d&&this.setGeometryCoordinates_(s,d)}this.createOrUpdateVertexFeature_(t)},t.prototype.handleDownEvent=function(e){if(!this.condition_(e))return!1;this.handlePointerAtPixel_(e.pixel,e.map);var t=e.map.getCoordinateFromPixel(e.pixel);this.dragSegments_.length=0,this.modified_=!1;var o=this.vertexFeature_;if(o){var r=[],d=o.getGeometry(),l=d.getCoordinates(),p=Object(f.b)([l]),_=this.rBush_.getInExtent(p),g={};_.sort(n);for(var u=0,i=_.length;u<i;++u){var y=_[u],m=y.segment,h=Object(s.c)(y.feature),I=y.depth;if(I&&(h+='-'+I.join('-')),g[h]||(g[h]=[,,]),y.geometry.getType()===x.a.CIRCLE&&y.index===b){var E=a(t,y);Object(c.d)(E,l)&&!g[h][0]&&(this.dragSegments_.push([y,0]),g[h][0]=y)}else if(Object(c.d)(m[0],l)&&!g[h][0])this.dragSegments_.push([y,0]),g[h][0]=y;else if(Object(c.d)(m[1],l)&&!g[h][1]){if((y.geometry.getType()===x.a.LINE_STRING||y.geometry.getType()===x.a.MULTI_LINE_STRING)&&g[h][0]&&0===g[h][0].index)continue;this.dragSegments_.push([y,1]),g[h][1]=y}else Object(s.c)(m)in this.vertexSegments_&&!g[h][0]&&!g[h][1]&&this.insertVertexCondition_(e)&&r.push([y,l])}r.length&&this.willModifyFeatures_(e);for(var C=r.length-1;0<=C;--C)this.insertVertex_.apply(this,r[C])}return!!this.vertexFeature_},t.prototype.handleUpEvent=function(e){for(var t=this.dragSegments_.length-1;0<=t;--t){var o=this.dragSegments_[t][0],n=o.geometry;if(n.getType()===x.a.CIRCLE){var a=n.getCenter(),i=o.featureSegments[0],r=o.featureSegments[1];i.segment[0]=i.segment[1]=a,r.segment[0]=r.segment[1]=a,this.rBush_.update(Object(f.l)(a),i),this.rBush_.update(n.getExtent(),r)}else this.rBush_.update(Object(f.b)(o.segment),o)}return this.modified_&&(this.dispatchEvent(new D(M.MODIFYEND,this.features_,e)),this.modified_=!1),!1},t.prototype.handlePointerMove_=function(e){this.lastPixel_=e.pixel,this.handlePointerAtPixel_(e.pixel,e.map)},t.prototype.handlePointerAtPixel_=function(e,t){var o=t.getCoordinateFromPixel(e),n=function(e,t){return i(o,e)-i(o,t)},r=Object(f.c)(Object(f.l)(o),t.getView().getResolution()*this.pixelTolerance_),d=this.rBush_,l=d.getInExtent(r);if(0<l.length){l.sort(n);var p=l[0],_=p.segment,g=a(o,p),u=t.getPixelFromCoordinate(g),y=Object(c.c)(e,u);if(y<=this.pixelTolerance_){var m={};if(p.geometry.getType()===x.a.CIRCLE&&p.index===b)this.snappedToVertex_=!0,this.createOrUpdateVertexFeature_(g);else{var h=t.getPixelFromCoordinate(_[0]),I=t.getPixelFromCoordinate(_[1]),E=Object(c.g)(u,h),T=Object(c.g)(u,I);y=N(C(E,T)),this.snappedToVertex_=y<=this.pixelTolerance_,this.snappedToVertex_&&(g=E>T?_[1]:_[0]),this.createOrUpdateVertexFeature_(g);for(var S=1,L=l.length,O;S<L&&(O=l[S].segment,Object(c.d)(_[0],O[0])&&Object(c.d)(_[1],O[1])||Object(c.d)(_[0],O[1])&&Object(c.d)(_[1],O[0]));++S)m[Object(s.c)(O)]=!0}return m[Object(s.c)(_)]=!0,void(this.vertexSegments_=m)}}this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null)},t.prototype.insertVertex_=function(e,t){for(var o=e.segment,n=e.feature,a=e.geometry,i=e.depth,r=e.index,s;t.length<a.getStride();)t.push(0);switch(a.getType()){case x.a.MULTI_LINE_STRING:s=a.getCoordinates(),s[i[0]].splice(r+1,0,t);break;case x.a.POLYGON:s=a.getCoordinates(),s[i[0]].splice(r+1,0,t);break;case x.a.MULTI_POLYGON:s=a.getCoordinates(),s[i[1]][i[0]].splice(r+1,0,t);break;case x.a.LINE_STRING:s=a.getCoordinates(),s.splice(r+1,0,t);break;default:return;}this.setGeometryCoordinates_(a,s);var d=this.rBush_;d.remove(e),this.updateSegmentIndices_(a,r,i,1);var l={segment:[o[0],t],feature:n,geometry:a,depth:i,index:r};d.insert(Object(f.b)(l.segment),l),this.dragSegments_.push([l,1]);var p={segment:[t,o[1]],feature:n,geometry:a,depth:i,index:r+1};d.insert(Object(f.b)(p.segment),p),this.dragSegments_.push([p,0]),this.ignoreNextSingleClick_=!0},t.prototype.removePoint=function(){if(this.lastPointerEvent_&&this.lastPointerEvent_.type!=_.a.POINTERDRAG){var e=this.lastPointerEvent_;this.willModifyFeatures_(e);var t=this.removeVertex_();return this.dispatchEvent(new D(M.MODIFYEND,this.features_,e)),this.modified_=!1,t}return!1},t.prototype.removeVertex_=function(){var e=this.dragSegments_,t={},o=!1,n,a,r,d,l,i,p,_,g,c,u;for(l=e.length-1;0<=l;--l)r=e[l],c=r[0],u=Object(s.c)(c.feature),c.depth&&(u+='-'+c.depth.join('-')),u in t||(t[u]={}),0===r[1]?(t[u].right=c,t[u].index=c.index):1==r[1]&&(t[u].left=c,t[u].index=c.index+1);for(u in t){switch(g=t[u].right,p=t[u].left,i=t[u].index,_=i-1,c=void 0===p?g:p,0>_&&(_=0),d=c.geometry,a=d.getCoordinates(),n=a,o=!1,d.getType()){case x.a.MULTI_LINE_STRING:2<a[c.depth[0]].length&&(a[c.depth[0]].splice(i,1),o=!0);break;case x.a.LINE_STRING:2<a.length&&(a.splice(i,1),o=!0);break;case x.a.MULTI_POLYGON:n=n[c.depth[1]];case x.a.POLYGON:n=n[c.depth[0]],4<n.length&&(i==n.length-1&&(i=0),n.splice(i,1),o=!0,0===i&&(n.pop(),n.push(n[0]),_=n.length-1));break;default:}if(o){this.setGeometryCoordinates_(d,a);var y=[];if(void 0!==p&&(this.rBush_.remove(p),y.push(p.segment[0])),void 0!==g&&(this.rBush_.remove(g),y.push(g.segment[1])),void 0!==p&&void 0!==g){var m={depth:c.depth,feature:c.feature,geometry:c.geometry,index:_,segment:y};this.rBush_.insert(Object(f.b)(m.segment),m)}this.updateSegmentIndices_(d,i,c.depth,-1),this.vertexFeature_&&(this.overlay_.getSource().removeFeature(this.vertexFeature_),this.vertexFeature_=null),e.length=0}}return o},t.prototype.setGeometryCoordinates_=function(e,t){this.changingFeature_=!0,e.setCoordinates(t),this.changingFeature_=!1},t.prototype.updateSegmentIndices_=function(e,t,o,n){this.rBush_.forEachInExtent(e.getExtent(),function(a){a.geometry===e&&(void 0===o||void 0===a.depth||Object(g.b)(a.depth,o))&&a.index>t&&(a.index+=n)})},t}(E.b);t.a=A},function(e,t,n){'use strict';function a(e){if(e.feature)return e.feature;return e.element?e.element:void 0}function i(e,t){var o=Object(d.h)(this.pixelCoordinate_,e.segment),n=Object(d.h)(this.pixelCoordinate_,t.segment);return o-n}var r=n(6),s=n(70),d=n(60),l=n(11),p=n(7),_=n(2),g=n(13),c=n(8),u=n(45),y=n(20),m=n(12),h=n(111),f=n(112),x=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),I=function(e){function t(t){var o=this,n=t?t:{},a=n;return a.handleDownEvent||(a.handleDownEvent=g.b),a.stopDown||(a.stopDown=g.a),o=e.call(this,a)||this,o.source_=n.source?n.source:null,o.vertex_=void 0===n.vertex||n.vertex,o.edge_=void 0===n.edge||n.edge,o.features_=n.features?n.features:null,o.featuresListenerKeys_=[],o.featureChangeListenerKeys_={},o.indexedFeaturesExtents_={},o.pendingFeatures_={},o.pixelCoordinate_=null,o.pixelTolerance_=void 0===n.pixelTolerance?10:n.pixelTolerance,o.sortByDistance_=i.bind(o),o.rBush_=new f.a,o.SEGMENT_WRITERS_={Point:o.writePointGeometry_,LineString:o.writeLineStringGeometry_,LinearRing:o.writeLineStringGeometry_,Polygon:o.writePolygonGeometry_,MultiPoint:o.writeMultiPointGeometry_,MultiLineString:o.writeMultiLineStringGeometry_,MultiPolygon:o.writeMultiPolygonGeometry_,GeometryCollection:o.writeGeometryCollectionGeometry_,Circle:o.writeCircleGeometry_},o}return x(t,e),t.prototype.addFeature=function(e,t){var o=Object(r.c)(e),n=e.getGeometry();if(n){var a=this.SEGMENT_WRITERS_[n.getType()];a&&(this.indexedFeaturesExtents_[o]=n.getExtent(Object(_.i)()),a.call(this,e,n))}(void 0===t||t)&&(this.featureChangeListenerKeys_[o]=Object(l.a)(e,p.a.CHANGE,this.handleFeatureChange_,this))},t.prototype.forEachFeatureAdd_=function(e){this.addFeature(e)},t.prototype.forEachFeatureRemove_=function(e){this.removeFeature(e)},t.prototype.getFeatures_=function(){var e;return this.features_?e=this.features_:this.source_&&(e=this.source_.getFeatures()),e},t.prototype.handleEvent=function(t){var o=this.snapTo(t.pixel,t.coordinate,t.map);return o.snapped&&(t.coordinate=o.vertex.slice(0,2),t.pixel=o.vertexPixel),e.prototype.handleEvent.call(this,t)},t.prototype.handleFeatureAdd_=function(e){var t=a(e);this.addFeature(t)},t.prototype.handleFeatureRemove_=function(e){var t=a(e);this.removeFeature(t)},t.prototype.handleFeatureChange_=function(e){var t=e.target;if(this.handlingDownUpSequence){var o=Object(r.c)(t);o in this.pendingFeatures_||(this.pendingFeatures_[o]=t)}else this.updateFeature_(t)},t.prototype.handleUpEvent=function(){var e=Object(m.c)(this.pendingFeatures_);return e.length&&(e.forEach(this.updateFeature_.bind(this)),this.pendingFeatures_={}),!1},t.prototype.removeFeature=function(e,t){var o=Object(r.c)(e),n=this.indexedFeaturesExtents_[o];if(n){var a=this.rBush_,s=[];a.forEachInExtent(n,function(t){e===t.feature&&s.push(t)});for(var d=s.length-1;0<=d;--d)a.remove(s[d])}(void 0===t||t)&&(Object(l.e)(this.featureChangeListenerKeys_[o]),delete this.featureChangeListenerKeys_[o])},t.prototype.setMap=function(t){var o=this.getMap(),n=this.featuresListenerKeys_,a=this.getFeatures_();o&&(n.forEach(l.e),n.length=0,a.forEach(this.forEachFeatureRemove_.bind(this))),e.prototype.setMap.call(this,t),t&&(this.features_?n.push(Object(l.a)(this.features_,s.a.ADD,this.handleFeatureAdd_,this),Object(l.a)(this.features_,s.a.REMOVE,this.handleFeatureRemove_,this)):this.source_&&n.push(Object(l.a)(this.source_,h.a.ADDFEATURE,this.handleFeatureAdd_,this),Object(l.a)(this.source_,h.a.REMOVEFEATURE,this.handleFeatureRemove_,this)),a.forEach(this.forEachFeatureAdd_.bind(this)))},t.prototype.snapTo=function(e,t,n){var a=n.getCoordinateFromPixel([e[0]-this.pixelTolerance_,e[1]+this.pixelTolerance_]),i=n.getCoordinateFromPixel([e[0]+this.pixelTolerance_,e[1]-this.pixelTolerance_]),r=Object(_.b)([a,i]),s=this.rBush_.getInExtent(r);this.vertex_&&!this.edge_&&(s=s.filter(function(e){return e.feature.getGeometry().getType()!==c.a.CIRCLE}));var l=!1,p=!1,g=null,u=null,y,m,h,f,x;if(0<s.length){this.pixelCoordinate_=t,s.sort(this.sortByDistance_);var I=s[0].segment,E=s[0].feature.getGeometry().getType()===c.a.CIRCLE;this.vertex_&&!this.edge_?(m=n.getPixelFromCoordinate(I[0]),h=n.getPixelFromCoordinate(I[1]),f=Object(d.g)(e,m),x=Object(d.g)(e,h),y=N(C(f,x)),l=y<=this.pixelTolerance_,l&&(p=!0,g=f>x?I[1]:I[0],u=n.getPixelFromCoordinate(g))):this.edge_&&(g=E?Object(d.a)(t,s[0].feature.getGeometry()):Object(d.b)(t,I),u=n.getPixelFromCoordinate(g),Object(d.c)(e,u)<=this.pixelTolerance_&&(p=!0,this.vertex_&&!E&&(m=n.getPixelFromCoordinate(I[0]),h=n.getPixelFromCoordinate(I[1]),f=Object(d.g)(u,m),x=Object(d.g)(u,h),y=N(C(f,x)),l=y<=this.pixelTolerance_,l&&(g=f>x?I[1]:I[0],u=n.getPixelFromCoordinate(g))))),p&&(u=[o(u[0]),o(u[1])])}return{snapped:p,vertex:g,vertexPixel:u}},t.prototype.updateFeature_=function(e){this.removeFeature(e,!1),this.addFeature(e,!1)},t.prototype.writeCircleGeometry_=function(e,t){for(var o=Object(u.b)(t),n=o.getCoordinates()[0],a=0,i=n.length-1;a<i;++a){var r=n.slice(a,a+2);this.rBush_.insert(Object(_.b)(r),{feature:e,segment:r})}},t.prototype.writeGeometryCollectionGeometry_=function(e,t){for(var o=t.getGeometriesArray(),n=0,a;n<o.length;++n)a=this.SEGMENT_WRITERS_[o[n].getType()],a&&a.call(this,e,o[n])},t.prototype.writeLineStringGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,a=o.length-1;n<a;++n){var i=o.slice(n,n+2);this.rBush_.insert(Object(_.b)(i),{feature:e,segment:i})}},t.prototype.writeMultiLineStringGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,a=o.length,r;n<a;++n){r=o[n];for(var s=0,i=r.length-1;s<i;++s){var d=r.slice(s,s+2);this.rBush_.insert(Object(_.b)(d),{feature:e,segment:d})}}},t.prototype.writeMultiPointGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,a=o.length;n<a;++n){var i=o[n];this.rBush_.insert(t.getExtent(),{feature:e,segment:[i,i]})}},t.prototype.writeMultiPolygonGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,a=o.length,r;n<a;++n){r=o[n];for(var s=0,d=r.length,l;s<d;++s){l=r[s];for(var p=0,i=l.length-1;p<i;++p){var g=l.slice(p,p+2);this.rBush_.insert(Object(_.b)(g),{feature:e,segment:g})}}}},t.prototype.writePointGeometry_=function(e,t){var o=t.getCoordinates();this.rBush_.insert(t.getExtent(),{feature:e,segment:[o,o]})},t.prototype.writePolygonGeometry_=function(e,t){for(var o=t.getCoordinates(),n=0,a=o.length,r;n<a;++n){r=o[n];for(var s=0,i=r.length-1;s<i;++s){var d=r.slice(s,s+2);this.rBush_.insert(Object(_.b)(d),{feature:e,segment:d})}}},t}(y.b);t.a=I},function(e,t,o){'use strict';var n=o(69),a=o(26),i=o(11),r=o(18),s=o(13),d=o(15),l=o(20),p=o(125),_=this&&this.__extends||function(){var e=function(t,o){return e=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var o in t)t.hasOwnProperty(o)&&(e[o]=t[o])},e(t,o)};return function(t,o){function n(){this.constructor=t}e(t,o),t.prototype=null===o?Object.create(o):(n.prototype=o.prototype,new n)}}(),g={TRANSLATESTART:'translatestart',TRANSLATING:'translating',TRANSLATEEND:'translateend'},c=function(e){function t(t,o,n){var a=e.call(this,t)||this;return a.features=o,a.coordinate=n,a}return _(t,e),t}(r.a),u=function(e){function t(t){var o=this,n=t?t:{};o=e.call(this,n)||this,o.lastCoordinate_=null,o.features_=void 0===n.features?null:n.features;var r;if(!n.layers)r=s.b;else if('function'==typeof n.layers)r=n.layers;else{var l=n.layers;r=function(e){return Object(d.d)(l,e)}}return o.layerFilter_=r,o.filter_=n.filter?n.filter:s.b,o.hitTolerance_=n.hitTolerance?n.hitTolerance:0,o.lastFeature_=null,Object(i.a)(o,Object(a.b)(p.a.ACTIVE),o.handleActiveChanged_,o),o}return _(t,e),t.prototype.handleDownEvent=function(e){if(this.lastFeature_=this.featuresAtPixel_(e.pixel,e.map),!this.lastCoordinate_&&this.lastFeature_){this.lastCoordinate_=e.coordinate,this.handleMoveEvent(e);var t=this.features_||new n.a([this.lastFeature_]);return this.dispatchEvent(new c(g.TRANSLATESTART,t,e.coordinate)),!0}return!1},t.prototype.handleUpEvent=function(e){if(this.lastCoordinate_){this.lastCoordinate_=null,this.handleMoveEvent(e);var t=this.features_||new n.a([this.lastFeature_]);return this.dispatchEvent(new c(g.TRANSLATEEND,t,e.coordinate)),!0}return!1},t.prototype.handleDragEvent=function(e){if(this.lastCoordinate_){var t=e.coordinate,o=t[0]-this.lastCoordinate_[0],a=t[1]-this.lastCoordinate_[1],i=this.features_||new n.a([this.lastFeature_]);i.forEach(function(e){var t=e.getGeometry();t.translate(o,a),e.setGeometry(t)}),this.lastCoordinate_=t,this.dispatchEvent(new c(g.TRANSLATING,i,t))}},t.prototype.handleMoveEvent=function(e){var t=e.map.getViewport();this.featuresAtPixel_(e.pixel,e.map)?(t.classList.remove(this.lastCoordinate_?'ol-grab':'ol-grabbing'),t.classList.add(this.lastCoordinate_?'ol-grabbing':'ol-grab')):t.classList.remove('ol-grab','ol-grabbing')},t.prototype.featuresAtPixel_=function(e,t){return t.forEachFeatureAtPixel(e,function(e,t){if(this.filter_(e,t)&&(!this.features_||Object(d.d)(this.features_.getArray(),e)))return e}.bind(this),{layerFilter:this.layerFilter_,hitTolerance:this.hitTolerance_})},t.prototype.getHitTolerance=function(){return this.hitTolerance_},t.prototype.setHitTolerance=function(e){this.hitTolerance_=e},t.prototype.setMap=function(t){var o=this.getMap();e.prototype.setMap.call(this,t),this.updateState_(o)},t.prototype.handleActiveChanged_=function(){this.updateState_(null)},t.prototype.updateState_=function(e){var t=this.getMap(),o=this.getActive();if((!t||!o)&&(t=t||e,t)){var n=t.getViewport();n.classList.remove('ol-grab','ol-grabbing')}},t}(l.b)},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTI3IDEyNyIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpzZXJpZj0iaHR0cDovL3d3dy5zZXJpZi5jb20vIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCI+PGcgc2VyaWY6aWQ9IkxheWVyIDEiIGZpbGw9Im5vbmUiPjxwYXRoIGQ9Ik0yMi4yMDQgMTE3LjI5M2w5NC45MjUtOTUuMDc1LjA3NCA5NS05NC45OTkuMDc1eiIgc3Ryb2tlPSIjMDAwIiBzdHJva2Utd2lkdGg9IjE4LjQiLz48cGF0aCBkPSJNNjEuNzQ5IDU2LjE4NGwxMC42MDcgMTAuNjA3bTMuNTM1LTI0Ljc0OWw3LjA3MSA3LjA3MU00Ny42MDcgNzAuMzI2bDcuMDcxIDcuMDcxbS0yMS4yMTMgNy4wNzFsNy4wNzEgNy4wNzFNOTAuMDMzIDI3LjlsNy4wNzEgNy4wNzFtNy4wNzEtMjEuMjEzbDcuMDcxIDcuMDcxTTE5LjMyMyA5OC42MWw3LjA3MSA3LjA3MiIgc3Ryb2tlPSIjZmZmIiBzdHJva2Utd2lkdGg9IjcuMiIgc3Ryb2tlLWxpbmVjYXA9InNxdWFyZSIvPjwvZz48L3N2Zz4='},function(e,o,n){'use strict';function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function i(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=n(113),d=n(44),l=n(57),p=n(41),_=n(20),g=n(40),c=n(282),u=n.n(c),y=n(283),m=n.n(y),h=Object.assign||function(e){for(var t=1,o;t<arguments.length;t++)for(var n in o=arguments[t],o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);return e},f=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),x=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(n)},I=function(e){function o(e){a(this,o);var t=i(this,(o.__proto__||Object.getPrototypeOf(o)).call(this,h({title:'Rotate',className:'icon-rotate',image:u.a},e)));return t.pointerInteraction=new _.b({handleDownEvent:t.onDown.bind(t),handleDragEvent:t.onDrag.bind(t),handleUpEvent:t.onUp.bind(t)}),t.rotateAttribute=e.rotateAttribute||'ole_rotation',t.rotateLayer=new l.a({source:new p.a,style:e.style||function(e){var o=e.get(t.rotateAttribute);return[new s.f({geometry:new d.a(t.center),image:new s.c({rotation:o,src:m.a})})]}}),t}return r(o,e),f(o,[{key:'onDown',value:function(e){var o=this;return this.dragging=!1,this.feature=this.map.forEachFeatureAtPixel(e.pixel,function(e){return-1<o.source.getFeatures().indexOf(e)?e:null}),this.center&&this.feature&&(this.feature.set(this.rotateAttribute,this.feature.get(this.rotateAttribute)||0),this.initialRotation=t(e.coordinate[1]-this.center[1],e.coordinate[0]-this.center[0])+this.feature.get(this.rotateAttribute)),!!this.feature}},{key:'onDrag',value:function(e){if(this.dragging=!0,this.feature&&this.center){var o=t(e.coordinate[1]-this.center[1],e.coordinate[0]-this.center[0]),n=this.initialRotation-o,a=n-this.feature.get(this.rotateAttribute);this.feature.getGeometry().rotate(-a,this.center),this.rotateFeature.getGeometry().rotate(-a,this.center),this.feature.set(this.rotateAttribute,n),this.rotateFeature.set(this.rotateAttribute,n)}}},{key:'onUp',value:function(e){this.dragging||(this.feature?(this.rotateFeature=this.feature,this.center=e.coordinate,this.rotateLayer.getSource().clear(),this.rotateLayer.getSource().addFeature(this.rotateFeature)):this.rotateLayer.getSource().clear())}},{key:'activate',value:function(){this.map.addInteraction(this.pointerInteraction),this.rotateLayer.setMap(this.map),x(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),'activate',this).call(this)}},{key:'deactivate',value:function(e){this.rotateLayer.getSource().clear(),this.rotateLayer.setMap(null),this.map.removeInteraction(this.pointerInteraction),x(o.prototype.__proto__||Object.getPrototypeOf(o.prototype),'deactivate',this).call(this,e)}}]),o}(g.a);o.a=I},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB2aWV3Qm94PSIwIDAgMTE0IDExNCIgeG1sbnM9Imh0dHA6Ly93d3cudzMub3JnLzIwMDAvc3ZnIiB4bWxuczpzZXJpZj0iaHR0cDovL3d3dy5zZXJpZi5jb20vIiBmaWxsLXJ1bGU9ImV2ZW5vZGQiIGNsaXAtcnVsZT0iZXZlbm9kZCIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48ZyBzZXJpZjppZD0iTGF5ZXIgMSIgc3Ryb2tlPSIjMDAwIj48cGF0aCBkPSJNMTA3LjcwOSA2My4wNDNhNTAuOTEzIDUwLjkxMyAwIDAgMS0xNS44OTQgMzEuMjk4Yy0yMC42NDggMTkuMjUzLTUyLjk5NCAxOC4xMjItNzIuMjQ4LTIuNTI2Qy4zMTQgNzEuMTY3IDEuNDQ1IDM4LjgyMSAyMi4wOTMgMTkuNTY3IDQyLjc0MS4zMTQgNzUuMDg4IDEuNDQ1IDk0LjM0MSAyMi4wOTMiIGZpbGw9Im5vbmUiIHN0cm9rZS13aWR0aD0iMTEuNzQiLz48cGF0aCBkPSJNMTAzLjM4OCAxNS45M0w4Ni43NDkgMjguNzA4bDE2LjMwNSA0LjAxMS4zMzQtMTYuNzg5eiIgZmlsbC1ydWxlPSJub256ZXJvIiBzdHJva2Utd2lkdGg9IjQuMTIiIHN0cm9rZS1saW5lY2FwPSJidXR0IiBzdHJva2UtbGluZWpvaW49Im1pdGVyIi8+PHBhdGggZD0iTTU2Ljc3MyA0MS4yMnYxNS43MzRoMTUuNzM0TTU2Ljc3MyA3Mi42ODhWNTYuOTU0SDQxLjAzOCIgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIzLjIiLz48L2c+PC9zdmc+'},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSIxMTAuMDA1IiBoZWlnaHQ9IjExMC4wMDEiPjxwYXRoIG9wYWNpdHk9Ii4wMSIgZmlsbD0iaXZvcnkiIGQ9Ik0wIDBoMTEwdjExMEgweiIvPjxwYXRoIGQ9Ik0xMDcuMzc4IDYyLjM2NWE1MC45MTQgNTAuOTE0IDAgMCAxLTE1Ljg5NSAzMS4yOThjLTIwLjY0OCAxOS4yNTMtNTIuOTk0IDE4LjEyMi03Mi4yNDctMi41MjZDLS4wMTggNzAuNDkgMS4xMTMgMzguMTQzIDIxLjc2IDE4Ljg5IDQyLjQxLS4zNjQgNzQuNzU2Ljc2NyA5NC4wMSAyMS40MTUiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSI1LjI0NSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PHBhdGggZD0iTTEwMy4wNTYgMTUuMjUzTDg2LjQxNyAyOC4wM2wxNi4zMDYgNC4wMXoiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIuNTI0Ii8+PHBhdGggZD0iTTU2LjQ0IDQwLjU0MnYxNS43MzRoMTUuNzM1TTU2LjQ0IDcyLjAxVjU2LjI3N0g0MC43MDciIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIzLjE5OSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIi8+PC9zdmc+'},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=o(123),s=o(40),d=o(285),l=o.n(d),p=o(286),_=o.n(p),g=o(287),c=o.n(g),u=Object.assign||function(e){for(var t=1,o;t<arguments.length;t++)for(var n in o=arguments[t],o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);return e},y=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),m=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(n)},h=function(e){function t(e){n(this,t);var o=null;switch(e.type){case'Polygon':o=_.a;break;case'LineString':o=c.a;break;default:o=l.a;}var i=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u({title:'Draw '+(e.type||'Point'),className:'ole-control-draw',image:o},e)));return i.drawInteraction=new r.a({type:e.type||'Point',features:e.features,source:e.source,style:e.style,stopClick:!0}),i}return i(t,e),y(t,[{key:'activate',value:function(){this.map.addInteraction(this.drawInteraction),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'activate',this).call(this)}},{key:'deactivate',value:function(e){this.map.removeInteraction(this.drawInteraction),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'deactivate',this).call(this,e)}}]),t}(s.a);t.a=h},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NTQuNjgxIiBoZWlnaHQ9IjEyMG1tIiB2aWV3Qm94PSIwIDAgNDI2LjI2NCA0MjUuMTk3Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTYzLjczNiAtMzU3LjI3NikiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PHBhdGggZD0iTTUzMCA2NTcuMzYydjEyMG0tNjAtNjBoMTIwIiBzdHJva2Utd2lkdGg9IjMwIi8+PGNpcmNsZSBjeD0iMzExLjcyNCIgY3k9IjU0MC41NDEiIHI9Ijk2LjY4NyIgc3Ryb2tlLXdpZHRoPSIyOC41MSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIi8+PC9nPjwvc3ZnPg=='},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NTQuNjgxIiBoZWlnaHQ9IjEyMG1tIiB2aWV3Qm94PSIwIDAgNDI2LjI2NCA0MjUuMTk3Ij48ZyBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS1saW5lam9pbj0icm91bmQiPjxwYXRoIGQ9Ik0zNjYuMjY0IDMwMC4wODd2MTIwIiBzdHJva2Utd2lkdGg9IjMwIi8+PHBhdGggZD0iTTE3Ni4yNjQgNDE1LjA4N0wzNDQuNTQ4IDIxMC42NCAyNzAuODEyIDEyLjQ1NyA3MC41NDkgNzYuNTE1IDEwIDIzNy43MTZsMTY2LjI2NSAxNzcuMzciIHN0cm9rZS13aWR0aD0iMjAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIvPjxwYXRoIGQ9Ik0zMDYuMjY0IDM2MC4wODdoMTIwIiBzdHJva2Utd2lkdGg9IjMwIi8+PC9nPjwvc3ZnPg=='},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NTQuNjgxIiBoZWlnaHQ9IjEyMG1tIiB2aWV3Qm94PSIwIDAgNDI2LjI2NCA0MjUuMTk3Ij48ZyB0cmFuc2Zvcm09InRyYW5zbGF0ZSgtMTYzLjczNiAtMzU3LjI3NikiPjxwYXRoIGQ9Ik01MzAgNjU3LjM2MnYxMjAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIzMCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Ik0xODkuNDkyIDc1My4xMjdsNTIuMTEyLTEyMC41NjIgMTk3Ljk5NS0zMy41MjggMTE2LjkyNS0yMTcuNzc0IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMjAiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxwYXRoIGQ9Ik00NzAgNzE3LjM2MmgxMjAiIGZpbGw9Im5vbmUiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIzMCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCIvPjxjaXJjbGUgY3g9IjE5MCIgY3k9Ijc1Mi4zNjIiIHI9IjI1Ii8+PGNpcmNsZSBjeD0iNTU1IiBjeT0iMzgyLjM2MiIgcj0iMjUiLz48L2c+PC9zdmc+'},function(e,t,o){'use strict';function n(e){if(Array.isArray(e)){for(var t=0,o=Array(e.length);t<e.length;t++)o[t]=e[t];return o}return Array.from(e)}function a(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function i(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function r(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var s=o(108),d=o(2),l=o(113),p=o(153),_=o(54),g=o(123),c=o(19),u=o(40),y=o(289),m=o.n(y),h=Object.assign||function(e){for(var t=1,o;t<arguments.length;t++)for(var n in o=arguments[t],o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);return e},f=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),x=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(n)},I=function(e,t){if(!e)return[];var o=e;return'function'==typeof e&&(t?o=e(t):o=e()),Array.isArray(o)?o:[o]},E=new l.f({image:new l.a({radius:5,fill:new l.b({color:'#05A0FF'}),stroke:new l.e({color:'#05A0FF',width:2})}),stroke:new l.e({color:'#05A0FF',width:3}),fill:new l.b({color:'rgba(255,255,255,0.4)'}),geometry:function(e){var t=[];return'Polygon'===e.getGeometry().getType()?e.getGeometry().getCoordinates()[0].forEach(function(e){t.push(e)}):'LineString'===e.getGeometry().getType()?t=e.getGeometry().getCoordinates():t=[e.getGeometry().getCoordinates()],new p.a([e.getGeometry(),new _.c(t)])}}),C=function(e){function t(e){a(this,t);var o=i(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,h({title:'Modify geometry',className:'ole-control-modify',image:m.a},e))),r='oldStyles',d='selectMoveOnChangeKey',l='selectModifyOnChangeKey';o.coordinate=null,o.previousCursor=null,o.hitTolerance=e.hitTolerance||5,o.selectMoveStyle=e.selectMoveStyle,o.selectModifyStyle=e.selectModifyStyle||E,o.modifyStyle=e.modifyStyle,o.deleteFeature=o.deleteFeature.bind(o),o.cursorHandler=o.cursorHandler.bind(o),o.cursorTimeout=null,o.deleteCondition=e.deleteCondition||function(e){return 46===e.keyCode||8===e.keyCode},o.selectFilter=function(e,t){return!o.layerFilter||o.layerFilter(t)},o.getFeatureAtPixel=function(e){var t=(o.map.getFeaturesAtPixel(e,{hitTolerance:o.hitTolerance,layerFilter:o.layerFilter})||[])[0];return t},o.isHoverVertexFeatureAtPixel=function(e){var t=!1;return o.map.forEachFeatureAtPixel(e,function(e,o){return!o&&(t=!0,!0)},{hitTolerance:o.hitTolerance}),t},o.applySelectStyle=function(e,t){var o=I(e.getStyleFunction()),a=I(t,e),i=[].concat(n(o),n(a));e.set(r,o),e.setStyle(i)},o.onSelectFeature=function(e,t,n){if(e.getStyleFunction()){o.applySelectStyle(e,t);var a=e.get(n);a&&(Object(s.b)(a),e.unset(a)),e.set(n,e.on('change',function(n){o.onSelectedFeatureChange(n.target,t)}))}},o.onDeselectFeature=function(e,t,o){if(e.getStyleFunction()){var n=e.get(o);n&&(Object(s.b)(n),e.unset(n)),e.unset(r);var a=I(e.getStyleFunction(),null),i=I(t,e),d=a.slice(0,a.indexOf(i[0]));e.setStyle(d)}},o.onSelectedFeatureChange=function(e,t){var n=I(e.getStyleFunction()),a=e.get(r);if(a){var i=a.some(function(e,t){return e!==n[t]});i&&o.applySelectStyle(e,t)}},o.selectMove=new g.d({condition:e.moveCondition||c.m,toggleCondition:function(t){return Object(c.d)(t)},filter:function(e,t){return!o.isSelectedByModify(e)&&o.selectFilter(e,t)},style:o.selectMoveStyle,hitTolerance:o.hitTolerance,wrapX:!1});var p;o.selectMove.getFeatures().on('add',function(e){o.selectModify.getFeatures().clear(),document.addEventListener('keydown',o.deleteFeature),o.map.addInteraction(o.moveInteraction),p=o.map.on('singleclick',function(t){o.unselectInteraction(t,o.selectMove)}),o.selectMoveStyle&&o.onSelectFeature(e.element,o.selectMoveStyle,d)}),o.selectMove.getFeatures().on('remove',function(e){document.removeEventListener('keydown',o.deleteFeature),o.map.removeInteraction(o.moveInteraction),Object(s.b)(p),o.selectMoveStyle&&o.onDeselectFeature(e.element,o.selectMoveStyle,d)}),o.selectModify=new g.d({condition:e.modifyCondition||c.d,toggleCondition:c.l,filter:o.selectFilter,style:o.selectModifyStyle,hitTolerance:o.hitTolerance,wrapX:!1});var _;return o.selectModify.getFeatures().on('add',function(e){o.selectMove.getFeatures().clear(),document.addEventListener('keydown',o.deleteFeature),o.map.addInteraction(o.modifyInteraction),_=o.map.on('singleclick',function(t){o.unselectInteraction(t,o.selectModify)}),o.selectModifyStyle&&o.onSelectFeature(e.element,o.selectModifyStyle,l)}),o.selectModify.getFeatures().on('remove',function(e){document.removeEventListener('keydown',o.deleteFeature),o.map.removeInteraction(o.modifyInteraction),Object(s.b)(_),o.selectModifyStyle&&o.onDeselectFeature(e.element,o.selectModifyStyle,l)}),o.modifyInteraction=new g.b({features:o.selectModify.getFeatures(),style:o.modifyStyle}),o.modifyInteraction.on('modifystart',function(e){o.editor.setEditFeature(e.features.item(0)),o.isModifying=!0}),o.modifyInteraction.on('modifyend',function(){o.editor.setEditFeature(null),o.isModifying=!1}),o.moveInteraction=new g.c({handleDownEvent:o.startMoveFeature.bind(o),handleDragEvent:o.moveFeature.bind(o),handleUpEvent:o.stopMoveFeature.bind(o)}),o}return r(t,e),f(t,[{key:'deleteFeature',value:function(e){var t=this;if(!/textarea|input/i.test(e.target.nodeName)&&this.deleteCondition(e)){var o;0<this.selectMove.getFeatures().getArray().length?o=this.selectMove.getFeatures():0<this.selectModify.getFeatures().getArray().length&&(o=this.selectModify.getFeatures()),o&&(o.getArray().forEach(function(e,n){t.source.removeFeature(o.getArray()[n])}),this.changeCursor(null),o.clear(),e.stopPropagation(),e.preventDefault())}}},{key:'isSelectedByMove',value:function(e){return-1!==this.selectMove.getFeatures().getArray().indexOf(e)}},{key:'isSelectedByModify',value:function(e){return-1!==this.selectModify.getFeatures().getArray().indexOf(e)}},{key:'startMoveFeature',value:function(e){if(this.featureToMove=this.getFeatureAtPixel(e.pixel),this.featureToMove&&this.isSelectedByMove(this.featureToMove)){if(this.featureToMove.getGeometry()instanceof _.e){var t=this.featureToMove.getGeometry().getExtent();this.coordinate=Object(d.w)(t)}else this.coordinate=e.coordinate;return this.editor.setEditFeature(this.featureToMove),this.isMoving=!0,!0}return!1}},{key:'moveFeature',value:function(e){var t=e.coordinate[0]-this.coordinate[0],o=e.coordinate[1]-this.coordinate[1];this.featureToMove.getGeometry().translate(t,o),this.coordinate=e.coordinate}},{key:'stopMoveFeature',value:function(){return this.coordinate=null,this.editor.setEditFeature(null),this.isMoving=!1,this.featureToMove=null,!1}},{key:'cursorHandler',value:function(e){var t=this;this.cursorTimeout&&clearTimeout(this.cursorTimeout),this.cursorTimeout=setTimeout(function(){if(e.dragging||t.isMoving||t.isModifying)return void t.changeCursor('grabbing');var o=t.getFeatureAtPixel(e.pixel);return o?void(t.isSelectedByMove(o)?t.changeCursor('grab'):t.isSelectedByModify(o)?t.isHoverVertexFeatureAtPixel(e.pixel)?t.changeCursor('grab'):t.changeCursor(t.previousCursor):t.changeCursor('pointer')):(t.changeCursor(t.previousCursor),void(t.previousCursor=null))},50)}},{key:'unselectInteraction',value:function(e,t){this.map.hasFeatureAtPixel(e.pixel)||t.getFeatures().clear()}},{key:'changeCursor',value:function(e){var t=this.map.getTargetElement();(t.style.cursor||e)&&t.style.cursor!==e&&(null===this.previousCursor&&(this.previousCursor=t.style.cursor),t.style.cursor=e)}},{key:'activate',value:function(){clearTimeout(this.cursorTimeout),this.map.on('pointermove',this.cursorHandler),this.map.addInteraction(this.selectMove),this.map.addInteraction(this.selectModify),x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'activate',this).call(this)}},{key:'deactivate',value:function(e){clearTimeout(this.cursorTimeout),this.map.un('pointermove',this.cursorHandler),this.selectMove.getFeatures().clear(),this.selectModify.getFeatures().clear(),this.map.removeInteraction(this.selectMove),this.map.removeInteraction(this.selectModify),x(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'deactivate',this).call(this,e)}}]),t}(u.a);t.a=C},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI1NzIuNTM4IiBoZWlnaHQ9IjU1Ni4wOTQiIHZpZXdCb3g9IjAgMCAyNiAyNiI+CiAgPGcgZmlsbD0ibm9uZSIgc3Ryb2tlLXdpZHRoPSIxIj48cGF0aCBmaWxsPSIjMDAwMDAwIiBkPSJNNywyLjAxNGwxMy4xNjIsMTIuMzI4bC01LjM3NywwLjQ4OGwtMC45NzcsMC4wODhsMC40MDYsMC44OTRsMy4yNjMsNy4xNDVsLTIuNDA2LDEuMDU4bC0zLjExMy03LjIyMiAgIGwtMC4zOTEtMC45MWwtMC43MjIsMC42NzhsLTMuODE5LDMuNTgyTDcsMi4wMTQgTTcsMC4wMTRjLTAuMjcsMC0wLjU0LDAuMDU0LTAuNzk3LDAuMTY2QzUuNDcyLDAuNDk3LDQuOTk5LDEuMjE5LDUsMi4wMTcgICBsMC4wMjYsMTguMTI3YzAuMDAxLDAuNzk3LDAuNDc2LDEuNTE4LDEuMjA2LDEuODM0YzAuMjU2LDAuMTA5LDAuNTI1LDAuMTY0LDAuNzkzLDAuMTY0YzAuNSwwLDAuOTkxLTAuMTg4LDEuMzY5LTAuNTQxICAgbDIuNDYzLTIuMzExbDIuMzc3LDUuNTE2YzAuMjExLDAuNDg5LDAuNjEsMC44NzQsMS4xMDQsMS4wNjljMC4yMzUsMC4wOTMsMC40ODQsMC4xMzksMC43MzIsMC4xMzkgICBjMC4yNzQsMCwwLjU0OS0wLjA1NywwLjgwNi0wLjE2OWwyLjQwNi0xLjA1OWMwLjQ4OS0wLjIxNSwwLjg3My0wLjYxOCwxLjA2My0xLjExOGMwLjE5LTAuNTAxLDAuMTczLTEuMDU2LTAuMDUtMS41NDNsLTIuNDk4LTUuNDcgICBsMy41NDQtMC4zMjJjMC43ODUtMC4wNywxLjQ1NC0wLjU5NiwxLjcxMS0xLjM0MmMwLjI1Ni0wLjc0NCwwLjA1MS0xLjU3LTAuNTI0LTIuMTA5TDguMzY3LDAuNTU0QzcuOTg5LDAuMiw3LjQ5OCwwLjAxNCw3LDAuMDE0ICAgTDcsMC4wMTR6Ii8+PC9nPjwvc3ZnPgo='},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=o(93),s=o(307),d=o(74),l=o(54),p=o(126),_=o(40),g=o(207),c=o.n(g),u=Object.assign||function(e){for(var t=1,o;t<arguments.length;t++)for(var n in o=arguments[t],o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);return e},y=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),m=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(n)},h=function(e){function t(e){n(this,t);var o=a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,u({title:'Buffer geometry',className:'ole-control-buffer',image:c.a,buffer:50},e)));return o.selectInteraction=new p.a({layers:o.layerFilter,hitTolerance:e.hitTolerance||10,multi:'undefined'==typeof e.multi||e.multi,style:e.style}),o}return i(t,e),y(t,[{key:'getDialogTemplate',value:function(){return'\n      <label>Buffer width: &nbsp;\n        <input type="text" id="buffer-width"\n          value="'+this.properties.buffer+'"\n        />\n      </label>\n      <input type="button" value="OK" id="buffer-btn" />\n    '}},{key:'buffer',value:function(e){var t=new r.a;t.inject(l.e,l.a,d.a,l.f,l.c,l.b,l.d);for(var o=this.selectInteraction.getFeatures().getArray(),n=0;n<o.length;n+=1){var a=t.read(o[n].getGeometry()),i=new s.a(a),p=i.getResultGeometry(e);o[n].setGeometry(t.write(p))}}},{key:'activate',value:function(){var o=this;this.map.addInteraction(this.selectInteraction),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'activate',this).call(this),document.getElementById('buffer-width').addEventListener('change',function(t){o.setProperties({buffer:t.target.value})}),document.getElementById('buffer-btn').addEventListener('click',function(){var e=document.getElementById('buffer-width'),t=parseInt(e.value,10);t&&o.buffer(t)})}},{key:'deactivate',value:function(){this.map.removeInteraction(this.selectInteraction),m(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'deactivate',this).call(this)}}]),t}(_.a);t.a=h},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}static equalsWithTolerance(e,t,o){return l(e-t)<=o}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t,o){'use strict';var n=o(61);class a extends n.a{constructor(){super(),a.constructor_.apply(this,arguments)}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){if(0===arguments.length)n.a.constructor_.call(this);else if(1===arguments.length){const e=arguments[0];n.a.constructor_.call(this,e)}}},function(e,t,o){'use strict';function n(){}t.a=n;var a=o(180);n.prototype=new a.a},function(e,t,o){'use strict';function n(){}t.a=n;var a=o(182);n.prototype=new a.a},function(e,t,o){'use strict';var a=o(1);class n{constructor(){n.constructor_.apply(this,arguments)}static ofLine(e){const t=e.size();if(1>=t)return 0;let o=0;const n=new a.a;e.getCoordinate(0,n);let r=n.x,s=n.y;for(let a=1;a<t;a++){e.getCoordinate(a,n);const t=n.x,i=n.y,d=t-r,l=i-s;o+=N(d*d+l*l),r=t,s=i}return o}getClass(){return n}get interfaces_(){return[]}}t.a=n,n.constructor_=function(){}},function(e,t,o){'use strict';var n=o(297),a=o(298),i=o(299),r=o(28),d=o(0),s=o(300),l=o(4),p=o(301),_=o(302);class g{constructor(){g.constructor_.apply(this,arguments)}static chars(e,t){const o=Array(t).fill(null);for(let n=0;n<t;n++)o[n]=e;return new String(o)}static getStackTrace(){if(1===arguments.length){const e=arguments[0],t=new s.a,o=new n.a(t);return e.printStackTrace(o),t.toString()}if(2===arguments.length){const e=arguments[0],t=arguments[1];let o='';const n=new a.a(g.getStackTrace(e)),i=new _.a(n);for(let e=0;e<t;e++)try{o+=i.readLine()+g.NEWLINE}catch(t){if(t instanceof p.a)l.a.shouldNeverReachHere();else throw t}finally{}return o}}static split(e,t){const o=t.length,n=new d.a;let a=''+e,i=a.indexOf(t);for(;0<=i;){const e=a.substring(0,i);n.add(e),a=a.substring(i+o),i=a.indexOf(t)}0<a.length&&n.add(a);const r=Array(n.size()).fill(null);for(let o=0;o<r.length;o++)r[o]=n.get(o);return r}static toString(){if(1===arguments.length&&'number'==typeof arguments[0]){const e=arguments[0];return g.SIMPLE_ORDINATE_FORMAT.format(e)}}static spaces(e){return g.chars(' ',e)}getClass(){return g}get interfaces_(){return[]}}t.a=g,g.constructor_=function(){},g.NEWLINE=r.a.getProperty('line.separator'),g.SIMPLE_ORDINATE_FORMAT=new i.a('0.#')},function(e,t){'use strict';t.a=function(){}},function(e,t){'use strict';t.a=function(){}},function(e,t){'use strict';t.a=function(){}},function(e,t){'use strict';t.a=function(){}},function(e,t){'use strict';t.a=function(){}},function(e,t){'use strict';t.a=function(){}},function(e,t,o){'use strict';var n=o(3),a=o(1),i=o(31);class r{constructor(){r.constructor_.apply(this,arguments)}static ofRing(){if(arguments[0]instanceof Array){const e=arguments[0];return l(r.ofRingSigned(e))}if(Object(n.a)(arguments[0],i.a)){const e=arguments[0];return l(r.ofRingSigned(e))}}static ofRingSigned(){if(arguments[0]instanceof Array){const e=arguments[0];if(3>e.length)return 0;let t=0;const o=e[0].x;for(let n=1;n<e.length-1;n++){const a=e[n].x-o,i=e[n+1].y,r=e[n-1].y;t+=a*(r-i)}return t/2}if(Object(n.a)(arguments[0],i.a)){const e=arguments[0],t=e.size();if(3>t)return 0;const o=new a.a,n=new a.a,r=new a.a;e.getCoordinate(0,n),e.getCoordinate(1,r);const s=n.x;r.x-=s;let d=0;for(let a=1;a<t-1;a++)o.y=n.y,n.x=r.x,n.y=r.y,e.getCoordinate(a+1,r),r.x-=s,d+=n.x*(o.y-r.y);return d/2}}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){}},function(e,t,o){'use strict';var n=o(99),a=o(21),i=o(81),r=o(185),s=o(16),p=o(76),c=o(22);class m{constructor(){m.constructor_.apply(this,arguments)}static sqr(e){return m.valueOf(e).selfMultiply(e)}static valueOf(){if('string'==typeof arguments[0]){const e=arguments[0];return m.parse(e)}if('number'==typeof arguments[0]){const e=arguments[0];return new m(e)}}static sqrt(e){return m.valueOf(e).sqrt()}static parse(e){let t=0;const o=e.length;for(;r.a.isWhitespace(e.charAt(t));)t++;let n=!1;if(t<o){const o=e.charAt(t);('-'===o||'+'===o)&&(t++,'-'===o&&(n=!0))}const a=new m;let s=0,d=0,l=0;for(;!(t>=o);){const o=e.charAt(t);if(t++,r.a.isDigit(o)){a.selfMultiply(m.TEN),a.selfAdd(o-'0'),s++;continue}if('.'===o){d=s;continue}if('e'===o||'E'===o){const o=e.substring(t);try{l=i.a.parseInt(o)}catch(t){if(t instanceof NumberFormatException)throw new NumberFormatException('Invalid exponent '+o+' in string '+e);else throw t}finally{}break}throw new NumberFormatException('Unexpected character \''+o+'\' at position '+t+' in string '+e)}let p=a;const _=s-d-l;if(0==_)p=a;else if(0<_){const e=m.TEN.pow(_);p=a.divide(e)}else if(0>_){const e=m.TEN.pow(-_);p=a.multiply(e)}return n?p.negate():p}static createNaN(){return new m(a.a.NaN,a.a.NaN)}static copy(e){return new m(e)}static magnitude(e){const t=l(e),o=_(t)/2.302585092994046;let n=u(d(o));const a=I(10,n);return 10*a<=t&&(n+=1),n}static stringOfChar(e,t){const o=new n.a;for(let n=0;n<t;n++)o.append(e);return o.toString()}le(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<=e._lo}extractSignificantDigits(e,t){let o=this.abs(),a=m.magnitude(o._hi);const i=m.TEN.pow(a);o=o.divide(i),o.gt(m.TEN)?(o=o.divide(m.TEN),a+=1):o.lt(m.ONE)&&(o=o.multiply(m.TEN),a-=1);const r=a+1,s=new n.a,d=m.MAX_PRINT_DIGITS-1;for(let n=0;n<=d;n++){e&&n===r&&s.append('.');const t=u(o._hi);if(0>t||9<t,0>t)break;let a=!1,i=0;9<t?(a=!0,i='9'):i='0'+t,s.append(i),o=o.subtract(m.valueOf(t)).multiply(m.TEN),a&&o.selfAdd(m.TEN);let p=!0;const _=m.magnitude(o._hi);if(0>_&&l(_)>=d-n&&(p=!1),!p)break}return t[0]=a,s.toString()}sqr(){return this.multiply(this)}doubleValue(){return this._hi+this._lo}subtract(){if(arguments[0]instanceof m){const e=arguments[0];return this.add(e.negate())}if('number'==typeof arguments[0]){const e=arguments[0];return this.add(-e)}}equals(){if(1===arguments.length&&arguments[0]instanceof m){const e=arguments[0];return this._hi===e._hi&&this._lo===e._lo}}isZero(){return 0===this._hi&&0===this._lo}selfSubtract(){if(arguments[0]instanceof m){const e=arguments[0];return this.isNaN()?this:this.selfAdd(-e._hi,-e._lo)}if('number'==typeof arguments[0]){const e=arguments[0];return this.isNaN()?this:this.selfAdd(-e,0)}}getSpecialNumberString(){return this.isZero()?'0.0':this.isNaN()?'NaN ':null}min(e){return this.le(e)?this:e}selfDivide(){if(1===arguments.length){if(arguments[0]instanceof m){const e=arguments[0];return this.selfDivide(e._hi,e._lo)}if('number'==typeof arguments[0]){const e=arguments[0];return this.selfDivide(e,0)}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];let o=null,n=null,a=null,i=null,r=null,s=null,d=null,l=null;return r=this._hi/e,s=m.SPLIT*r,o=s-r,l=m.SPLIT*e,o=s-o,n=r-o,a=l-e,d=r*e,a=l-a,i=e-a,l=o*a-d+o*i+n*a+n*i,s=(this._hi-d-l+this._lo-r*t)/e,l=r+s,this._hi=l,this._lo=r-l+s,this}}dump(){return'DD<'+this._hi+', '+this._lo+'>'}divide(){if(arguments[0]instanceof m){const e=arguments[0];let t=null,o=null,n=null,a=null,i=null,r=null,s=null,d=null;i=this._hi/e._hi,r=m.SPLIT*i,t=r-i,d=m.SPLIT*e._hi,t=r-t,o=i-t,n=d-e._hi,s=i*e._hi,n=d-n,a=e._hi-n,d=t*n-s+t*a+o*n+o*a,r=(this._hi-s-d+this._lo-i*e._lo)/e._hi,d=i+r;const l=d,p=i-d+r;return new m(l,p)}if('number'==typeof arguments[0]){const e=arguments[0];return a.a.isNaN(e)?m.createNaN():m.copy(this).selfDivide(e,0)}}ge(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>=e._lo}pow(e){if(0===e)return m.valueOf(1);let t=new m(this),o=m.valueOf(1),a=l(e);if(1<a)for(;0<a;)1==a%2&&o.selfMultiply(t),a/=2,0<a&&(t=t.sqr());else o=t;return 0>e?o.reciprocal():o}ceil(){if(this.isNaN())return m.NaN;const e=g(this._hi);let t=0;return e===this._hi&&(t=g(this._lo)),new m(e,t)}compareTo(e){const t=e;return this._hi<t._hi?-1:this._hi>t._hi?1:this._lo<t._lo?-1:this._lo>t._lo?1:0}rint(){if(this.isNaN())return this;const e=this.add(0.5);return e.floor()}setValue(){if(arguments[0]instanceof m){const e=arguments[0];return this.init(e),this}if('number'==typeof arguments[0]){const e=arguments[0];return this.init(e),this}}max(e){return this.ge(e)?this:e}sqrt(){if(this.isZero())return m.valueOf(0);if(this.isNegative())return m.NaN;const e=1/N(this._hi),t=this._hi*e,o=m.valueOf(t),n=this.subtract(o.sqr()),a=n._hi*(0.5*e);return o.add(a)}selfAdd(){if(1===arguments.length){if(arguments[0]instanceof m){const e=arguments[0];return this.selfAdd(e._hi,e._lo)}if('number'==typeof arguments[0]){const t=arguments[0];let o=null,n=null,a=null,i=null,r=null,e=null;return a=this._hi+t,r=a-this._hi,i=a-r,i=t-r+(this._hi-i),e=i+this._lo,o=a+e,n=e+(a-o),this._hi=o+n,this._lo=n+(o-this._hi),this}}else if(2===arguments.length){const o=arguments[0],n=arguments[1];let a=null,i=null,r=null,d=null,t=null,l=null,s=null,e=null;t=this._hi+o,r=this._lo+n,s=t-this._hi,e=r-this._lo,l=t-s,d=r-e,l=o-s+(this._hi-l),d=n-e+(this._lo-d),s=l+r,a=t+s,i=s+(t-a),s=d+i;const p=a+s,_=s+(a-p);return this._hi=p,this._lo=_,this}}selfMultiply(){if(1===arguments.length){if(arguments[0]instanceof m){const e=arguments[0];return this.selfMultiply(e._hi,e._lo)}if('number'==typeof arguments[0]){const e=arguments[0];return this.selfMultiply(e,0)}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];let o=null,n=null,a=null,i=null,r=null,s=null;r=m.SPLIT*this._hi,o=r-this._hi,s=m.SPLIT*e,o=r-o,n=this._hi-o,a=s-e,r=this._hi*e,a=s-a,i=e-a,s=o*a-r+o*i+n*a+n*i+(this._hi*t+this._lo*e);const d=r+s;o=r-d;const l=s+o;return this._hi=d,this._lo=l,this}}selfSqr(){return this.selfMultiply(this)}floor(){if(this.isNaN())return m.NaN;const e=d(this._hi);let t=0;return e===this._hi&&(t=d(this._lo)),new m(e,t)}negate(){return this.isNaN()?this:new m(-this._hi,-this._lo)}clone(){try{return null}catch(e){if(e instanceof CloneNotSupportedException)return null;throw e}finally{}}multiply(){if(arguments[0]instanceof m){const e=arguments[0];return e.isNaN()?m.createNaN():m.copy(this).selfMultiply(e)}if('number'==typeof arguments[0]){const e=arguments[0];return a.a.isNaN(e)?m.createNaN():m.copy(this).selfMultiply(e,0)}}isNaN(){return a.a.isNaN(this._hi)}intValue(){return u(this._hi)}toString(){const e=m.magnitude(this._hi);return-3<=e&&20>=e?this.toStandardNotation():this.toSciNotation()}toStandardNotation(){const e=this.getSpecialNumberString();if(null!==e)return e;const t=[,].fill(null),o=this.extractSignificantDigits(!0,t),n=t[0]+1;let a=o;if('.'===o.charAt(0))a='0'+o;else if(0>n)a='0.'+m.stringOfChar('0',-n)+o;else if(-1===o.indexOf('.')){const e=n-o.length,t=m.stringOfChar('0',e);a=o+t+'.0'}return this.isNegative()?'-'+a:a}reciprocal(){let e=null,t=null,o=null,n=null,a=null,i=null,r=null,s=null;a=1/this._hi,i=m.SPLIT*a,e=i-a,s=m.SPLIT*this._hi,e=i-e,t=a-e,o=s-this._hi,r=a*this._hi,o=s-o,n=this._hi-o,s=e*o-r+e*n+t*o+t*n,i=(1-r-s-a*this._lo)/this._hi;const d=a+i,l=a-d+i;return new m(d,l)}toSciNotation(){if(this.isZero())return m.SCI_NOT_ZERO;const e=this.getSpecialNumberString();if(null!==e)return e;const t=[,].fill(null),o=this.extractSignificantDigits(!1,t),n=m.SCI_NOT_EXPONENT_CHAR+t[0];if('0'===o.charAt(0))throw new IllegalStateException('Found leading zero: '+o);let a='';1<o.length&&(a=o.substring(1));const i=o.charAt(0)+'.'+a;return this.isNegative()?'-'+i+n:i+n}abs(){return this.isNaN()?m.NaN:this.isNegative()?this.negate():new m(this)}isPositive(){return 0<this._hi||0===this._hi&&0<this._lo}lt(e){return this._hi<e._hi||this._hi===e._hi&&this._lo<e._lo}add(){if(arguments[0]instanceof m){const e=arguments[0];return m.copy(this).selfAdd(e)}if('number'==typeof arguments[0]){const e=arguments[0];return m.copy(this).selfAdd(e)}}init(){if(1===arguments.length){if('number'==typeof arguments[0]){const e=arguments[0];this._hi=e,this._lo=0}else if(arguments[0]instanceof m){const e=arguments[0];this._hi=e._hi,this._lo=e._lo}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this._hi=e,this._lo=t}}gt(e){return this._hi>e._hi||this._hi===e._hi&&this._lo>e._lo}isNegative(){return 0>this._hi||0===this._hi&&0>this._lo}trunc(){return this.isNaN()?m.NaN:this.isPositive()?this.floor():this.ceil()}signum(){return 0<this._hi?1:0>this._hi?-1:0<this._lo?1:0>this._lo?-1:0}getClass(){return m}get interfaces_(){return[c.a,s.a,p.a]}}t.a=m,m.constructor_=function(){if(this._hi=0,this._lo=0,0===arguments.length)this.init(0);else if(1===arguments.length){if('number'==typeof arguments[0]){const e=arguments[0];this.init(e)}else if(arguments[0]instanceof m){const e=arguments[0];this.init(e)}else if('string'==typeof arguments[0]){const e=arguments[0];m.constructor_.call(this,m.parse(e))}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.init(e,t)}},m.PI=new m(3.141592653589793,1.2246467991473532e-16),m.TWO_PI=new m(6.283185307179586,2.4492935982947064e-16),m.PI_2=new m(1.5707963267948966,6.123233995736766e-17),m.E=new m(2.718281828459045,1.4456468917292502e-16),m.NaN=new m(a.a.NaN,a.a.NaN),m.EPS=1.23259516440783e-32,m.SPLIT=134217729,m.MAX_PRINT_DIGITS=32,m.TEN=m.valueOf(10),m.ONE=m.valueOf(1),m.SCI_NOT_EXPONENT_CHAR='E',m.SCI_NOT_ZERO='0.0E0'},function(e,t,o){'use strict';function n(){}var a=o(27),i=o(64),r=o(49),s=o(83),d=o(50),l=o(65),p=o(25),_=o(0),g=o(4),c=o(47);class u{constructor(){u.constructor_.apply(this,arguments)}setCopyUserData(e){this._isUserDataCopied=e}edit(e,t){if(null===e)return null;const o=this.editInternal(e,t);return this._isUserDataCopied&&o.setUserData(e.getUserData()),o}editInternal(e,t){return(null===this._factory&&(this._factory=e.getFactory()),e instanceof p.a)?this.editGeometryCollection(e,t):e instanceof r.a?this.editPolygon(e,t):e instanceof i.a?t.edit(e,this._factory):e instanceof a.a?t.edit(e,this._factory):(g.a.shouldNeverReachHere('Unsupported Geometry class: '+e.getClass().getName()),null)}editGeometryCollection(e,t){const o=t.edit(e,this._factory),n=new _.a;for(let a=0;a<o.getNumGeometries();a++){const e=this.edit(o.getGeometryN(a),t);null===e||e.isEmpty()||n.add(e)}return o.getClass()===s.a?this._factory.createMultiPoint(n.toArray([])):o.getClass()===c.a?this._factory.createMultiLineString(n.toArray([])):o.getClass()===l.a?this._factory.createMultiPolygon(n.toArray([])):this._factory.createGeometryCollection(n.toArray([]))}editPolygon(e,t){let o=t.edit(e,this._factory);if(null===o&&(o=this._factory.createPolygon()),o.isEmpty())return o;const n=this.edit(o.getExteriorRing(),t);if(null===n||n.isEmpty())return this._factory.createPolygon();const a=new _.a;for(let n=0;n<o.getNumInteriorRing();n++){const e=this.edit(o.getInteriorRingN(n),t);null===e||e.isEmpty()||a.add(e)}return this._factory.createPolygon(n,a.toArray([]))}getClass(){return u}get interfaces_(){return[]}}t.a=u,u.GeometryEditorOperation=n;class y{constructor(){y.constructor_.apply(this,arguments)}edit(e){return e}getClass(){return y}get interfaces_(){return[n]}}y.constructor_=function(){};class m{constructor(){m.constructor_.apply(this,arguments)}edit(e,t){const o=this.edit(e.getCoordinates(),e);return e instanceof d.a?null===o?t.createLinearRing():t.createLinearRing(o):e instanceof a.a?null===o?t.createLineString():t.createLineString(o):e instanceof i.a?null===o||0===o.length?t.createPoint():t.createPoint(o[0]):e}getClass(){return m}get interfaces_(){return[n]}}m.constructor_=function(){};class h{constructor(){h.constructor_.apply(this,arguments)}edit(e,t){return e instanceof d.a?t.createLinearRing(this.edit(e.getCoordinateSequence(),e)):e instanceof a.a?t.createLineString(this.edit(e.getCoordinateSequence(),e)):e instanceof i.a?t.createPoint(this.edit(e.getCoordinateSequence(),e)):e}getClass(){return h}get interfaces_(){return[n]}}h.constructor_=function(){},u.NoOpGeometryOperation=y,u.CoordinateOperation=m,u.CoordinateSequenceOperation=h,u.constructor_=function(){if(this._factory=null,this._isUserDataCopied=!1,0===arguments.length);else if(1===arguments.length){const e=arguments[0];this._factory=e}}},function(e,t,o){'use strict';var n=o(177),a=o(3),i=o(131),r=o(31),s=o(22);class d{constructor(){d.constructor_.apply(this,arguments)}static instance(){return d.instanceObject}readResolve(){return d.instance()}create(){if(1===arguments.length){if(arguments[0]instanceof Array){const e=arguments[0];return new i.a(e)}if(Object(a.a)(arguments[0],r.a)){const e=arguments[0];return new i.a(e)}}else if(2===arguments.length){const e=arguments[0];let t=arguments[1];return 3<t&&(t=3),2>t?new i.a(e):new i.a(e,t)}}getClass(){return d}get interfaces_(){return[n.a,s.a]}}t.a=d,d.constructor_=function(){},d.serialVersionUID=-4099577099607551500,d.instanceObject=new d},function(e,t,o){'use strict';var n=o(308),a=o(100);o.d(t,'a',function(){return n.a})},function(e,t,o){'use strict';var a=o(100),i=o(24),r=o(309),s=o(353),d=o(37),p=o(127),g=o(132),c=o(61),y=o(354);class m{constructor(){m.constructor_.apply(this,arguments)}static bufferOp(){if(2===arguments.length){const e=arguments[0],t=arguments[1],o=new m(e),n=o.getResultGeometry(t);return n}if(3===arguments.length){if(n(arguments[2])&&arguments[0]instanceof i.a&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1],o=arguments[2],n=new m(e);n.setQuadrantSegments(o);const a=n.getResultGeometry(t);return a}if(arguments[2]instanceof a.a&&arguments[0]instanceof i.a&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1],o=arguments[2],n=new m(e,o),a=n.getResultGeometry(t);return a}}else if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3],a=new m(e);a.setQuadrantSegments(o),a.setEndCapStyle(n);const i=a.getResultGeometry(t);return i}}static precisionScaleFactor(e,t,o){const n=e.getEnvelopeInternal(),a=p.a.max(l(n.getMaxX()),l(n.getMaxY()),l(n.getMinX()),l(n.getMinY())),i=0<t?t:0,r=u(_(a+2*i)/2.302585092994046+1),s=I(10,o-r);return s}bufferFixedPrecision(e){const t=new s.a(new y.a(new g.a(1)),e.getScale()),o=new r.a(this._bufParams);o.setWorkingPrecisionModel(e),o.setNoder(t),this._resultGeometry=o.buffer(this._argGeom,this._distance)}bufferReducedPrecision(){if(0===arguments.length){for(let e=m.MAX_PRECISION_DIGITS;0<=e;e--){try{this.bufferReducedPrecision(e)}catch(e){if(e instanceof d.a)this._saveException=e;else throw e}finally{}if(null!==this._resultGeometry)return null}throw this._saveException}else if(1===arguments.length){const e=arguments[0],t=m.precisionScaleFactor(this._argGeom,this._distance,e),o=new g.a(t);this.bufferFixedPrecision(o)}}computeGeometry(){if(this.bufferOriginalPrecision(),null!==this._resultGeometry)return null;const e=this._argGeom.getFactory().getPrecisionModel();e.getType()===g.a.FIXED?this.bufferFixedPrecision(e):this.bufferReducedPrecision()}setQuadrantSegments(e){this._bufParams.setQuadrantSegments(e)}bufferOriginalPrecision(){try{const e=new r.a(this._bufParams);this._resultGeometry=e.buffer(this._argGeom,this._distance)}catch(e){if(e instanceof c.a)this._saveException=e;else throw e}finally{}}getResultGeometry(e){return this._distance=e,this.computeGeometry(),this._resultGeometry}setEndCapStyle(e){this._bufParams.setEndCapStyle(e)}getClass(){return m}get interfaces_(){return[]}}t.a=m,m.constructor_=function(){if(this._argGeom=null,this._distance=null,this._bufParams=new a.a,this._resultGeometry=null,this._saveException=null,1===arguments.length){const e=arguments[0];this._argGeom=e}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this._argGeom=e,this._bufParams=t}},m.CAP_ROUND=a.a.CAP_ROUND,m.CAP_BUTT=a.a.CAP_FLAT,m.CAP_FLAT=a.a.CAP_FLAT,m.CAP_SQUARE=a.a.CAP_SQUARE,m.MAX_PRECISION_DIGITS=12},function(e,t,o){'use strict';var n=o(9),a=o(310),i=o(189),r=o(36),s=o(10),d=o(133),l=o(335),p=o(67),_=o(339),c=o(340),g=o(29),u=o(203),y=o(206),m=o(0),h=o(38),f=o(346),x=o(137),I=o(105);class E{constructor(){E.constructor_.apply(this,arguments)}static depthDelta(e){const t=e.getLocation(0,s.a.LEFT),o=e.getLocation(0,s.a.RIGHT);if(t===n.a.INTERIOR&&o===n.a.EXTERIOR)return 1;return t===n.a.EXTERIOR&&o===n.a.INTERIOR?-1:0}static convertSegStrings(e){const t=new r.a,o=new m.a;for(;e.hasNext();){const n=e.next(),a=t.createLineString(n.getCoordinates());o.add(a)}return t.buildGeometry(o)}setWorkingPrecisionModel(e){this._workingPrecisionModel=e}insertUniqueEdge(t){const e=this._edgeList.findEqualEdge(t);if(null!==e){const o=e.getLabel();let n=t.getLabel();e.isPointwiseEqual(t)||(n=new g.a(t.getLabel()),n.flip()),o.merge(n);const a=E.depthDelta(n),i=e.getDepthDelta();e.setDepthDelta(i+a)}else this._edgeList.add(t),t.setDepthDelta(E.depthDelta(t.getLabel()))}buildSubgraphs(e,t){const o=new m.a;for(let n=e.iterator();n.hasNext();){const e=n.next(),a=e.getRightmostCoordinate(),i=new _.a(o),r=i.getDepth(a);e.computeDepth(r),e.findResultEdges(),o.add(e),t.add(e.getDirectedEdges(),e.getNodes())}}createSubgraphs(e){const t=new m.a;for(let o=e.getNodes().iterator();o.hasNext();){const e=o.next();if(!e.isVisited()){const o=new a.a;o.create(e),t.add(o)}}return p.a.sort(t,p.a.reverseOrder()),t}createEmptyResultGeometry(){const e=this._geomFact.createPolygon();return e}getNoder(e){if(null!==this._workingNoder)return this._workingNoder;const t=new d.a,o=new h.a;return o.setPrecisionModel(e),t.setSegmentIntersector(new f.a(o)),t}buffer(e,t){let o=this._workingPrecisionModel;null===o&&(o=e.getPrecisionModel()),this._geomFact=e.getFactory();const n=new l.a(o,this._bufParams),a=new c.a(e,t,n),r=a.getCurves();if(0>=r.size())return this.createEmptyResultGeometry();this.computeNodedEdges(r,o),this._graph=new I.a(new u.a()),this._graph.addEdges(this._edgeList.getEdges());const s=this.createSubgraphs(this._graph),d=new i.a(this._geomFact);this.buildSubgraphs(s,d);const p=d.getPolygons();if(0>=p.size())return this.createEmptyResultGeometry();const _=this._geomFact.buildGeometry(p);return _}computeNodedEdges(e,t){const o=this.getNoder(t);o.computeNodes(e);const n=o.getNodedSubstrings();for(let o=n.iterator();o.hasNext();){const e=o.next(),t=e.getCoordinates();if(2===t.length&&t[0].equals2D(t[1]))continue;const n=e.getData(),a=new x.a(e.getCoordinates(),new g.a(n));this.insertUniqueEdge(a)}}setNoder(e){this._workingNoder=e}getClass(){return E}get interfaces_(){return[]}}t.a=E,E.constructor_=function(){this._bufParams=null,this._workingPrecisionModel=null,this._workingNoder=null,this._geomFact=null,this._graph=null,this._edgeList=new y.a;const e=arguments[0];this._bufParams=e}},function(e,t,o){'use strict';var n=o(128),a=o(10),i=o(311),r=o(313),s=o(37),d=o(314),l=o(16),p=o(0),_=o(23);class g{constructor(){g.constructor_.apply(this,arguments)}clearVisitedEdges(){for(let e=this._dirEdgeList.iterator();e.hasNext();){const t=e.next();t.setVisited(!1)}}getRightmostCoordinate(){return this._rightMostCoord}computeNodeDepth(e){let t=null;for(let o=e.getEdges().iterator();o.hasNext();){const e=o.next();if(e.isVisited()||e.getSym().isVisited()){t=e;break}}if(null===t)throw new s.a('unable to find edge to compute depths at '+e.getCoordinate());e.getEdges().computeDepths(t);for(let t=e.getEdges().iterator();t.hasNext();){const e=t.next();e.setVisited(!0),this.copySymDepths(e)}}computeDepth(e){this.clearVisitedEdges();const t=this._finder.getEdge(),o=t.getNode(),n=t.getLabel();t.setEdgeDepths(a.a.RIGHT,e),this.copySymDepths(t),this.computeDepths(t)}create(e){this.addReachable(e),this._finder.findEdge(this._dirEdgeList),this._rightMostCoord=this._finder.getCoordinate()}findResultEdges(){for(let e=this._dirEdgeList.iterator();e.hasNext();){const t=e.next();1<=t.getDepth(a.a.RIGHT)&&0>=t.getDepth(a.a.LEFT)&&!t.isInteriorAreaEdge()&&t.setInResult(!0)}}computeDepths(e){const t=new n.a,o=new d.a,a=e.getNode();for(o.addLast(a),t.add(a),e.setVisited(!0);!o.isEmpty();){const e=o.removeFirst();t.add(e),this.computeNodeDepth(e);for(let n=e.getEdges().iterator();n.hasNext();){const e=n.next(),a=e.getSym();if(a.isVisited())continue;const i=a.getNode();t.contains(i)||(o.addLast(i),t.add(i))}}}compareTo(e){const t=e;return this._rightMostCoord.x<t._rightMostCoord.x?-1:this._rightMostCoord.x>t._rightMostCoord.x?1:0}getEnvelope(){if(null===this._env){const e=new _.a;for(let t=this._dirEdgeList.iterator();t.hasNext();){const o=t.next(),n=o.getEdge().getCoordinates();for(let t=0;t<n.length-1;t++)e.expandToInclude(n[t])}this._env=e}return this._env}addReachable(e){const t=new i.a;for(t.add(e);!t.empty();){const e=t.pop();this.add(e,t)}}copySymDepths(e){const t=e.getSym();t.setDepth(a.a.LEFT,e.getDepth(a.a.RIGHT)),t.setDepth(a.a.RIGHT,e.getDepth(a.a.LEFT))}add(e,t){e.setVisited(!0),this._nodes.add(e);for(let o=e.getEdges().iterator();o.hasNext();){const e=o.next();this._dirEdgeList.add(e);const n=e.getSym(),a=n.getNode();a.isVisited()||t.push(a)}}getNodes(){return this._nodes}getDirectedEdges(){return this._dirEdgeList}getClass(){return g}get interfaces_(){return[l.a]}}t.a=g,g.constructor_=function(){this._finder=null,this._dirEdgeList=new p.a,this._nodes=new p.a,this._rightMostCoord=null,this._env=null,this._finder=new r.a}},function(e,t,o){'use strict';function n(){this.array_=[]}t.a=n;var a=o(312),i=o(179),r=o(78);n.prototype=new r.a,n.prototype.add=function(t){return this.array_.push(t),!0},n.prototype.get=function(e){if(0>e||e>=this.size())throw new i.a;return this.array_[e]},n.prototype.push=function(t){return this.array_.push(t),t},n.prototype.pop=function(){if(0===this.array_.length)throw new a.a;return this.array_.pop()},n.prototype.peek=function(){if(0===this.array_.length)throw new a.a;return this.array_[this.array_.length-1]},n.prototype.empty=function(){return!(0!==this.array_.length)},n.prototype.isEmpty=function(){return this.empty()},n.prototype.search=function(e){return this.array_.indexOf(e)},n.prototype.size=function(){return this.array_.length},n.prototype.toArray=function(){for(var e=[],t=0,o=this.array_.length;t<o;t++)e.push(this.array_[t]);return e}},function(e,t){'use strict';function o(e){this.message=e||''}t.a=o;o.prototype=new Error,o.prototype.name='EmptyStackException'},function(e,t,o){'use strict';var n=o(10),a=o(17),i=o(4);class r{constructor(){r.constructor_.apply(this,arguments)}getCoordinate(){return this._minCoord}getRightmostSide(e,t){let o=this.getRightmostSideOfSegment(e,t);return 0>o&&(o=this.getRightmostSideOfSegment(e,t-1)),0>o&&(this._minCoord=null,this.checkForRightmostCoordinate(e)),o}findRightmostEdgeAtVertex(){const e=this._minDe.getEdge().getCoordinates();i.a.isTrue(0<this._minIndex&&this._minIndex<e.length,'rightmost point expected to be interior vertex of edge');const t=e[this._minIndex-1],o=e[this._minIndex+1],n=a.a.index(this._minCoord,o,t);let r=!1;t.y<this._minCoord.y&&o.y<this._minCoord.y&&n===a.a.COUNTERCLOCKWISE?r=!0:t.y>this._minCoord.y&&o.y>this._minCoord.y&&n===a.a.CLOCKWISE&&(r=!0),r&&--this._minIndex}getRightmostSideOfSegment(t,o){const a=t.getEdge(),e=a.getCoordinates();if(0>o||o+1>=e.length)return-1;if(e[o].y===e[o+1].y)return-1;let i=n.a.LEFT;return e[o].y<e[o+1].y&&(i=n.a.RIGHT),i}getEdge(){return this._orientedDe}checkForRightmostCoordinate(e){const t=e.getEdge().getCoordinates();for(let o=0;o<t.length-1;o++)(null===this._minCoord||t[o].x>this._minCoord.x)&&(this._minDe=e,this._minIndex=o,this._minCoord=t[o])}findRightmostEdgeAtNode(){const e=this._minDe.getNode(),t=e.getEdges();this._minDe=t.getRightmostEdge(),this._minDe.isForward()||(this._minDe=this._minDe.getSym(),this._minIndex=this._minDe.getEdge().getCoordinates().length-1)}findEdge(e){for(let t=e.iterator();t.hasNext();){const e=t.next();e.isForward()&&this.checkForRightmostCoordinate(e)}i.a.isTrue(0!==this._minIndex||this._minCoord.equals(this._minDe.getCoordinate()),'inconsistency in rightmost processing'),0===this._minIndex?this.findRightmostEdgeAtNode():this.findRightmostEdgeAtVertex(),this._orientedDe=this._minDe;const t=this.getRightmostSide(this._minDe,this._minIndex);t===n.a.LEFT&&(this._orientedDe=this._minDe.getSym())}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._minIndex=-1,this._minCoord=null,this._minDe=null,this._orientedDe=null}},function(e,t){'use strict';function o(){this.array_=[]}t.a=o,o.prototype.addLast=function(t){this.array_.push(t)},o.prototype.removeFirst=function(){return this.array_.shift()},o.prototype.isEmpty=function(){return 0===this.array_.length}},function(e,t,o){'use strict';var n=o(66),a=o(1),i=o(4),r=o(80);class s{constructor(){s.constructor_.apply(this,arguments)}static computeEdgeDistance(e,t,o){const n=l(o.x-t.x),a=l(o.y-t.y);let r=-1;if(e.equals(t))r=0;else if(e.equals(o))r=n>a?n:a;else{const o=l(e.x-t.x),i=l(e.y-t.y);r=n>a?o:i,0!==r||e.equals(t)||(r=E(o,i))}return i.a.isTrue(0!==r||e.equals(t),'Bad distance calculation'),r}static nonRobustComputeEdgeDistance(e,t){const o=e.x-t.x,n=e.y-t.y,a=N(o*o+n*n);return i.a.isTrue(0!==a||e.equals(t),'Invalid distance calculation'),a}getIndexAlongSegment(e,t){return this.computeIntLineIndex(),this._intLineIndex[e][t]}getTopologySummary(){const e=new r.a;return this.isEndPoint()&&e.append(' endpoint'),this._isProper&&e.append(' proper'),this.isCollinear()&&e.append(' collinear'),e.toString()}computeIntersection(e,t,o,n){this._inputLines[0][0]=e,this._inputLines[0][1]=t,this._inputLines[1][0]=o,this._inputLines[1][1]=n,this._result=this.computeIntersect(e,t,o,n)}getIntersectionNum(){return this._result}computeIntLineIndex(){if(0===arguments.length)null===this._intLineIndex&&(this._intLineIndex=[,,].fill().map(()=>[,,]),this.computeIntLineIndex(0),this.computeIntLineIndex(1));else if(1===arguments.length){const e=arguments[0],t=this.getEdgeDistance(e,0),o=this.getEdgeDistance(e,1);t>o?(this._intLineIndex[e][0]=0,this._intLineIndex[e][1]=1):(this._intLineIndex[e][0]=1,this._intLineIndex[e][1]=0)}}isProper(){return this.hasIntersection()&&this._isProper}setPrecisionModel(e){this._precisionModel=e}isInteriorIntersection(){if(0===arguments.length)return!!this.isInteriorIntersection(0)||!!this.isInteriorIntersection(1);if(1===arguments.length){const e=arguments[0];for(let t=0;t<this._result;t++)if(!(this._intPt[t].equals2D(this._inputLines[e][0])||this._intPt[t].equals2D(this._inputLines[e][1])))return!0;return!1}}getIntersection(e){return this._intPt[e]}isEndPoint(){return this.hasIntersection()&&!this._isProper}hasIntersection(){return this._result!==s.NO_INTERSECTION}getEdgeDistance(e,t){const o=s.computeEdgeDistance(this._intPt[t],this._inputLines[e][0],this._inputLines[e][1]);return o}isCollinear(){return this._result===s.COLLINEAR_INTERSECTION}toString(){return n.a.toLineString(this._inputLines[0][0],this._inputLines[0][1])+' - '+n.a.toLineString(this._inputLines[1][0],this._inputLines[1][1])+this.getTopologySummary()}getEndpoint(e,t){return this._inputLines[e][t]}isIntersection(e){for(let t=0;t<this._result;t++)if(this._intPt[t].equals2D(e))return!0;return!1}getIntersectionAlongSegment(e,t){return this.computeIntLineIndex(),this._intPt[this._intLineIndex[e][t]]}getClass(){return s}get interfaces_(){return[]}}t.a=s,s.constructor_=function(){this._result=null,this._inputLines=[,,].fill().map(()=>[,,]),this._intPt=[,,].fill(null),this._intLineIndex=null,this._isProper=null,this._pa=null,this._pb=null,this._precisionModel=null,this._intPt[0]=new a.a,this._intPt[1]=new a.a,this._pa=this._intPt[0],this._pb=this._intPt[1],this._result=0},s.DONT_INTERSECT=0,s.DO_INTERSECT=1,s.COLLINEAR=2,s.NO_INTERSECTION=0,s.POINT_INTERSECTION=1,s.COLLINEAR_INTERSECTION=2},function(e,t,o){'use strict';var n=o(1),a=o(36);const r={typeStr:/^\s*(\w+)\s*\(\s*(.*)\s*\)\s*$/,emptyTypeStr:/^\s*(\w+)\s*EMPTY\s*$/,spaces:/\s+/,parenComma:/\)\s*,\s*\(/,doubleParenComma:/\)\s*\)\s*,\s*\(\s*\(/,trimParens:/^\s*\(?(.*?)\)?\s*$/};t.a=class{constructor(e){this.geometryFactory=e||new a.a,this.precisionModel=this.geometryFactory.getPrecisionModel()}read(e){var t,o,n;e=e.replace(/[\n\r]/g,' ');var a=r.typeStr.exec(e);if(-1!==e.search('EMPTY')&&(a=r.emptyTypeStr.exec(e),a[2]=void 0),a&&(o=a[1].toLowerCase(),n=a[2],d[o]&&(t=d[o].call(this,n))),void 0===t)throw new Error('Could not parse WKT '+e);return t}write(e){return this.extractGeometry(e)}extractGeometry(e){var t=e.getGeometryType().toLowerCase();if(!s[t])return null;var o=t.toUpperCase(),n;return n=e.isEmpty()?o+' EMPTY':o+'('+s[t].call(this,e)+')',n}};const s={coordinate(e){return this.precisionModel.makePrecise(e),e.x+' '+e.y},point(e){return s.coordinate.call(this,e._coordinates._coordinates[0])},multipoint(e){var t=[];for(let o=0,n=e._geometries.length;o<n;++o)t.push('('+s.point.call(this,e._geometries[o])+')');return t.join(',')},linestring(e){var t=[];for(let o=0,n=e._points._coordinates.length;o<n;++o)t.push(s.coordinate.call(this,e._points._coordinates[o]));return t.join(',')},linearring(e){var t=[];for(let o=0,n=e._points._coordinates.length;o<n;++o)t.push(s.coordinate.call(this,e._points._coordinates[o]));return t.join(',')},multilinestring(e){var t=[];for(let o=0,n=e._geometries.length;o<n;++o)t.push('('+s.linestring.call(this,e._geometries[o])+')');return t.join(',')},polygon(e){var t=['('+s.linestring.call(this,e._shell)+')'];for(let o=0,n=e._holes.length;o<n;++o)t.push('('+s.linestring.call(this,e._holes[o])+')');return t.join(',')},multipolygon(e){var t=[];for(let o=0,n=e._geometries.length;o<n;++o)t.push('('+s.polygon.call(this,e._geometries[o])+')');return t.join(',')},geometrycollection(e){var t=[];for(let o=0,n=e._geometries.length;o<n;++o)t.push(this.extractGeometry(e._geometries[o]));return t.join(',')}},d={coord(e){var t=Number.parseFloat,o=e.trim().split(r.spaces),a=new n.a(t(o[0]),t(o[1]));return this.precisionModel.makePrecise(a),a},point(e){return void 0===e?this.geometryFactory.createPoint():this.geometryFactory.createPoint(d.coord.call(this,e))},multipoint(e){if(e===void 0)return this.geometryFactory.createMultiPoint();var t=e.trim().split(','),o=[],n;for(let a=0,i=t.length;a<i;++a)n=t[a].replace(r.trimParens,'$1'),o.push(d.point.call(this,n));return this.geometryFactory.createMultiPoint(o)},linestring(e){if(e===void 0)return this.geometryFactory.createLineString();var t=e.trim().split(','),o=[];for(let n=0,a=t.length;n<a;++n)o.push(d.coord.call(this,t[n]));return this.geometryFactory.createLineString(o)},linearring(e){if(e===void 0)return this.geometryFactory.createLinearRing();var t=e.trim().split(','),o=[];for(let n=0,a=t.length;n<a;++n)o.push(d.coord.call(this,t[n]));return this.geometryFactory.createLinearRing(o)},multilinestring(e){if(e===void 0)return this.geometryFactory.createMultiLineString();var t=e.trim().split(r.parenComma),o=[],n;for(let a=0,i=t.length;a<i;++a)n=t[a].replace(r.trimParens,'$1'),o.push(d.linestring.call(this,n));return this.geometryFactory.createMultiLineString(o)},polygon(e){if(e===void 0)return this.geometryFactory.createPolygon();var t=e.trim().split(r.parenComma),o=[],n,a,s,l;for(let p=0,i=t.length;p<i;++p)n=t[p].replace(r.trimParens,'$1'),a=d.linestring.call(this,n),s=this.geometryFactory.createLinearRing(a._points),0===p?l=s:o.push(s);return this.geometryFactory.createPolygon(l,o)},multipolygon(e){if(e===void 0)return this.geometryFactory.createMultiPolygon();var t=e.trim().split(r.doubleParenComma),o=[],n;for(let a=0,i=t.length;a<i;++a)n=t[a].replace(r.trimParens,'$1'),o.push(d.polygon.call(this,n));return this.geometryFactory.createMultiPolygon(o)},geometrycollection(e){if(e===void 0)return this.geometryFactory.createGeometryCollection();e=e.replace(/,\s*([A-Za-z])/g,'|$1');var t=e.trim().split('|'),o=[];for(let n=0,a=t.length;n<a;++n)o.push(this.read(t[n]));return this.geometryFactory.createGeometryCollection(o)}}},function(e,t,o){'use strict';var n=o(318),a=o(192),i=o(0);class r extends a.a{constructor(){super(),r.constructor_.apply(this,arguments)}buildMinimalRings(){const e=new i.a;let t=this._startDe;do{if(null===t.getMinEdgeRing()){const o=new n.a(t,this._geometryFactory);e.add(o)}t=t.getNext()}while(t!==this._startDe);return e}setEdgeRing(e,t){e.setEdgeRing(t)}linkDirectedEdgesForMinimalEdgeRings(){let e=this._startDe;do{const t=e.getNode();t.getEdges().linkMinimalDirectedEdges(this),e=e.getNext()}while(e!==this._startDe)}getNext(e){return e.getNext()}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){const e=arguments[0],t=arguments[1];a.a.constructor_.call(this,e,t)}},function(e,t,o){'use strict';var n=o(192);class a extends n.a{constructor(){super(),a.constructor_.apply(this,arguments)}setEdgeRing(e,t){e.setMinEdgeRing(t)}getNext(e){return e.getNextMin()}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){const e=arguments[0],t=arguments[1];n.a.constructor_.call(this,e,t)}},function(e,t,o){'use strict';var a=o(99),r=o(9),i=o(10);class s{constructor(){s.constructor_.apply(this,arguments)}setAllLocations(e){for(let t=0;t<this.location.length;t++)this.location[t]=e}isNull(){for(let e=0;e<this.location.length;e++)if(this.location[e]!==r.a.NONE)return!1;return!0}setAllLocationsIfNull(e){for(let t=0;t<this.location.length;t++)this.location[t]===r.a.NONE&&(this.location[t]=e)}isLine(){return 1===this.location.length}merge(e){if(e.location.length>this.location.length){const e=[,,,].fill(null);e[i.a.ON]=this.location[i.a.ON],e[i.a.LEFT]=r.a.NONE,e[i.a.RIGHT]=r.a.NONE,this.location=e}for(let t=0;t<this.location.length;t++)this.location[t]===r.a.NONE&&t<e.location.length&&(this.location[t]=e.location[t])}getLocations(){return this.location}flip(){if(1>=this.location.length)return null;const e=this.location[i.a.LEFT];this.location[i.a.LEFT]=this.location[i.a.RIGHT],this.location[i.a.RIGHT]=e}toString(){const e=new a.a;return 1<this.location.length&&e.append(r.a.toLocationSymbol(this.location[i.a.LEFT])),e.append(r.a.toLocationSymbol(this.location[i.a.ON])),1<this.location.length&&e.append(r.a.toLocationSymbol(this.location[i.a.RIGHT])),e.toString()}setLocations(e,t,o){this.location[i.a.ON]=e,this.location[i.a.LEFT]=t,this.location[i.a.RIGHT]=o}get(e){return e<this.location.length?this.location[e]:r.a.NONE}isArea(){return 1<this.location.length}isAnyNull(){for(let e=0;e<this.location.length;e++)if(this.location[e]===r.a.NONE)return!0;return!1}setLocation(){if(1===arguments.length){const e=arguments[0];this.setLocation(i.a.ON,e)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this.location[e]=t}}init(e){this.location=Array(e).fill(null),this.setAllLocations(r.a.NONE)}isEqualOnSide(e,t){return this.location[t]===e.location[t]}allPositionsEqual(e){for(let t=0;t<this.location.length;t++)if(this.location[t]!==e)return!1;return!0}getClass(){return s}get interfaces_(){return[]}}t.a=s,s.constructor_=function(){if(this.location=null,1===arguments.length){if(arguments[0]instanceof Array){const e=arguments[0];this.init(e.length)}else if(n(arguments[0])){const e=arguments[0];this.init(1),this.location[i.a.ON]=e}else if(arguments[0]instanceof s){const e=arguments[0];if(this.init(e.location.length),null!==e)for(let t=0;t<this.location.length;t++)this.location[t]=e.location[t]}}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];this.init(3),this.location[i.a.ON]=e,this.location[i.a.LEFT]=t,this.location[i.a.RIGHT]=o}}},function(e,t,o){'use strict';var n=o(9),a=o(1),i=o(106),r=o(0),s=o(63);class d{constructor(){d.constructor_.apply(this,arguments)}find(e){return this.nodeMap.get(e)}addNode(){if(arguments[0]instanceof a.a){const e=arguments[0];let t=this.nodeMap.get(e);return null===t&&(t=this.nodeFact.createNode(e),this.nodeMap.put(e,t)),t}if(arguments[0]instanceof i.a){const e=arguments[0],t=this.nodeMap.get(e.getCoordinate());return null===t?(this.nodeMap.put(e.getCoordinate(),e),e):(t.mergeLabel(e),t)}}print(e){for(let t=this.iterator();t.hasNext();){const o=t.next();o.print(e)}}iterator(){return this.nodeMap.values().iterator()}values(){return this.nodeMap.values()}getBoundaryNodes(e){const t=new r.a;for(let o=this.iterator();o.hasNext();){const a=o.next();a.getLabel().getLocation(e)===n.a.BOUNDARY&&t.add(a)}return t}add(t){const e=t.getCoordinate(),o=this.addNode(e);o.add(t)}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){this.nodeMap=new s.a,this.nodeFact=null;const e=arguments[0];this.nodeFact=e}},function(e,o,n){'use strict';var a=n(17),i=n(16),r=n(84),s=n(4);class d{constructor(){d.constructor_.apply(this,arguments)}compareDirection(t){return this._dx===t._dx&&this._dy===t._dy?0:this._quadrant>t._quadrant?1:this._quadrant<t._quadrant?-1:a.a.index(t._p0,t._p1,this._p1)}getDy(){return this._dy}getCoordinate(){return this._p0}setNode(e){this._node=e}print(e){const o=t(this._dy,this._dx),n=this.getClass().getName(),a=n.lastIndexOf('.'),i=n.substring(a+1);e.print('  '+i+': '+this._p0+' - '+this._p1+' '+this._quadrant+':'+o+'   '+this._label)}compareTo(e){return this.compareDirection(e)}getDirectedCoordinate(){return this._p1}getDx(){return this._dx}getLabel(){return this._label}getEdge(){return this._edge}getQuadrant(){return this._quadrant}getNode(){return this._node}toString(){const e=t(this._dy,this._dx),o=this.getClass().getName(),n=o.lastIndexOf('.'),a=o.substring(n+1);return'  '+a+': '+this._p0+' - '+this._p1+' '+this._quadrant+':'+e+'   '+this._label}computeLabel(){}init(e,t){this._p0=e,this._p1=t,this._dx=t.x-e.x,this._dy=t.y-e.y,this._quadrant=r.a.quadrant(this._dx,this._dy),s.a.isTrue(0!==this._dx||0!==this._dy,'EdgeEnd with identical endpoints found')}getClass(){return d}get interfaces_(){return[i.a]}}o.a=d,d.constructor_=function(){if(this._edge=null,this._label=null,this._node=null,this._p0=null,this._p1=null,this._dx=null,this._dy=null,this._quadrant=null,1===arguments.length){const e=arguments[0];this._edge=e}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];d.constructor_.call(this,e,t,o,null)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3];d.constructor_.call(this,e),this.init(t,o),this._label=n}}},function(e,t,o){'use strict';var a=o(196),i=o(323),r=o(3),s=o(324),d=o(134),l=o(21),p=o(67),_=o(325),c=o(0),y=o(94),m=o(22),h=o(23),f=o(4),x=o(326),I=o(327);class E extends x.a{constructor(){super(),E.constructor_.apply(this,arguments)}static centreX(t){return E.avg(t.getMinX(),t.getMaxX())}static avg(e,t){return(e+t)/2}static getItems(e){const t=Array(e.size()).fill(null);for(let o=0;!e.isEmpty();){const n=e.poll();t[o]=n.getBoundable(0).getItem(),o++}return t}static centreY(t){return E.avg(t.getMinY(),t.getMaxY())}createParentBoundablesFromVerticalSlices(e,t){f.a.isTrue(0<e.length);const o=new c.a;for(let n=0;n<e.length;n++)o.addAll(this.createParentBoundablesFromVerticalSlice(e[n],t));return o}createNode(e){return new C(e)}size(){return 0===arguments.length?super.size.call(this):super.size.apply(this,arguments)}insert(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof h.a){const e=arguments[0],t=arguments[1];if(e.isNull())return null;super.insert.call(this,e,t)}else return super.insert.apply(this,arguments)}getIntersectsOp(){return E.intersectsOp}verticalSlices(e,t){const o=u(g(e.size()/t)),n=Array(t).fill(null),a=e.iterator();for(let i=0;i<t;i++){n[i]=new c.a;for(let e=0;a.hasNext()&&e<o;){const t=a.next();n[i].add(t),e++}}return n}query(){if(1===arguments.length){const e=arguments[0];return super.query.call(this,e)}if(2===arguments.length){const e=arguments[0],t=arguments[1];super.query.call(this,e,t)}}getComparator(){return E.yComparator}createParentBoundablesFromVerticalSlice(e,t){return super.createParentBoundables.call(this,e,t)}remove(){if(2===arguments.length&&arguments[1]instanceof Object&&arguments[0]instanceof h.a){const e=arguments[0],t=arguments[1];return super.remove.call(this,e,t)}return super.remove.apply(this,arguments)}depth(){return 0===arguments.length?super.depth.call(this):super.depth.apply(this,arguments)}createParentBoundables(e,t){f.a.isTrue(!e.isEmpty());const o=u(g(e.size()/this.getNodeCapacity())),n=new c.a(e);p.a.sort(n,E.xComparator);const a=this.verticalSlices(n,u(g(N(o))));return this.createParentBoundablesFromVerticalSlices(a,t)}nearestNeighbour(){if(1===arguments.length){if(Object(r.a)(arguments[0],I.a)){const e=arguments[0],t=new _.a(this.getRoot(),this.getRoot(),e);return this.nearestNeighbour(t)}if(arguments[0]instanceof _.a){const e=arguments[0];return this.nearestNeighbour(e,l.a.POSITIVE_INFINITY)}}else if(2===arguments.length){if(arguments[0]instanceof E&&Object(r.a)(arguments[1],I.a)){const e=arguments[0],t=arguments[1],o=new _.a(this.getRoot(),e.getRoot(),t);return this.nearestNeighbour(o)}if(arguments[0]instanceof _.a&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1];let o=t,n=null;const a=new i.a;for(a.add(e);!a.isEmpty()&&0<o;){const e=a.poll(),t=e.getDistance();if(t>=o)break;e.isLeaves()?(o=t,n=e):e.expandToQueue(a,o)}return[n.getBoundable(0).getItem(),n.getBoundable(1).getItem()]}if(arguments[0]instanceof _.a&&n(arguments[1])){const e=arguments[0],t=arguments[1];return this.nearestNeighbour(e,l.a.POSITIVE_INFINITY,t)}}else if(3===arguments.length){if(Object(r.a)(arguments[2],I.a)&&arguments[0]instanceof h.a&&arguments[1]instanceof Object){const e=arguments[0],t=arguments[1],o=arguments[2],n=new a.a(e,t),i=new _.a(this.getRoot(),n,o);return this.nearestNeighbour(i)[0]}if(n(arguments[2])&&arguments[0]instanceof _.a&&'number'==typeof arguments[1]){const e=arguments[0],t=arguments[1],o=arguments[2];let n=t;const a=new i.a;a.add(e);const r=new i.a;for(;!a.isEmpty()&&0<=n;){const e=a.poll(),t=e.getDistance();if(t>=n)break;if(!e.isLeaves())e.expandToQueue(a,n);else if(r.size()<o)r.add(e);else{const o=r.peek();o.getDistance()>t&&(r.poll(),r.add(e));const a=r.peek();n=a.getDistance()}}return E.getItems(r)}}else if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3],i=new a.a(e,t),r=new _.a(this.getRoot(),i,o);return this.nearestNeighbour(r,n)}}getClass(){return E}get interfaces_(){return[s.a,m.a]}}t.a=E;class C extends d.a{constructor(){super(),C.constructor_.apply(this,arguments)}computeBounds(){let e=null;for(let t=this.getChildBoundables().iterator();t.hasNext();){const o=t.next();null==e?e=new h.a(o.getBounds()):e.expandToInclude(o.getBounds())}return e}getClass(){return C}get interfaces_(){return[]}}C.constructor_=function(){const e=arguments[0];d.a.constructor_.call(this,e)},E.STRtreeNode=C,E.constructor_=function(){if(0===arguments.length)E.constructor_.call(this,E.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){const e=arguments[0];x.a.constructor_.call(this,e)}},E.serialVersionUID=259274702368956900,E.xComparator=new class{get interfaces_(){return[y.a]}compare(e,t){return x.a.compareDoubles(E.centreX(e.getBounds()),E.centreX(t.getBounds()))}},E.yComparator=new class{get interfaces_(){return[y.a]}compare(e,t){return x.a.compareDoubles(E.centreY(e.getBounds()),E.centreY(t.getBounds()))}},E.intersectsOp=new class{get interfaces_(){return[IntersectsOp]}intersects(e,t){return e.intersects(t)}},E.DEFAULT_NODE_CAPACITY=10},function(e,t,o){'use strict';var n=o(0);class a{constructor(){a.constructor_.apply(this,arguments)}poll(){if(this.isEmpty())return null;const e=this._items.get(1);return this._items.set(1,this._items.get(this._size)),this._size-=1,this.reorder(1),e}size(){return this._size}reorder(e){let t=null;const o=this._items.get(e);for(;2*e<=this._size&&(t=2*e,t!==this._size&&0>this._items.get(t+1).compareTo(this._items.get(t))&&t++,0>this._items.get(t).compareTo(o));e=t)this._items.set(e,this._items.get(t));this._items.set(e,o)}clear(){this._size=0,this._items.clear()}peek(){if(this.isEmpty())return null;const e=this._items.get(1);return e}isEmpty(){return 0===this._size}add(e){this._items.add(null),this._size+=1;let t=this._size;for(this._items.set(0,e);0>e.compareTo(this._items.get(u(t/2)));t/=2)this._items.set(t,this._items.get(u(t/2)));this._items.set(t,e)}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){this._size=null,this._items=null,this._size=0,this._items=new n.a,this._items.add(null)}},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}insert(){}remove(){}query(){if(1===arguments.length){arguments[0]}else if(2===arguments.length){const e=arguments[0],t=arguments[1]}}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t,o){'use strict';var n=o(5),a=o(134),i=o(16);class r{constructor(){r.constructor_.apply(this,arguments)}static area(e){return e.getBounds().getArea()}static isComposite(e){return e instanceof a.a}expandToQueue(e,t){const o=r.isComposite(this._boundable1),a=r.isComposite(this._boundable2);if(o&&a)return r.area(this._boundable1)>r.area(this._boundable2)?(this.expand(this._boundable1,this._boundable2,e,t),null):(this.expand(this._boundable2,this._boundable1,e,t),null);if(o)return this.expand(this._boundable1,this._boundable2,e,t),null;if(a)return this.expand(this._boundable2,this._boundable1,e,t),null;throw new n.a('neither boundable is composite')}isLeaves(){return!(r.isComposite(this._boundable1)||r.isComposite(this._boundable2))}compareTo(e){const t=e;return this._distance<t._distance?-1:this._distance>t._distance?1:0}expand(e,t,o,n){const a=e.getChildBoundables();for(let s=a.iterator();s.hasNext();){const e=s.next(),a=new r(e,t,this._itemDistance);a.getDistance()<n&&o.add(a)}}getBoundable(e){return 0===e?this._boundable1:this._boundable2}getDistance(){return this._distance}distance(){return this.isLeaves()?this._itemDistance.distance(this._boundable1,this._boundable2):this._boundable1.getBounds().distance(this._boundable2.getBounds())}getClass(){return r}get interfaces_(){return[i.a]}}t.a=r,r.constructor_=function(){this._boundable1=null,this._boundable2=null,this._distance=null,this._itemDistance=null;const e=arguments[0],t=arguments[1],o=arguments[2];this._boundable1=e,this._boundable2=t,this._itemDistance=o,this._distance=this.distance()}},function(e,t,o){'use strict';var n=o(196),a=o(3),i=o(107),r=o(134),s=o(67),d=o(0),l=o(22),p=o(4),_=o(78);class g{constructor(){g.constructor_.apply(this,arguments)}static compareDoubles(e,t){return e>t?1:e<t?-1:0}queryInternal(){if(Object(a.a)(arguments[2],i.a)&&arguments[0]instanceof Object&&arguments[1]instanceof r.a){const e=arguments[0],t=arguments[1],o=arguments[2],a=t.getChildBoundables();for(let t=0;t<a.size();t++){const i=a.get(t);this.getIntersectsOp().intersects(i.getBounds(),e)&&(i instanceof r.a?this.queryInternal(e,i,o):i instanceof n.a?o.visitItem(i.getItem()):p.a.shouldNeverReachHere())}}else if(Object(a.a)(arguments[2],_.a)&&arguments[0]instanceof Object&&arguments[1]instanceof r.a){const e=arguments[0],t=arguments[1],o=arguments[2],a=t.getChildBoundables();for(let t=0;t<a.size();t++){const i=a.get(t);this.getIntersectsOp().intersects(i.getBounds(),e)&&(i instanceof r.a?this.queryInternal(e,i,o):i instanceof n.a?o.add(i.getItem()):p.a.shouldNeverReachHere())}}}getNodeCapacity(){return this._nodeCapacity}lastNode(e){return e.get(e.size()-1)}size(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.size(this._root));if(1===arguments.length){const e=arguments[0];let t=0;for(let o=e.getChildBoundables().iterator();o.hasNext();){const e=o.next();e instanceof r.a?t+=this.size(e):e instanceof n.a&&(t+=1)}return t}}removeItem(e,t){let o=null;for(let a=e.getChildBoundables().iterator();a.hasNext();){const e=a.next();e instanceof n.a&&e.getItem()===t&&(o=e)}return null!==o&&(e.getChildBoundables().remove(o),!0)}itemsTree(){if(0===arguments.length){this.build();const e=this.itemsTree(this._root);return null===e?new d.a:e}if(1===arguments.length){const e=arguments[0],t=new d.a;for(let o=e.getChildBoundables().iterator();o.hasNext();){const e=o.next();if(e instanceof r.a){const o=this.itemsTree(e);null!==o&&t.add(o)}else e instanceof n.a?t.add(e.getItem()):p.a.shouldNeverReachHere()}return 0>=t.size()?null:t}}insert(e,t){p.a.isTrue(!this._built,'Cannot insert items into an STR packed R-tree after it has been built.'),this._itemBoundables.add(new n.a(e,t))}boundablesAtLevel(){if(1===arguments.length){const e=arguments[0],t=new d.a;return this.boundablesAtLevel(e,this._root,t),t}if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];if(p.a.isTrue(-2<e),t.getLevel()===e)return o.add(t),null;for(let a=t.getChildBoundables().iterator();a.hasNext();){const t=a.next();t instanceof r.a?this.boundablesAtLevel(e,t,o):(p.a.isTrue(t instanceof n.a),-1===e&&o.add(t))}return null}}query(){if(1===arguments.length){const e=arguments[0];this.build();const t=new d.a;return this.isEmpty()?t:(this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.queryInternal(e,this._root,t),t)}if(2===arguments.length){const e=arguments[0],t=arguments[1];if(this.build(),this.isEmpty())return null;this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.queryInternal(e,this._root,t)}}build(){return this._built?null:void(this._root=this._itemBoundables.isEmpty()?this.createNode(0):this.createHigherLevels(this._itemBoundables,-1),this._itemBoundables=null,this._built=!0)}getRoot(){return this.build(),this._root}remove(){if(2===arguments.length){const e=arguments[0],t=arguments[1];return this.build(),!!this.getIntersectsOp().intersects(this._root.getBounds(),e)&&this.remove(e,this._root,t)}if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];let n=this.removeItem(t,o);if(n)return!0;let a=null;for(let s=t.getChildBoundables().iterator();s.hasNext();){const t=s.next();if(this.getIntersectsOp().intersects(t.getBounds(),e)&&t instanceof r.a&&(n=this.remove(e,t,o),n)){a=t;break}}return null!==a&&a.getChildBoundables().isEmpty()&&t.getChildBoundables().remove(a),n}}createHigherLevels(e,t){p.a.isTrue(!e.isEmpty());const o=this.createParentBoundables(e,t+1);return 1===o.size()?o.get(0):this.createHigherLevels(o,t+1)}depth(){if(0===arguments.length)return this.isEmpty()?0:(this.build(),this.depth(this._root));if(1===arguments.length){const e=arguments[0];let t=0;for(let o=e.getChildBoundables().iterator();o.hasNext();){const e=o.next();if(e instanceof r.a){const o=this.depth(e);o>t&&(t=o)}}return t+1}}createParentBoundables(e,t){p.a.isTrue(!e.isEmpty());const o=new d.a;o.add(this.createNode(t));const n=new d.a(e);s.a.sort(n,this.getComparator());for(let a=n.iterator();a.hasNext();){const e=a.next();this.lastNode(o).getChildBoundables().size()===this.getNodeCapacity()&&o.add(this.createNode(t)),this.lastNode(o).addChildBoundable(e)}return o}isEmpty(){return this._built?this._root.isEmpty():this._itemBoundables.isEmpty()}getClass(){return g}get interfaces_(){return[l.a]}}t.a=g,g.IntersectsOp=function(){},g.constructor_=function(){if(this._root=null,this._built=!1,this._itemBoundables=new d.a,this._nodeCapacity=null,0===arguments.length)g.constructor_.call(this,g.DEFAULT_NODE_CAPACITY);else if(1===arguments.length){const e=arguments[0];p.a.isTrue(1<e,'Node capacity must be greater than 1'),this._nodeCapacity=e}},g.serialVersionUID=-3886435814360241000,g.DEFAULT_NODE_CAPACITY=10},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}distance(){}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t,o){'use strict';var n=o(96),a=o(329),i=o(198),r=o(1),s=o(85),d=o(81),l=o(0),p=o(61),_=o(4),g=o(63);class c{constructor(){c.constructor_.apply(this,arguments)}getSplitCoordinates(){const e=new n.a;this.addEndpoints();const t=this.iterator();for(let o=t.next();t.hasNext();){const n=t.next();this.addEdgeCoordinates(o,n,e),o=n}return e.toCoordinateArray()}addCollapsedNodes(){const e=new l.a;this.findCollapsesFromInsertedNodes(e),this.findCollapsesFromExistingVertices(e);for(let t=e.iterator();t.hasNext();){const e=t.next().intValue();this.add(this._edge.getCoordinate(e),e)}}print(e){e.println('Intersections:');for(let t=this.iterator();t.hasNext();){const o=t.next();o.print(e)}}findCollapsesFromExistingVertices(e){for(let t=0;t<this._edge.size()-2;t++){const o=this._edge.getCoordinate(t),n=this._edge.getCoordinate(t+1),a=this._edge.getCoordinate(t+2);o.equals2D(a)&&e.add(new d.a(t+1))}}addEdgeCoordinates(e,t,o){let n=t.segmentIndex-e.segmentIndex+2;const a=this._edge.getCoordinate(t.segmentIndex),i=t.isInterior()||!t.coord.equals2D(a);i||n--;o.add(new r.a(e.coord),!1);for(let n=e.segmentIndex+1;n<=t.segmentIndex;n++)o.add(this._edge.getCoordinate(n));i&&o.add(new r.a(t.coord))}iterator(){return this._nodeMap.values().iterator()}addSplitEdges(e){this.addEndpoints(),this.addCollapsedNodes();const t=this.iterator();for(let o=t.next();t.hasNext();){const n=t.next(),a=this.createSplitEdge(o,n);e.add(a),o=n}}findCollapseIndex(e,t,o){if(!e.coord.equals2D(t.coord))return!1;let n=t.segmentIndex-e.segmentIndex;return t.isInterior()||n--,1==n&&(o[0]=e.segmentIndex+1,!0)}findCollapsesFromInsertedNodes(e){const t=[,].fill(null),o=this.iterator();for(let n=o.next();o.hasNext();){const a=o.next(),i=this.findCollapseIndex(n,a,t);i&&e.add(new d.a(t[0])),n=a}}getEdge(){return this._edge}addEndpoints(){const e=this._edge.size()-1;this.add(this._edge.getCoordinate(0),0),this.add(this._edge.getCoordinate(e),e)}createSplitEdge(e,t){let o=t.segmentIndex-e.segmentIndex+2;const n=this._edge.getCoordinate(t.segmentIndex),a=t.isInterior()||!t.coord.equals2D(n);a||o--;const d=Array(o).fill(null);let l=0;d[l++]=new r.a(e.coord);for(let o=e.segmentIndex+1;o<=t.segmentIndex;o++)d[l++]=this._edge.getCoordinate(o);return a&&(d[l]=new r.a(t.coord)),new s.a(d,this._edge.getData())}add(e,t){const o=new a.a(this._edge,e,t,this._edge.getSegmentOctant(t)),n=this._nodeMap.get(o);return null===n?(this._nodeMap.put(o,o),o):(_.a.isTrue(n.coord.equals2D(e),'Found equal nodes with different coordinates'),n)}checkSplitEdgesCorrectness(e){const t=this._edge.getCoordinates(),o=e.get(0),n=o.getCoordinate(0);if(!n.equals2D(t[0]))throw new p.a('bad split edge start point at '+n);const a=e.get(e.size()-1),i=a.getCoordinates(),r=i[i.length-1];if(!r.equals2D(t[t.length-1]))throw new p.a('bad split edge end point at '+r)}getClass(){return c}get interfaces_(){return[]}}t.a=c,c.constructor_=function(){this._nodeMap=new g.a,this._edge=null;const e=arguments[0];this._edge=e};class u{constructor(){u.constructor_.apply(this,arguments)}next(){return null===this._currNode?(this._currNode=this._nextNode,this._currSegIndex=this._currNode.segmentIndex,this.readNextNode(),this._currNode):null===this._nextNode?null:this._nextNode.segmentIndex===this._currNode.segmentIndex?(this._currNode=this._nextNode,this._currSegIndex=this._currNode.segmentIndex,this.readNextNode(),this._currNode):(this._nextNode.segmentIndex>this._currNode.segmentIndex,null)}remove(){throw new UnsupportedOperationException(this.getClass().getName())}hasNext(){return null!==this._nextNode}readNextNode(){this._nextNode=this._nodeIt.hasNext()?this._nodeIt.next():null}getClass(){return u}get interfaces_(){return[i.a]}}u.constructor_=function(){this._nodeList=null,this._edge=null,this._nodeIt=null,this._currNode=null,this._nextNode=null,this._currSegIndex=0;const e=arguments[0];this._nodeList=e,this._edge=e.getEdge(),this._nodeIt=e.iterator(),this.readNextNode()}},function(e,t,o){'use strict';var n=o(1),a=o(330),i=o(16);class r{constructor(){r.constructor_.apply(this,arguments)}getCoordinate(){return this.coord}print(e){e.print(this.coord),e.print(' seg # = '+this.segmentIndex)}compareTo(e){const t=e;return this.segmentIndex<t.segmentIndex?-1:this.segmentIndex>t.segmentIndex?1:this.coord.equals2D(t.coord)?0:a.a.compare(this._segmentOctant,this.coord,t.coord)}isEndPoint(e){return 0!==this.segmentIndex||this._isInterior?!(this.segmentIndex!==e):!0}isInterior(){return this._isInterior}getClass(){return r}get interfaces_(){return[i.a]}}t.a=r,r.constructor_=function(){this._segString=null,this.coord=null,this.segmentIndex=null,this._segmentOctant=null,this._isInterior=null;const e=arguments[0],t=arguments[1],o=arguments[2],a=arguments[3];this._segString=e,this.coord=new n.a(t),this.segmentIndex=o,this._segmentOctant=a,this._isInterior=!t.equals2D(e.getCoordinate(o))}},function(e,t,o){'use strict';var n=o(4);class a{constructor(){a.constructor_.apply(this,arguments)}static relativeSign(e,t){return e<t?-1:e>t?1:0}static compare(e,t,o){if(t.equals2D(o))return 0;const i=a.relativeSign(t.x,o.x),r=a.relativeSign(t.y,o.y);return 0===e?a.compareValue(i,r):1===e?a.compareValue(r,i):2===e?a.compareValue(r,-i):3===e?a.compareValue(-i,r):4===e?a.compareValue(-i,-r):5===e?a.compareValue(-r,-i):6===e?a.compareValue(-r,i):7===e?a.compareValue(i,-r):(n.a.shouldNeverReachHere('invalid octant value'),0)}static compareValue(e,t){return 0>e?-1:0<e?1:0>t?-1:0<t?1:0}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){}},function(e,t,o){'use strict';var n=o(200);class a{constructor(){a.constructor_.apply(this,arguments)}addIntersection(){}getClass(){return a}get interfaces_(){return[n.a]}}t.a=a,a.constructor_=function(){}},function(e,t,o){'use strict';var n=o(68);class a{constructor(){a.constructor_.apply(this,arguments)}overlap(){if(2===arguments.length){const e=arguments[0],t=arguments[1]}else if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3];e.getLineSegment(t,this._overlapSeg1),o.getLineSegment(n,this._overlapSeg2),this.overlap(this._overlapSeg1,this._overlapSeg2)}}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){this._overlapSeg1=new n.a,this._overlapSeg2=new n.a}},function(e,t,o){'use strict';var n=o(201),a=o(81),i=o(0),r=o(84);class s{constructor(){s.constructor_.apply(this,arguments)}static getChainStartIndices(e){let t=0;const o=new i.a;o.add(new a.a(t));do{const n=s.findChainEnd(e,t);o.add(new a.a(n)),t=n}while(t<e.length-1);const n=s.toIntArray(o);return n}static findChainEnd(e,t){let o=t;for(;o<e.length-1&&e[o].equals2D(e[o+1]);)o++;if(o>=e.length-1)return e.length-1;const n=r.a.quadrant(e[o],e[o+1]);let a=t+1;for(;a<e.length;){if(!e[a-1].equals2D(e[a])){const t=r.a.quadrant(e[a-1],e[a]);if(t!==n)break}a++}return a-1}static getChains(){if(1===arguments.length){const e=arguments[0];return s.getChains(e,null)}if(2===arguments.length){const e=arguments[0],t=arguments[1],o=new i.a,a=s.getChainStartIndices(e);for(let r=0;r<a.length-1;r++){const i=new n.a(e,a[r],a[r+1],t);o.add(i)}return o}}static toIntArray(e){const t=Array(e.size()).fill(null);for(let o=0;o<t.length;o++)t[o]=e.get(o).intValue();return t}getClass(){return s}get interfaces_(){return[]}}t.a=s,s.constructor_=function(){}},function(e,t,o){'use strict';var n=o(135);class a{constructor(){a.constructor_.apply(this,arguments)}setSegmentIntersector(e){this._segInt=e}getClass(){return a}get interfaces_(){return[n.a]}}t.a=a,a.constructor_=function(){if(this._segInt=null,0===arguments.length);else if(1===arguments.length){const e=arguments[0];this.setSegmentIntersector(e)}}},function(e,t,o){'use strict';var n=o(100),a=o(10),r=o(1),i=o(336),s=o(46),d=o(337);class p{constructor(){p.constructor_.apply(this,arguments)}static copyCoordinates(e){const t=Array(e.length).fill(null);for(let o=0;o<t.length;o++)t[o]=new r.a(e[o]);return t}getOffsetCurve(e,t){if(this._distance=t,0===t)return null;const o=0>t,n=l(t),a=this.getSegGen(n);1>=e.length?this.computePointCurve(e[0],a):this.computeOffsetCurve(e,o,a);const i=a.getCoordinates();return o&&s.a.reverse(i),i}computeSingleSidedBufferCurve(e,t,o){const n=this.simplifyTolerance(this._distance);if(t){o.addSegments(e,!0);const t=i.a.simplify(e,-n),r=t.length-1;o.initSideSegments(t[r],t[r-1],a.a.LEFT),o.addFirstSegment();for(let e=r-2;0<=e;e--)o.addNextSegment(t[e],!0)}else{o.addSegments(e,!1);const t=i.a.simplify(e,n),r=t.length-1;o.initSideSegments(t[0],t[1],a.a.LEFT),o.addFirstSegment();for(let e=2;e<=r;e++)o.addNextSegment(t[e],!0)}o.addLastSegment(),o.closeRing()}computeRingBufferCurve(e,t,o){let r=this.simplifyTolerance(this._distance);t===a.a.RIGHT&&(r=-r);const s=i.a.simplify(e,r),d=s.length-1;o.initSideSegments(s[d-1],s[0],t);for(let n=1;n<=d;n++){const e=1!==n;o.addNextSegment(s[n],e)}o.closeRing()}computeLineBufferCurve(e,t){const o=this.simplifyTolerance(this._distance),n=i.a.simplify(e,o),r=n.length-1;t.initSideSegments(n[0],n[1],a.a.LEFT);for(let o=2;o<=r;o++)t.addNextSegment(n[o],!0);t.addLastSegment(),t.addLineEndCap(n[r-1],n[r]);const s=i.a.simplify(e,-o),d=s.length-1;t.initSideSegments(s[d],s[d-1],a.a.LEFT);for(let o=d-2;0<=o;o--)t.addNextSegment(s[o],!0);t.addLastSegment(),t.addLineEndCap(s[1],s[0]),t.closeRing()}computePointCurve(e,t){switch(this._bufParams.getEndCapStyle()){case n.a.CAP_ROUND:t.createCircle(e);break;case n.a.CAP_SQUARE:t.createSquare(e);}}getLineCurve(e,t){if(this._distance=t,0>t&&!this._bufParams.isSingleSided())return null;if(0===t)return null;const o=l(t),n=this.getSegGen(o);if(1>=e.length)this.computePointCurve(e[0],n);else if(this._bufParams.isSingleSided()){this.computeSingleSidedBufferCurve(e,0>t,n)}else this.computeLineBufferCurve(e,n);const a=n.getCoordinates();return a}getBufferParameters(){return this._bufParams}simplifyTolerance(e){return e*this._bufParams.getSimplifyFactor()}getRingCurve(e,t,o){if(this._distance=o,2>=e.length)return this.getLineCurve(e,o);if(0===o)return p.copyCoordinates(e);const n=this.getSegGen(o);return this.computeRingBufferCurve(e,t,n),n.getCoordinates()}computeOffsetCurve(e,t,o){const n=this.simplifyTolerance(this._distance);if(t){const t=i.a.simplify(e,-n),r=t.length-1;o.initSideSegments(t[r],t[r-1],a.a.LEFT),o.addFirstSegment();for(let e=r-2;0<=e;e--)o.addNextSegment(t[e],!0)}else{const t=i.a.simplify(e,n),r=t.length-1;o.initSideSegments(t[0],t[1],a.a.LEFT),o.addFirstSegment();for(let e=2;e<=r;e++)o.addNextSegment(t[e],!0)}o.addLastSegment()}getSegGen(e){return new d.a(this._precisionModel,this._bufParams,e)}getClass(){return p}get interfaces_(){return[]}}t.a=p,p.constructor_=function(){this._distance=0,this._precisionModel=null,this._bufParams=null;const e=arguments[0],t=arguments[1];this._precisionModel=e,this._bufParams=t}},function(e,t,o){'use strict';var n=o(96),a=o(17),i=o(104);class r{constructor(){r.constructor_.apply(this,arguments)}static simplify(e,t){const o=new r(e);return o.simplify(t)}isDeletable(e,t,o,n){const a=this._inputLine[e],i=this._inputLine[t],r=this._inputLine[o];return!!this.isConcave(a,i,r)&&!!this.isShallow(a,i,r,n)&&this.isShallowSampled(a,i,e,o,n)}deleteShallowConcavities(){let e=1;this._inputLine.length-1;let t=this.findNextNonDeletedIndex(e),o=this.findNextNonDeletedIndex(t),n=!1;for(;o<this._inputLine.length;){let a=!1;this.isDeletable(e,t,o,this._distanceTol)&&(this._isDeleted[t]=r.DELETE,a=!0,n=!0),e=a?o:t,t=this.findNextNonDeletedIndex(e),o=this.findNextNonDeletedIndex(t)}return n}isShallowConcavity(e,t,o,n){const r=a.a.index(e,t,o),s=r===this._angleOrientation;if(!s)return!1;const d=i.a.pointToSegment(t,e,o);return d<n}isShallowSampled(e,t,o,n,a){let s=u((n-o)/r.NUM_PTS_TO_CHECK);0>=s&&(s=1);for(let r=o;r<n;r+=s)if(!this.isShallow(e,t,this._inputLine[r],a))return!1;return!0}isConcave(e,t,o){const n=a.a.index(e,t,o),i=n===this._angleOrientation;return i}simplify(e){this._distanceTol=l(e),0>e&&(this._angleOrientation=a.a.CLOCKWISE),this._isDeleted=Array(this._inputLine.length).fill(null);let t=!1;do t=this.deleteShallowConcavities();while(t);return this.collapseLine()}findNextNonDeletedIndex(e){let t=e+1;for(;t<this._inputLine.length&&this._isDeleted[t]===r.DELETE;)t++;return t}isShallow(e,t,o,n){const a=i.a.pointToSegment(t,e,o);return a<n}collapseLine(){const e=new n.a;for(let t=0;t<this._inputLine.length;t++)this._isDeleted[t]!==r.DELETE&&e.add(this._inputLine[t]);return e.toCoordinateArray()}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._inputLine=null,this._distanceTol=null,this._isDeleted=null,this._angleOrientation=a.a.COUNTERCLOCKWISE;const e=arguments[0];this._inputLine=e},r.INIT=0,r.DELETE=1,r.KEEP=1,r.NUM_PTS_TO_CHECK=10},function(e,o,n){'use strict';var a=n(100),i=n(102),d=n(10),_=n(1),g=n(17),p=n(338),y=n(68),m=n(202),h=n(38),f=n(103);class x{constructor(){x.constructor_.apply(this,arguments)}addNextSegment(e,t){if(this._s0=this._s1,this._s1=this._s2,this._s2=e,this._seg0.setCoordinates(this._s0,this._s1),this.computeOffsetSegment(this._seg0,this._side,this._distance,this._offset0),this._seg1.setCoordinates(this._s1,this._s2),this.computeOffsetSegment(this._seg1,this._side,this._distance,this._offset1),this._s1.equals(this._s2))return null;const o=g.a.index(this._s0,this._s1,this._s2),n=o===g.a.CLOCKWISE&&this._side===d.a.LEFT||o===g.a.COUNTERCLOCKWISE&&this._side===d.a.RIGHT;0===o?this.addCollinear(t):n?this.addOutsideTurn(o,t):this.addInsideTurn(o,t)}addLineEndCap(e,o){const n=new y.a(e,o),i=new y.a;this.computeOffsetSegment(n,d.a.LEFT,this._distance,i);const p=new y.a;this.computeOffsetSegment(n,d.a.RIGHT,this._distance,p);const u=o.x-e.x,m=o.y-e.y,h=t(m,u);switch(this._bufParams.getEndCapStyle()){case a.a.CAP_ROUND:this._segList.addPt(i.p1),this.addDirectedFillet(o,h+s/2,h-s/2,g.a.CLOCKWISE,this._distance),this._segList.addPt(p.p1);break;case a.a.CAP_FLAT:this._segList.addPt(i.p1),this._segList.addPt(p.p1);break;case a.a.CAP_SQUARE:const e=new _.a;e.x=l(this._distance)*c(h),e.y=l(this._distance)*r(h);const t=new _.a(i.p1.x+e.x,i.p1.y+e.y),n=new _.a(p.p1.x+e.x,p.p1.y+e.y);this._segList.addPt(t),this._segList.addPt(n);}}getCoordinates(){const e=this._segList.getCoordinates();return e}addMitreJoin(e,t,o,n){let a=!0,r=null;try{r=f.a.intersection(t.p0,t.p1,o.p0,o.p1);const i=0>=n?1:r.distance(e)/l(n);i>this._bufParams.getMitreLimit()&&(a=!1)}catch(e){if(e instanceof i.a)r=new _.a(0,0),a=!1;else throw e}finally{}a?this._segList.addPt(r):this.addLimitedMitreJoin(t,o,n,this._bufParams.getMitreLimit())}addOutsideTurn(e,t){return this._offset0.p1.distance(this._offset1.p0)<this._distance*x.OFFSET_SEGMENT_SEPARATION_FACTOR?(this._segList.addPt(this._offset0.p1),null):void(this._bufParams.getJoinStyle()===a.a.JOIN_MITRE?this.addMitreJoin(this._s1,this._offset0,this._offset1,this._distance):this._bufParams.getJoinStyle()===a.a.JOIN_BEVEL?this.addBevelJoin(this._offset0,this._offset1):(t&&this._segList.addPt(this._offset0.p1),this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,e,this._distance),this._segList.addPt(this._offset1.p0)))}createSquare(e){this._segList.addPt(new _.a(e.x+this._distance,e.y+this._distance)),this._segList.addPt(new _.a(e.x+this._distance,e.y-this._distance)),this._segList.addPt(new _.a(e.x-this._distance,e.y-this._distance)),this._segList.addPt(new _.a(e.x-this._distance,e.y+this._distance)),this._segList.closeRing()}addSegments(e,t){this._segList.addPts(e,t)}addFirstSegment(){this._segList.addPt(this._offset1.p0)}addCornerFillet(e,o,n,a,i){const r=o.x-e.x,d=o.y-e.y;let l=t(d,r);const p=n.x-e.x,_=n.y-e.y,c=t(_,p);a===g.a.CLOCKWISE?l<=c&&(l+=2*s):l>=c&&(l-=2*s),this._segList.addPt(o),this.addDirectedFillet(e,l,c,a,i),this._segList.addPt(n)}addLastSegment(){this._segList.addPt(this._offset1.p1)}initSideSegments(e,t,o){this._s1=e,this._s2=t,this._side=o,this._seg1.setCoordinates(e,t),this.computeOffsetSegment(this._seg1,o,this._distance,this._offset1)}addLimitedMitreJoin(e,t,o,n){const a=this._seg0.p1,i=m.a.angle(a,this._seg0.p0),p=m.a.angle(a,this._seg1.p1),g=m.a.angleBetweenOriented(this._seg0.p0,a,this._seg1.p1),u=g/2,h=m.a.normalize(i+u),f=m.a.normalize(h+s),x=n*o,I=x*l(r(u)),E=o-I,C=a.x+x*c(f),N=a.y+x*r(f),T=new _.a(C,N),S=new y.a(a,T),L=S.pointAlongOffset(1,E),O=S.pointAlongOffset(1,-E);this._side===d.a.LEFT?(this._segList.addPt(L),this._segList.addPt(O)):(this._segList.addPt(O),this._segList.addPt(L))}addDirectedFillet(e,t,o,n,a){const i=n===g.a.CLOCKWISE?-1:1,s=l(t-o),d=u(s/this._filletAngleQuantum+0.5);if(1>d)return null;let p=null,y=null;p=0,y=s/d;let m=p;for(const d=new _.a;m<s;){const o=t+i*m;d.x=e.x+a*c(o),d.y=e.y+a*r(o),this._segList.addPt(d),m+=y}}computeOffsetSegment(e,t,o,n){const a=t===d.a.LEFT?1:-1,i=e.p1.x-e.p0.x,r=e.p1.y-e.p0.y,s=N(i*i+r*r),l=a*o*i/s,p=a*o*r/s;n.p0.x=e.p0.x-p,n.p0.y=e.p0.y+l,n.p1.x=e.p1.x-p,n.p1.y=e.p1.y+l}addInsideTurn(){if(this._li.computeIntersection(this._offset0.p0,this._offset0.p1,this._offset1.p0,this._offset1.p1),this._li.hasIntersection())this._segList.addPt(this._li.getIntersection(0));else if(this._hasNarrowConcaveAngle=!0,this._offset0.p1.distance(this._offset1.p0)<this._distance*x.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR)this._segList.addPt(this._offset0.p1);else{if(this._segList.addPt(this._offset0.p1),0<this._closingSegLengthFactor){const e=new _.a((this._closingSegLengthFactor*this._offset0.p1.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset0.p1.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(e);const t=new _.a((this._closingSegLengthFactor*this._offset1.p0.x+this._s1.x)/(this._closingSegLengthFactor+1),(this._closingSegLengthFactor*this._offset1.p0.y+this._s1.y)/(this._closingSegLengthFactor+1));this._segList.addPt(t)}else this._segList.addPt(this._s1);this._segList.addPt(this._offset1.p0)}}createCircle(e){const t=new _.a(e.x+this._distance,e.y);this._segList.addPt(t),this.addDirectedFillet(e,0,2*s,-1,this._distance),this._segList.closeRing()}addBevelJoin(e,t){this._segList.addPt(e.p1),this._segList.addPt(t.p0)}init(e){this._distance=e,this._maxCurveSegmentError=e*(1-c(this._filletAngleQuantum/2)),this._segList=new p.a,this._segList.setPrecisionModel(this._precisionModel),this._segList.setMinimumVertexDistance(e*x.CURVE_VERTEX_SNAP_DISTANCE_FACTOR)}addCollinear(e){this._li.computeIntersection(this._s0,this._s1,this._s1,this._s2);const t=this._li.getIntersectionNum();2<=t&&(this._bufParams.getJoinStyle()===a.a.JOIN_BEVEL||this._bufParams.getJoinStyle()===a.a.JOIN_MITRE?(e&&this._segList.addPt(this._offset0.p1),this._segList.addPt(this._offset1.p0)):this.addCornerFillet(this._s1,this._offset0.p1,this._offset1.p0,g.a.CLOCKWISE,this._distance))}closeRing(){this._segList.closeRing()}hasNarrowConcaveAngle(){return this._hasNarrowConcaveAngle}getClass(){return x}get interfaces_(){return[]}}o.a=x,x.constructor_=function(){this._maxCurveSegmentError=0,this._filletAngleQuantum=null,this._closingSegLengthFactor=1,this._segList=null,this._distance=0,this._precisionModel=null,this._bufParams=null,this._li=null,this._s0=null,this._s1=null,this._s2=null,this._seg0=new y.a,this._seg1=new y.a,this._offset0=new y.a,this._offset1=new y.a,this._side=0,this._hasNarrowConcaveAngle=!1;const e=arguments[0],t=arguments[1],o=arguments[2];this._precisionModel=e,this._bufParams=t,this._li=new h.a,this._filletAngleQuantum=s/2/t.getQuadrantSegments(),8<=t.getQuadrantSegments()&&t.getJoinStyle()===a.a.JOIN_ROUND&&(this._closingSegLengthFactor=x.MAX_CLOSING_SEG_LEN_FACTOR),this.init(o)},x.OFFSET_SEGMENT_SEPARATION_FACTOR=1e-3,x.INSIDE_TURN_VERTEX_SNAP_DISTANCE_FACTOR=1e-3,x.CURVE_VERTEX_SNAP_DISTANCE_FACTOR=1e-6,x.MAX_CLOSING_SEG_LEN_FACTOR=80},function(e,t,o){'use strict';var n=o(36),a=o(1),i=o(0);class r{constructor(){r.constructor_.apply(this,arguments)}getCoordinates(){const e=this._ptList.toArray(r.COORDINATE_ARRAY_TYPE);return e}setPrecisionModel(e){this._precisionModel=e}addPt(e){const t=new a.a(e);return this._precisionModel.makePrecise(t),this.isRedundant(t)?null:void this._ptList.add(t)}reverse(){}addPts(e,t){if(t)for(let t=0;t<e.length;t++)this.addPt(e[t]);else for(let t=e.length-1;0<=t;t--)this.addPt(e[t])}isRedundant(e){if(1>this._ptList.size())return!1;const t=this._ptList.get(this._ptList.size()-1),o=e.distance(t);return!!(o<this._minimimVertexDistance)}toString(){const e=new n.a,t=e.createLineString(this.getCoordinates());return t.toString()}closeRing(){if(1>this._ptList.size())return null;const e=new a.a(this._ptList.get(0)),t=this._ptList.get(this._ptList.size()-1);let o=null;return 2<=this._ptList.size()&&(o=this._ptList.get(this._ptList.size()-2)),e.equals(t)?null:void this._ptList.add(e)}setMinimumVertexDistance(e){this._minimimVertexDistance=e}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._ptList=null,this._precisionModel=null,this._minimimVertexDistance=0,this._ptList=new i.a},r.COORDINATE_ARRAY_TYPE=[].fill(null)},function(e,t,o){'use strict';var n=o(3),a=o(10),i=o(1),r=o(17),s=o(67),d=o(194),l=o(68),p=o(16),_=o(0),g=o(78);class c{constructor(){c.constructor_.apply(this,arguments)}findStabbedSegments(){if(1===arguments.length){const e=arguments[0],t=new _.a;for(let o=this._subgraphs.iterator();o.hasNext();){const n=o.next(),a=n.getEnvelope();e.y<a.getMinY()||e.y>a.getMaxY()||this.findStabbedSegments(e,n.getDirectedEdges(),t)}return t}if(3===arguments.length)if(Object(n.a)(arguments[2],g.a)&&arguments[0]instanceof i.a&&arguments[1]instanceof d.a){const e=arguments[0],t=arguments[1],o=arguments[2],n=t.getEdge().getCoordinates();for(let s=0;s<n.length-1;s++){this._seg.p0=n[s],this._seg.p1=n[s+1],this._seg.p0.y>this._seg.p1.y&&this._seg.reverse();const i=E(this._seg.p0.x,this._seg.p1.x);if(i<e.x)continue;if(this._seg.isHorizontal())continue;if(e.y<this._seg.p0.y||e.y>this._seg.p1.y)continue;if(r.a.index(this._seg.p0,this._seg.p1,e)===r.a.RIGHT)continue;let d=t.getDepth(a.a.LEFT);this._seg.p0.equals(n[s])||(d=t.getDepth(a.a.RIGHT));const l=new u(this._seg,d);o.add(l)}}else if(Object(n.a)(arguments[2],g.a)&&arguments[0]instanceof i.a&&Object(n.a)(arguments[1],g.a)){const e=arguments[0],t=arguments[1],o=arguments[2];for(let n=t.iterator();n.hasNext();){const t=n.next();t.isForward()&&this.findStabbedSegments(e,t,o)}}}getDepth(e){const t=this.findStabbedSegments(e);if(0===t.size())return 0;const o=s.a.min(t);return o._leftDepth}getClass(){return c}get interfaces_(){return[]}}t.a=c;class u{constructor(){u.constructor_.apply(this,arguments)}compareTo(e){const t=e;if(this._upwardSeg.minX()>=t._upwardSeg.maxX())return 1;if(this._upwardSeg.maxX()<=t._upwardSeg.minX())return-1;let o=this._upwardSeg.orientationIndex(t._upwardSeg);return 0===o?(o=-1*t._upwardSeg.orientationIndex(this._upwardSeg),0===o?this._upwardSeg.compareTo(t._upwardSeg):o):o}compareX(e,t){const o=e.p0.compareTo(t.p0);return 0===o?e.p1.compareTo(t.p1):o}toString(){return this._upwardSeg.toString()}getClass(){return u}get interfaces_(){return[p.a]}}u.constructor_=function(){this._upwardSeg=null,this._leftDepth=null;const e=arguments[0],t=arguments[1];this._upwardSeg=new l.a(e),this._leftDepth=t},c.DepthSegment=u,c.constructor_=function(){this._subgraphs=null,this._seg=new l.a;const e=arguments[0];this._subgraphs=e}},function(e,t,o){'use strict';var n=o(9),a=o(27),r=o(10),i=o(64),s=o(85),d=o(49),p=o(83),_=o(50),g=o(17),c=o(65),u=o(29),y=o(25),m=o(46),h=o(0),f=o(104),x=o(47),I=o(341);class E{constructor(){E.constructor_.apply(this,arguments)}addPoint(e){if(0>=this._distance)return null;const t=e.getCoordinates(),o=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(o,n.a.EXTERIOR,n.a.INTERIOR)}addPolygon(e){let t=this._distance,o=r.a.LEFT;0>this._distance&&(t=-this._distance,o=r.a.RIGHT);const a=e.getExteriorRing(),i=m.a.removeRepeatedPoints(a.getCoordinates());if(0>this._distance&&this.isErodedCompletely(a,this._distance))return null;if(0>=this._distance&&3>i.length)return null;this.addPolygonRing(i,t,o,n.a.EXTERIOR,n.a.INTERIOR);for(let a=0;a<e.getNumInteriorRing();a++){const i=e.getInteriorRingN(a),s=m.a.removeRepeatedPoints(i.getCoordinates());0<this._distance&&this.isErodedCompletely(i,-this._distance)||this.addPolygonRing(s,t,r.a.opposite(o),n.a.INTERIOR,n.a.EXTERIOR)}}isTriangleErodedCompletely(e,t){const o=new I.a(e[0],e[1],e[2]),n=o.inCentre(),a=f.a.pointToSegment(n,o.p0,o.p1);return a<l(t)}addLineString(e){if(0>=this._distance&&!this._curveBuilder.getBufferParameters().isSingleSided())return null;const t=m.a.removeRepeatedPoints(e.getCoordinates()),o=this._curveBuilder.getLineCurve(t,this._distance);this.addCurve(o,n.a.EXTERIOR,n.a.INTERIOR)}addCurve(t,o,a){if(null===t||2>t.length)return null;const i=new s.a(t,new u.a(0,n.a.BOUNDARY,o,a));this._curveList.add(i)}getCurves(){return this.add(this._inputGeom),this._curveList}addPolygonRing(e,t,o,n,a){if(0===t&&e.length<_.a.MINIMUM_VALID_SIZE)return null;let i=n,s=a;e.length>=_.a.MINIMUM_VALID_SIZE&&g.a.isCCW(e)&&(i=a,s=n,o=r.a.opposite(o));const d=this._curveBuilder.getRingCurve(e,o,t);this.addCurve(d,i,s)}add(e){if(e.isEmpty())return null;if(e instanceof d.a)this.addPolygon(e);else if(e instanceof a.a)this.addLineString(e);else if(e instanceof i.a)this.addPoint(e);else if(e instanceof p.a)this.addCollection(e);else if(e instanceof x.a)this.addCollection(e);else if(e instanceof c.a)this.addCollection(e);else if(e instanceof y.a)this.addCollection(e);else throw new UnsupportedOperationException(e.getClass().getName())}isErodedCompletely(e,t){const o=e.getCoordinates();if(4>o.length)return 0>t;if(4===o.length)return this.isTriangleErodedCompletely(o,t);const n=e.getEnvelopeInternal(),a=C(n.getHeight(),n.getWidth());return 0>t&&2*l(t)>a}addCollection(e){for(let t=0;t<e.getNumGeometries();t++){const o=e.getGeometryN(t);this.add(o)}}getClass(){return E}get interfaces_(){return[]}}t.a=E,E.constructor_=function(){this._inputGeom=null,this._distance=null,this._curveBuilder=null,this._curveList=new h.a;const e=arguments[0],t=arguments[1],o=arguments[2];this._inputGeom=e,this._distance=t,this._curveBuilder=o}},function(e,t,o){'use strict';var n=o(1),a=o(5),i=o(202),r=o(103);class s{constructor(){s.constructor_.apply(this,arguments)}static area(e,t,o){return l(((o.x-e.x)*(t.y-e.y)-(t.x-e.x)*(o.y-e.y))/2)}static signedArea(e,t,o){return((o.x-e.x)*(t.y-e.y)-(t.x-e.x)*(o.y-e.y))/2}static det(e,t,o,n){return e*n-t*o}static interpolateZ(e,t,o,n){const i=t.x,r=t.y,s=o.x-i,a=n.x-i,l=o.y-r,p=n.y-r,d=s*p-a*l,_=e.x-i,g=e.y-r,u=t.z+(p*_-a*g)/d*(o.z-t.z)+(-l*_+s*g)/d*(n.z-t.z);return u}static longestSideLength(e,t,o){const n=e.distance(t),a=t.distance(o),i=o.distance(e);let r=n;return a>r&&(r=a),i>r&&(r=i),r}static isAcute(e,t,o){return!!i.a.isAcute(e,t,o)&&!!i.a.isAcute(t,o,e)&&!!i.a.isAcute(o,e,t)}static circumcentre(e,t,o){const a=o.x,i=o.y,r=e.x-a,d=e.y-i,l=t.x-a,p=t.y-i,_=2*s.det(r,d,l,p),g=s.det(d,r*r+d*d,p,l*l+p*p),c=s.det(r,r*r+d*d,l,l*l+p*p);return new n.a(a-g/_,i+c/_)}static perpendicularBisector(e,t){const o=t.x-e.x,n=t.y-e.y,a=new r.a(e.x+o/2,e.y+n/2,1),i=new r.a(e.x-n+o/2,e.y+o+n/2,1);return new r.a(a,i)}static angleBisector(e,t,o){const a=t.distance(e),i=t.distance(o),r=a/(a+i),s=o.x-e.x,d=o.y-e.y,l=new n.a(e.x+r*s,e.y+r*d);return l}static area3D(e,t,o){const n=t.x-e.x,a=t.y-e.y,i=t.z-e.z,r=o.x-e.x,s=o.y-e.y,d=o.z-e.z,l=a*d-i*s,p=i*r-n*d,_=n*s-a*r,g=N(l*l+p*p+_*_)/2;return g}static centroid(e,t,o){const a=(e.x+t.x+o.x)/3,i=(e.y+t.y+o.y)/3;return new n.a(a,i)}static inCentre(e,t,o){const a=t.distance(o),i=e.distance(o),r=e.distance(t),s=a+i+r,d=(a*e.x+i*t.x+r*o.x)/s,l=(a*e.y+i*t.y+r*o.y)/s;return new n.a(d,l)}area(){return s.area(this.p0,this.p1,this.p2)}signedArea(){return s.signedArea(this.p0,this.p1,this.p2)}interpolateZ(e){if(null===e)throw new a.a('Supplied point is null.');return s.interpolateZ(e,this.p0,this.p1,this.p2)}longestSideLength(){return s.longestSideLength(this.p0,this.p1,this.p2)}isAcute(){return s.isAcute(this.p0,this.p1,this.p2)}circumcentre(){return s.circumcentre(this.p0,this.p1,this.p2)}area3D(){return s.area3D(this.p0,this.p1,this.p2)}centroid(){return s.centroid(this.p0,this.p1,this.p2)}inCentre(){return s.inCentre(this.p0,this.p1,this.p2)}getClass(){return s}get interfaces_(){return[]}}t.a=s,s.constructor_=function(){this.p0=null,this.p1=null,this.p2=null;const e=arguments[0],t=arguments[1],o=arguments[2];this.p0=e,this.p1=t,this.p2=o}},function(e,t,o){'use strict';var n=o(9),a=o(10),i=o(37),r=o(343),s=o(28),d=o(29),l=o(0),p=o(84),_=o(4);class g extends r.a{constructor(){super(),g.constructor_.apply(this,arguments)}linkResultDirectedEdges(){this.getResultAreaEdges();let e=null,t=null,o=this._SCANNING_FOR_INCOMING;for(let n=0;n<this._resultAreaEdgeList.size();n++){const a=this._resultAreaEdgeList.get(n),i=a.getSym();if(a.getLabel().isArea())switch(null==e&&a.isInResult()&&(e=a),o){case this._SCANNING_FOR_INCOMING:if(!i.isInResult())continue;t=i,o=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(!a.isInResult())continue;t.setNext(a),o=this._SCANNING_FOR_INCOMING;}}if(o===this._LINKING_TO_OUTGOING){if(null===e)throw new i.a('no outgoing dirEdge found',this.getCoordinate());_.a.isTrue(e.isInResult(),'unable to link last incoming dirEdge'),t.setNext(e)}}insert(e){const t=e;this.insertEdgeEnd(t,t)}getRightmostEdge(){const e=this.getEdges(),t=e.size();if(1>t)return null;const o=e.get(0);if(1===t)return o;const n=e.get(t-1),a=o.getQuadrant(),i=n.getQuadrant();if(p.a.isNorthern(a)&&p.a.isNorthern(i))return o;if(!p.a.isNorthern(a)&&!p.a.isNorthern(i))return n;else{if(0!==o.getDy())return o;if(0!==n.getDy())return n}return _.a.shouldNeverReachHere('found two horizontal edges incident on node'),null}print(e){s.a.out.println('DirectedEdgeStar: '+this.getCoordinate());for(let t=this.iterator();t.hasNext();){const o=t.next();e.print('out '),o.print(e),e.println(),e.print('in '),o.getSym().print(e),e.println()}}getResultAreaEdges(){if(null!==this._resultAreaEdgeList)return this._resultAreaEdgeList;this._resultAreaEdgeList=new l.a;for(let e=this.iterator();e.hasNext();){const t=e.next();(t.isInResult()||t.getSym().isInResult())&&this._resultAreaEdgeList.add(t)}return this._resultAreaEdgeList}updateLabelling(e){for(let t=this.iterator();t.hasNext();){const o=t.next(),n=o.getLabel();n.setAllLocationsIfNull(0,e.getLocation(0)),n.setAllLocationsIfNull(1,e.getLocation(1))}}linkAllDirectedEdges(){this.getEdges();let e=null,t=null;for(let o=this._edgeList.size()-1;0<=o;o--){const n=this._edgeList.get(o),a=n.getSym();null==t&&(t=a),null!=e&&a.setNext(e),e=n}t.setNext(e)}computeDepths(){if(1===arguments.length){const e=arguments[0],t=this.findIndex(e),o=e.getDepth(a.a.LEFT),n=e.getDepth(a.a.RIGHT),r=this.computeDepths(t+1,this._edgeList.size(),o),s=this.computeDepths(0,t,r);if(s!==n)throw new i.a('depth mismatch at '+e.getCoordinate())}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];let n=o;for(let o=e;o<t;o++){const e=this._edgeList.get(o);e.setEdgeDepths(a.a.RIGHT,n),n=e.getDepth(a.a.LEFT)}return n}}mergeSymLabels(){for(let e=this.iterator();e.hasNext();){const t=e.next(),o=t.getLabel();o.merge(t.getSym().getLabel())}}linkMinimalDirectedEdges(e){let t=null,o=null,n=this._SCANNING_FOR_INCOMING;for(let a=this._resultAreaEdgeList.size()-1;0<=a;a--){const i=this._resultAreaEdgeList.get(a),r=i.getSym();switch(null==t&&i.getEdgeRing()===e&&(t=i),n){case this._SCANNING_FOR_INCOMING:if(r.getEdgeRing()!==e)continue;o=r,n=this._LINKING_TO_OUTGOING;break;case this._LINKING_TO_OUTGOING:if(i.getEdgeRing()!==e)continue;o.setNextMin(i),n=this._SCANNING_FOR_INCOMING;}}n===this._LINKING_TO_OUTGOING&&(_.a.isTrue(null!==t,'found null for first outgoing dirEdge'),_.a.isTrue(t.getEdgeRing()===e,'unable to link last incoming dirEdge'),o.setNextMin(t))}getOutgoingDegree(){if(0===arguments.length){let e=0;for(let t=this.iterator();t.hasNext();){const o=t.next();o.isInResult()&&e++}return e}if(1===arguments.length){const e=arguments[0];let t=0;for(let o=this.iterator();o.hasNext();){const n=o.next();n.getEdgeRing()===e&&t++}return t}}getLabel(){return this._label}findCoveredLineEdges(){let e=n.a.NONE;for(let t=this.iterator();t.hasNext();){const o=t.next(),a=o.getSym();if(!o.isLineEdge()){if(o.isInResult()){e=n.a.INTERIOR;break}if(a.isInResult()){e=n.a.EXTERIOR;break}}}if(e===n.a.NONE)return null;let t=e;for(let e=this.iterator();e.hasNext();){const o=e.next(),a=o.getSym();o.isLineEdge()?o.getEdge().setCovered(t===n.a.INTERIOR):(o.isInResult()&&(t=n.a.EXTERIOR),a.isInResult()&&(t=n.a.INTERIOR))}}computeLabelling(e){super.computeLabelling.call(this,e),this._label=new d.a(n.a.NONE);for(let t=this.iterator();t.hasNext();){const o=t.next(),a=o.getEdge(),e=a.getLabel();for(let t=0;2>t;t++){const o=e.getLocation(t);(o===n.a.INTERIOR||o===n.a.BOUNDARY)&&this._label.setLocation(t,n.a.INTERIOR)}}}getClass(){return g}get interfaces_(){return[]}}t.a=g,g.constructor_=function(){this._resultAreaEdgeList=null,this._label=null,this._SCANNING_FOR_INCOMING=1,this._LINKING_TO_OUTGOING=2}},function(e,t,o){'use strict';var n=o(99),a=o(9),i=o(10),r=o(37),s=o(28),d=o(344),l=o(0),p=o(4),_=o(63);class g{constructor(){g.constructor_.apply(this,arguments)}getNextCW(e){this.getEdges();const t=this._edgeList.indexOf(e);let o=t-1;return 0===t&&(o=this._edgeList.size()-1),this._edgeList.get(o)}propagateSideLabels(t){let o=a.a.NONE;for(let n=this.iterator();n.hasNext();){const r=n.next(),e=r.getLabel();e.isArea(t)&&e.getLocation(t,i.a.LEFT)!==a.a.NONE&&(o=e.getLocation(t,i.a.LEFT))}if(o===a.a.NONE)return null;let n=o;for(let o=this.iterator();o.hasNext();){const s=o.next(),e=s.getLabel();if(e.getLocation(t,i.a.ON)===a.a.NONE&&e.setLocation(t,i.a.ON,n),e.isArea(t)){const o=e.getLocation(t,i.a.LEFT),d=e.getLocation(t,i.a.RIGHT);if(d!==a.a.NONE){if(d!==n)throw new r.a('side location conflict',s.getCoordinate());o===a.a.NONE&&p.a.shouldNeverReachHere('found single null side (at '+s.getCoordinate()+')'),n=o}else p.a.isTrue(e.getLocation(t,i.a.LEFT)===a.a.NONE,'found single null side'),e.setLocation(t,i.a.RIGHT,n),e.setLocation(t,i.a.LEFT,n)}}}getCoordinate(){const t=this.iterator();if(!t.hasNext())return null;const o=t.next();return o.getCoordinate()}print(t){s.a.out.println('EdgeEndStar:   '+this.getCoordinate());for(let o=this.iterator();o.hasNext();){const n=o.next();n.print(t)}}isAreaLabelsConsistent(e){return this.computeEdgeEndLabels(e.getBoundaryNodeRule()),this.checkAreaLabelsConsistent(0)}checkAreaLabelsConsistent(t){const e=this.getEdges();if(0>=e.size())return!0;const o=e.size()-1,n=e.get(o).getLabel(),r=n.getLocation(t,i.a.LEFT);p.a.isTrue(r!==a.a.NONE,'Found unlabelled area edge');let s=r;for(let o=this.iterator();o.hasNext();){const n=o.next(),e=n.getLabel();p.a.isTrue(e.isArea(t),'Found non-area edge');const a=e.getLocation(t,i.a.LEFT),r=e.getLocation(t,i.a.RIGHT);if(a===r)return!1;if(r!==s)return!1;s=a}return!0}findIndex(t){this.iterator();for(let o=0;o<this._edgeList.size();o++){const n=this._edgeList.get(o);if(n===t)return o}return-1}iterator(){return this.getEdges().iterator()}getEdges(){return null===this._edgeList&&(this._edgeList=new l.a(this._edgeMap.values())),this._edgeList}getLocation(e,t,o){return this._ptInAreaLocation[e]===a.a.NONE&&(this._ptInAreaLocation[e]=d.a.locate(t,o[e].getGeometry())),this._ptInAreaLocation[e]}toString(){const t=new n.a;t.append('EdgeEndStar:   '+this.getCoordinate()),t.append('\n');for(let o=this.iterator();o.hasNext();){const n=o.next();t.append(n),t.append('\n')}return t.toString()}computeEdgeEndLabels(e){for(let t=this.iterator();t.hasNext();){const o=t.next();o.computeLabel(e)}}computeLabelling(t){this.computeEdgeEndLabels(t[0].getBoundaryNodeRule()),this.propagateSideLabels(0),this.propagateSideLabels(1);const o=[!1,!1];for(let n=this.iterator();n.hasNext();){const t=n.next(),e=t.getLabel();for(let t=0;2>t;t++)e.isLine(t)&&e.getLocation(t)===a.a.BOUNDARY&&(o[t]=!0)}for(let n=this.iterator();n.hasNext();){const i=n.next(),e=i.getLabel();for(let n=0;2>n;n++)if(e.isAnyNull(n)){let r=a.a.NONE;if(o[n])r=a.a.EXTERIOR;else{const e=i.getCoordinate();r=this.getLocation(n,e,t)}e.setAllLocationsIfNull(n,r)}}}getDegree(){return this._edgeMap.size()}insertEdgeEnd(t,e){this._edgeMap.put(t,e),this._edgeList=null}getClass(){return g}get interfaces_(){return[]}}t.a=g,g.constructor_=function(){this._edgeMap=new _.a,this._edgeList=null,this._ptInAreaLocation=[a.a.NONE,a.a.NONE]}},function(e,t,o){'use strict';var n=o(9),a=o(49),i=o(101),r=o(204),s=o(205),d=o(25);class l{constructor(){l.constructor_.apply(this,arguments)}static locatePointInPolygon(e,t){if(t.isEmpty())return n.a.EXTERIOR;const o=t.getExteriorRing(),a=l.locatePointInRing(e,o);if(a!==n.a.INTERIOR)return a;for(let o=0;o<t.getNumInteriorRing();o++){const a=t.getInteriorRingN(o),i=l.locatePointInRing(e,a);if(i===n.a.BOUNDARY)return n.a.BOUNDARY;if(i===n.a.INTERIOR)return n.a.EXTERIOR}return n.a.INTERIOR}static locatePointInRing(e,t){return t.getEnvelopeInternal().intersects(e)?i.a.locateInRing(e,t.getCoordinates()):n.a.EXTERIOR}static containsPointInPolygon(e,t){return n.a.EXTERIOR!==l.locatePointInPolygon(e,t)}static locateInGeometry(e,t){if(t instanceof a.a)return l.locatePointInPolygon(e,t);if(t instanceof d.a)for(const o=new s.a(t);o.hasNext();){const a=o.next();if(a!==t){const t=l.locateInGeometry(e,a);if(t!==n.a.EXTERIOR)return t}}return n.a.EXTERIOR}static locate(e,t){return t.isEmpty()?n.a.EXTERIOR:l.locateInGeometry(e,t)}locate(e){return l.locate(e,this._geom)}getClass(){return l}get interfaces_(){return[r.a]}}t.a=l,l.constructor_=function(){this._geom=null;const e=arguments[0];this._geom=e}},function(e,t,o){'use strict';var n=o(16),a=o(46);class i{constructor(){i.constructor_.apply(this,arguments)}static orientation(e){return 1===a.a.increasingDirection(e)}static compareOriented(e,t,o,n){const a=t?1:-1,i=n?1:-1,r=t?e.length:-1,s=n?o.length:-1;let d=t?0:e.length-1,l=n?0:o.length-1;for(;;){const t=e[d].compareTo(o[l]);if(0!==t)return t;d+=a,l+=i;const n=d===r,p=l===s;if(n&&!p)return-1;if(!n&&p)return 1;if(n&&p)return 0}}compareTo(e){const t=e,o=i.compareOriented(this._pts,this._orientation,t._pts,t._orientation);return o}getClass(){return i}get interfaces_(){return[n.a]}}t.a=i,i.constructor_=function(){this._pts=null,this._orientation=null;const e=arguments[0];this._pts=e,this._orientation=i.orientation(e)}},function(e,t,o){'use strict';var n=o(136);class a{constructor(){a.constructor_.apply(this,arguments)}static isAdjacentSegments(e,t){return 1===l(e-t)}isTrivialIntersection(e,t,o,n){if(e===o&&1===this._li.getIntersectionNum()){if(a.isAdjacentSegments(t,n))return!0;if(e.isClosed()){const o=e.size()-1;if(0===t&&n===o||0===n&&t===o)return!0}}return!1}getProperIntersectionPoint(){return this._properIntersectionPoint}hasProperInteriorIntersection(){return this._hasProperInterior}getLineIntersector(){return this._li}hasProperIntersection(){return this._hasProper}processIntersections(e,t,o,n){if(e===o&&t===n)return null;this.numTests++;const a=e.getCoordinates()[t],i=e.getCoordinates()[t+1],r=o.getCoordinates()[n],s=o.getCoordinates()[n+1];this._li.computeIntersection(a,i,r,s),this._li.hasIntersection()&&(this.numIntersections++,this._li.isInteriorIntersection()&&(this.numInteriorIntersections++,this._hasInterior=!0),!this.isTrivialIntersection(e,t,o,n)&&(this._hasIntersection=!0,e.addIntersections(this._li,t,0),o.addIntersections(this._li,n,1),this._li.isProper()&&(this.numProperIntersections++,this._hasProper=!0,this._hasProperInterior=!0)))}hasIntersection(){return this._hasIntersection}isDone(){return!1}hasInteriorIntersection(){return this._hasInterior}getClass(){return a}get interfaces_(){return[n.a]}}t.a=a,a.constructor_=function(){this._hasIntersection=!1,this._hasProper=!1,this._hasProperInterior=!1,this._hasInterior=!1,this._properIntersectionPoint=null,this._li=null,this._isSelfIntersection=null,this.numIntersections=0,this.numInteriorIntersections=0,this.numProperIntersections=0,this.numTests=0;const e=arguments[0];this._li=e}},function(e,t,o){'use strict';var n=o(348),a=o(1),i=o(29),r=o(137),s=o(63);class d{constructor(){d.constructor_.apply(this,arguments)}print(e){e.println('Intersections:');for(let t=this.iterator();t.hasNext();){const o=t.next();o.print(e)}}iterator(){return this._nodeMap.values().iterator()}addSplitEdges(e){this.addEndpoints();const t=this.iterator();for(let o=t.next();t.hasNext();){const n=t.next(),a=this.createSplitEdge(o,n);e.add(a),o=n}}addEndpoints(){const e=this.edge.pts.length-1;this.add(this.edge.pts[0],0,0),this.add(this.edge.pts[e],e,0)}createSplitEdge(e,t){let o=t.segmentIndex-e.segmentIndex+2;const n=this.edge.pts[t.segmentIndex],s=0<t.dist||!t.coord.equals2D(n);s||o--;const d=Array(o).fill(null);let l=0;d[l++]=new a.a(e.coord);for(let o=e.segmentIndex+1;o<=t.segmentIndex;o++)d[l++]=this.edge.pts[o];return s&&(d[l]=t.coord),new r.a(d,new i.a(this.edge._label))}add(e,t,o){const a=new n.a(e,t,o),i=this._nodeMap.get(a);return null===i?(this._nodeMap.put(a,a),a):i}isIntersection(e){for(let t=this.iterator();t.hasNext();){const o=t.next();if(o.coord.equals(e))return!0}return!1}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){this._nodeMap=new s.a,this.edge=null;const e=arguments[0];this.edge=e}},function(e,t,o){'use strict';var n=o(1),a=o(16);class i{constructor(){i.constructor_.apply(this,arguments)}getSegmentIndex(){return this.segmentIndex}getCoordinate(){return this.coord}print(e){e.print(this.coord),e.print(' seg # = '+this.segmentIndex),e.println(' dist = '+this.dist)}compareTo(e){const t=e;return this.compare(t.segmentIndex,t.dist)}isEndPoint(e){return 0===this.segmentIndex&&0===this.dist||!(this.segmentIndex!==e)}toString(){return this.coord+' seg # = '+this.segmentIndex+' dist = '+this.dist}getDistance(){return this.dist}compare(e,t){return this.segmentIndex<e?-1:this.segmentIndex>e?1:this.dist<t?-1:this.dist>t?1:0}getClass(){return i}get interfaces_(){return[a.a]}}t.a=i,i.constructor_=function(){this.coord=null,this.segmentIndex=null,this.dist=null;const e=arguments[0],t=arguments[1],o=arguments[2];this.coord=new n.a(e),this.segmentIndex=t,this.dist=o}},function(e,t,o){'use strict';var a=o(9),i=o(5),r=o(48),s=o(76),d=o(80);class l{constructor(){l.constructor_.apply(this,arguments)}static matches(){if(n(arguments[0])&&'string'==typeof arguments[1]){const e=arguments[0],t=arguments[1];return!(t!==r.a.SYM_DONTCARE)||t===r.a.SYM_TRUE&&(0<=e||e===r.a.TRUE)||t===r.a.SYM_FALSE&&e===r.a.FALSE||t===r.a.SYM_P&&e===r.a.P||t===r.a.SYM_L&&e===r.a.L||t===r.a.SYM_A&&e===r.a.A}if('string'==typeof arguments[0]&&'string'==typeof arguments[1]){const e=arguments[0],t=arguments[1],o=new l(e);return o.matches(t)}}static isTrue(e){return 0<=e||e===r.a.TRUE}isIntersects(){return!this.isDisjoint()}isCovers(){const e=l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])||l.isTrue(this._matrix[a.a.INTERIOR][a.a.BOUNDARY])||l.isTrue(this._matrix[a.a.BOUNDARY][a.a.INTERIOR])||l.isTrue(this._matrix[a.a.BOUNDARY][a.a.BOUNDARY]);return e&&this._matrix[a.a.EXTERIOR][a.a.INTERIOR]===r.a.FALSE&&this._matrix[a.a.EXTERIOR][a.a.BOUNDARY]===r.a.FALSE}isCoveredBy(){const e=l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])||l.isTrue(this._matrix[a.a.INTERIOR][a.a.BOUNDARY])||l.isTrue(this._matrix[a.a.BOUNDARY][a.a.INTERIOR])||l.isTrue(this._matrix[a.a.BOUNDARY][a.a.BOUNDARY]);return e&&this._matrix[a.a.INTERIOR][a.a.EXTERIOR]===r.a.FALSE&&this._matrix[a.a.BOUNDARY][a.a.EXTERIOR]===r.a.FALSE}set(){if(1===arguments.length){const e=arguments[0];for(let t=0;t<e.length;t++){const o=u(t/3),n=t%3;this._matrix[o][n]=r.a.toDimensionValue(e.charAt(t))}}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];this._matrix[e][t]=o}}isContains(){return l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])&&this._matrix[a.a.EXTERIOR][a.a.INTERIOR]===r.a.FALSE&&this._matrix[a.a.EXTERIOR][a.a.BOUNDARY]===r.a.FALSE}setAtLeast(){if(1===arguments.length){const e=arguments[0];for(let t=0;t<e.length;t++){const o=u(t/3),n=t%3;this.setAtLeast(o,n,r.a.toDimensionValue(e.charAt(t)))}}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];this._matrix[e][t]<o&&(this._matrix[e][t]=o)}}setAtLeastIfValid(e,t,o){0<=e&&0<=t&&this.setAtLeast(e,t,o)}isWithin(){return l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])&&this._matrix[a.a.INTERIOR][a.a.EXTERIOR]===r.a.FALSE&&this._matrix[a.a.BOUNDARY][a.a.EXTERIOR]===r.a.FALSE}isTouches(e,t){return e>t?this.isTouches(t,e):(e===r.a.A&&t===r.a.A||e===r.a.L&&t===r.a.L||e===r.a.L&&t===r.a.A||e===r.a.P&&t===r.a.A||e===r.a.P&&t===r.a.L)&&this._matrix[a.a.INTERIOR][a.a.INTERIOR]===r.a.FALSE&&(l.isTrue(this._matrix[a.a.INTERIOR][a.a.BOUNDARY])||l.isTrue(this._matrix[a.a.BOUNDARY][a.a.INTERIOR])||l.isTrue(this._matrix[a.a.BOUNDARY][a.a.BOUNDARY]))}isOverlaps(e,t){return e===r.a.P&&t===r.a.P||e===r.a.A&&t===r.a.A?l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])&&l.isTrue(this._matrix[a.a.INTERIOR][a.a.EXTERIOR])&&l.isTrue(this._matrix[a.a.EXTERIOR][a.a.INTERIOR]):e===r.a.L&&t===r.a.L&&1===this._matrix[a.a.INTERIOR][a.a.INTERIOR]&&l.isTrue(this._matrix[a.a.INTERIOR][a.a.EXTERIOR])&&l.isTrue(this._matrix[a.a.EXTERIOR][a.a.INTERIOR])}isEquals(e,t){return!(e!==t)&&l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])&&this._matrix[a.a.INTERIOR][a.a.EXTERIOR]===r.a.FALSE&&this._matrix[a.a.BOUNDARY][a.a.EXTERIOR]===r.a.FALSE&&this._matrix[a.a.EXTERIOR][a.a.INTERIOR]===r.a.FALSE&&this._matrix[a.a.EXTERIOR][a.a.BOUNDARY]===r.a.FALSE}toString(){const e=new d.a('123456789');for(let t=0;3>t;t++)for(let o=0;3>o;o++)e.setCharAt(3*t+o,r.a.toDimensionSymbol(this._matrix[t][o]));return e.toString()}setAll(e){for(let t=0;3>t;t++)for(let o=0;3>o;o++)this._matrix[t][o]=e}get(e,t){return this._matrix[e][t]}transpose(){let e=this._matrix[1][0];return this._matrix[1][0]=this._matrix[0][1],this._matrix[0][1]=e,e=this._matrix[2][0],this._matrix[2][0]=this._matrix[0][2],this._matrix[0][2]=e,e=this._matrix[2][1],this._matrix[2][1]=this._matrix[1][2],this._matrix[1][2]=e,this}matches(e){if(9!==e.length)throw new i.a('Should be length 9: '+e);for(let t=0;3>t;t++)for(let o=0;3>o;o++)if(!l.matches(this._matrix[t][o],e.charAt(3*t+o)))return!1;return!0}add(e){for(let t=0;3>t;t++)for(let o=0;3>o;o++)this.setAtLeast(t,o,e.get(t,o))}isDisjoint(){return this._matrix[a.a.INTERIOR][a.a.INTERIOR]===r.a.FALSE&&this._matrix[a.a.INTERIOR][a.a.BOUNDARY]===r.a.FALSE&&this._matrix[a.a.BOUNDARY][a.a.INTERIOR]===r.a.FALSE&&this._matrix[a.a.BOUNDARY][a.a.BOUNDARY]===r.a.FALSE}isCrosses(e,t){return e===r.a.P&&t===r.a.L||e===r.a.P&&t===r.a.A||e===r.a.L&&t===r.a.A?l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])&&l.isTrue(this._matrix[a.a.INTERIOR][a.a.EXTERIOR]):e===r.a.L&&t===r.a.P||e===r.a.A&&t===r.a.P||e===r.a.A&&t===r.a.L?l.isTrue(this._matrix[a.a.INTERIOR][a.a.INTERIOR])&&l.isTrue(this._matrix[a.a.EXTERIOR][a.a.INTERIOR]):e===r.a.L&&t===r.a.L&&0===this._matrix[a.a.INTERIOR][a.a.INTERIOR]}getClass(){return l}get interfaces_(){return[s.a]}}t.a=l,l.constructor_=function(){if(this._matrix=null,0===arguments.length)this._matrix=[,,,].fill().map(()=>[,,,]),this.setAll(r.a.FALSE);else if(1===arguments.length)if('string'==typeof arguments[0]){const e=arguments[0];l.constructor_.call(this),this.set(e)}else if(arguments[0]instanceof l){const e=arguments[0];l.constructor_.call(this),this._matrix[a.a.INTERIOR][a.a.INTERIOR]=e._matrix[a.a.INTERIOR][a.a.INTERIOR],this._matrix[a.a.INTERIOR][a.a.BOUNDARY]=e._matrix[a.a.INTERIOR][a.a.BOUNDARY],this._matrix[a.a.INTERIOR][a.a.EXTERIOR]=e._matrix[a.a.INTERIOR][a.a.EXTERIOR],this._matrix[a.a.BOUNDARY][a.a.INTERIOR]=e._matrix[a.a.BOUNDARY][a.a.INTERIOR],this._matrix[a.a.BOUNDARY][a.a.BOUNDARY]=e._matrix[a.a.BOUNDARY][a.a.BOUNDARY],this._matrix[a.a.BOUNDARY][a.a.EXTERIOR]=e._matrix[a.a.BOUNDARY][a.a.EXTERIOR],this._matrix[a.a.EXTERIOR][a.a.INTERIOR]=e._matrix[a.a.EXTERIOR][a.a.INTERIOR],this._matrix[a.a.EXTERIOR][a.a.BOUNDARY]=e._matrix[a.a.EXTERIOR][a.a.BOUNDARY],this._matrix[a.a.EXTERIOR][a.a.EXTERIOR]=e._matrix[a.a.EXTERIOR][a.a.EXTERIOR]}}},function(e,t,o){'use strict';var n=o(351),a=o(23);class i{constructor(){i.constructor_.apply(this,arguments)}getCoordinates(){return this.pts}getMaxX(e){const t=this.pts[this.startIndex[e]].x,o=this.pts[this.startIndex[e+1]].x;return t>o?t:o}getMinX(e){const t=this.pts[this.startIndex[e]].x,o=this.pts[this.startIndex[e+1]].x;return t<o?t:o}computeIntersectsForChain(){if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3];this.computeIntersectsForChain(this.startIndex[e],this.startIndex[e+1],t,t.startIndex[o],t.startIndex[o+1],n)}else if(6===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3],a=arguments[4],i=arguments[5];if(1==t-e&&1==a-n)return i.addIntersections(this.e,e,o.e,n),null;if(!this.overlaps(e,t,o,n,a))return null;const r=u((e+t)/2),s=u((n+a)/2);e<r&&(n<s&&this.computeIntersectsForChain(e,r,o,n,s,i),s<a&&this.computeIntersectsForChain(e,r,o,s,a,i)),r<t&&(n<s&&this.computeIntersectsForChain(r,t,o,n,s,i),s<a&&this.computeIntersectsForChain(r,t,o,s,a,i))}}overlaps(e,t,o,n,i){return a.a.intersects(this.pts[e],this.pts[t],o.pts[n],o.pts[i])}getStartIndexes(){return this.startIndex}computeIntersects(e,t){for(let o=0;o<this.startIndex.length-1;o++)for(let n=0;n<e.startIndex.length-1;n++)this.computeIntersectsForChain(o,e,n,t)}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){this.e=null,this.pts=null,this.startIndex=null;const t=arguments[0];this.e=t,this.pts=t.getCoordinates();const e=new n.a;this.startIndex=e.getChainStartIndices(this.pts)}},function(e,t,o){'use strict';var n=o(81),a=o(0),i=o(84);class r{constructor(){r.constructor_.apply(this,arguments)}static toIntArray(e){const t=Array(e.size()).fill(null);for(let o=0;o<t.length;o++)t[o]=e.get(o).intValue();return t}getChainStartIndices(e){let t=0;const o=new a.a;o.add(new n.a(t));do{const a=this.findChainEnd(e,t);o.add(new n.a(a)),t=a}while(t<e.length-1);const i=r.toIntArray(o);return i}findChainEnd(e,t){const o=i.a.quadrant(e[t],e[t+1]);let n=t+1;for(;n<e.length;){const t=i.a.quadrant(e[n-1],e[n]);if(t!==o)break;n++}return n-1}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){}},function(e,t,o){'use strict';var n=o(9),a=o(10);class r{constructor(){r.constructor_.apply(this,arguments)}static depthAtLocation(e){return e===n.a.EXTERIOR?0:e===n.a.INTERIOR?1:r.NULL_VALUE}getDepth(e,t){return this._depth[e][t]}setDepth(e,t,o){this._depth[e][t]=o}isNull(){if(0===arguments.length){for(let e=0;2>e;e++)for(let t=0;3>t;t++)if(this._depth[e][t]!==r.NULL_VALUE)return!1;return!0}if(1===arguments.length){const e=arguments[0];return this._depth[e][1]===r.NULL_VALUE}if(2===arguments.length){const e=arguments[0],t=arguments[1];return this._depth[e][t]===r.NULL_VALUE}}normalize(){for(let e=0;2>e;e++)if(!this.isNull(e)){let t=this._depth[e][1];this._depth[e][2]<t&&(t=this._depth[e][2]),0>t&&(t=0);for(let o=1,n;3>o;o++)n=0,this._depth[e][o]>t&&(n=1),this._depth[e][o]=n}}getDelta(e){return this._depth[e][a.a.RIGHT]-this._depth[e][a.a.LEFT]}getLocation(e,t){return 0>=this._depth[e][t]?n.a.EXTERIOR:n.a.INTERIOR}toString(){return'A: '+this._depth[0][1]+','+this._depth[0][2]+' B: '+this._depth[1][1]+','+this._depth[1][2]}add(){if(1===arguments.length){const e=arguments[0];for(let t=0;2>t;t++)for(let o=1;3>o;o++){const a=e.getLocation(t,o);(a===n.a.EXTERIOR||a===n.a.INTERIOR)&&(this.isNull(t,o)?this._depth[t][o]=r.depthAtLocation(a):this._depth[t][o]+=r.depthAtLocation(a))}}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];o===n.a.INTERIOR&&this._depth[e][t]++}}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._depth=[,,].fill().map(()=>[,,,]);for(let e=0;2>e;e++)for(let t=0;3>t;t++)this._depth[e][t]=r.NULL_VALUE},r.NULL_VALUE=-1},function(e,t,n){'use strict';var a=n(3),i=n(32),r=n(135),s=n(1),d=n(85),l=n(28),p=n(46),_=n(0);class g{constructor(){g.constructor_.apply(this,arguments)}rescale(){if(Object(a.a)(arguments[0],i.a)){const e=arguments[0];for(let t=e.iterator();t.hasNext();){const e=t.next();this.rescale(e.getCoordinates())}}else if(arguments[0]instanceof Array){const e=arguments[0];let t=null,o=null;2===e.length&&(t=new s.a(e[0]),o=new s.a(e[1]));for(let t=0;t<e.length;t++)e[t].x=e[t].x/this._scaleFactor+this._offsetX,e[t].y=e[t].y/this._scaleFactor+this._offsetY;2===e.length&&e[0].equals2D(e[1])&&l.a.out.println(e)}}scale(){if(Object(a.a)(arguments[0],i.a)){const e=arguments[0],t=new _.a(e.size());for(let o=e.iterator();o.hasNext();){const e=o.next();t.add(new d.a(this.scale(e.getCoordinates()),e.getData()))}return t}if(arguments[0]instanceof Array){const e=arguments[0],t=Array(e.length).fill(null);for(let n=0;n<e.length;n++)t[n]=new s.a(o((e[n].x-this._offsetX)*this._scaleFactor),o((e[n].y-this._offsetY)*this._scaleFactor),e[n].z);const n=p.a.removeRepeatedPoints(t);return n}}isIntegerPrecision(){return 1===this._scaleFactor}getNodedSubstrings(){const e=this._noder.getNodedSubstrings();return this._isScaled&&this.rescale(e),e}computeNodes(e){let t=e;this._isScaled&&(t=this.scale(e)),this._noder.computeNodes(t)}getClass(){return g}get interfaces_(){return[r.a]}}t.a=g,g.constructor_=function(){if(this._noder=null,this._scaleFactor=null,this._offsetX=null,this._offsetY=null,this._isScaled=!1,2===arguments.length){const e=arguments[0],t=arguments[1];g.constructor_.call(this,e,t,0,0)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3];this._noder=e,this._scaleFactor=t,this._isScaled=!this.isIntegerPrecision()}}},function(e,t,o){'use strict';var n=o(355),a=o(3),i=o(32),r=o(135),s=o(133),d=o(85),l=o(356),p=o(190),_=o(357),g=o(38),c=o(359);class u{constructor(){u.constructor_.apply(this,arguments)}checkCorrectness(e){const t=d.a.getNodedSubstrings(e),o=new n.a(t);try{o.checkValid()}catch(e){if(e instanceof p.a)e.printStackTrace();else throw e}finally{}}getNodedSubstrings(){return d.a.getNodedSubstrings(this._nodedSegStrings)}snapRound(e,t){const o=this.findInteriorIntersections(e,t);this.computeIntersectionSnaps(o),this.computeVertexSnaps(e)}findInteriorIntersections(e,t){const o=new c.a(t);return this._noder.setSegmentIntersector(o),this._noder.computeNodes(e),o.getInteriorIntersections()}computeVertexSnaps(){if(Object(a.a)(arguments[0],i.a)){const e=arguments[0];for(let t=e.iterator();t.hasNext();){const e=t.next();this.computeVertexSnaps(e)}}else if(arguments[0]instanceof d.a){const t=arguments[0],e=t.getCoordinates();for(let o=0;o<e.length;o++){const n=new l.a(e[o],this._scaleFactor,this._li),a=this._pointSnapper.snap(n,t,o);a&&t.addIntersection(e[o],o)}}}computeNodes(e){this._nodedSegStrings=e,this._noder=new s.a,this._pointSnapper=new _.a(this._noder.getIndex()),this.snapRound(e,this._li)}computeIntersectionSnaps(e){for(let t=e.iterator();t.hasNext();){const e=t.next(),o=new l.a(e,this._scaleFactor,this._li);this._pointSnapper.snap(o)}}getClass(){return u}get interfaces_(){return[r.a]}}t.a=u,u.constructor_=function(){this._pm=null,this._li=null,this._scaleFactor=null,this._noder=null,this._pointSnapper=null,this._nodedSegStrings=null;const e=arguments[0];this._pm=e,this._li=new g.a,this._li.setPrecisionModel(e),this._scaleFactor=e.getScale()}},function(e,t,o){'use strict';var n=o(36),a=o(38),i=o(61);class r{constructor(){r.constructor_.apply(this,arguments)}checkEndPtVertexIntersections(){if(0===arguments.length)for(let e=this._segStrings.iterator();e.hasNext();){const t=e.next(),o=t.getCoordinates();this.checkEndPtVertexIntersections(o[0],this._segStrings),this.checkEndPtVertexIntersections(o[o.length-1],this._segStrings)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];for(let o=t.iterator();o.hasNext();){const t=o.next(),n=t.getCoordinates();for(let t=1;t<n.length-1;t++)if(n[t].equals(e))throw new i.a('found endpt/interior pt intersection at index '+t+' :pt '+e)}}}checkInteriorIntersections(){if(0===arguments.length)for(let e=this._segStrings.iterator();e.hasNext();){const t=e.next();for(let e=this._segStrings.iterator();e.hasNext();){const o=e.next();this.checkInteriorIntersections(t,o)}}else if(2===arguments.length){const e=arguments[0],t=arguments[1],o=e.getCoordinates(),n=t.getCoordinates();for(let a=0;a<o.length-1;a++)for(let o=0;o<n.length-1;o++)this.checkInteriorIntersections(e,a,t,o)}else if(4===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=arguments[3];if(e===o&&t===n)return null;const a=e.getCoordinates()[t],r=e.getCoordinates()[t+1],s=o.getCoordinates()[n],d=o.getCoordinates()[n+1];if(this._li.computeIntersection(a,r,s,d),this._li.hasIntersection()&&(this._li.isProper()||this.hasInteriorIntersection(this._li,a,r)||this.hasInteriorIntersection(this._li,s,d)))throw new i.a('found non-noded intersection at '+a+'-'+r+' and '+s+'-'+d)}}checkValid(){this.checkEndPtVertexIntersections(),this.checkInteriorIntersections(),this.checkCollapses()}checkCollapses(){if(0===arguments.length)for(let e=this._segStrings.iterator();e.hasNext();){const t=e.next();this.checkCollapses(t)}else if(1===arguments.length){const e=arguments[0],t=e.getCoordinates();for(let e=0;e<t.length-2;e++)this.checkCollapse(t[e],t[e+1],t[e+2])}}hasInteriorIntersection(e,t,o){for(let n=0;n<e.getIntersectionNum();n++){const a=e.getIntersection(n);if(!(a.equals(t)||a.equals(o)))return!0}return!1}checkCollapse(e,t,o){if(e.equals(o))throw new i.a('found non-noded collapse at '+r.fact.createLineString([e,t,o]))}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._li=new a.a,this._segStrings=null;const e=arguments[0];this._segStrings=e},r.fact=new n.a},function(e,t,n){'use strict';var a=n(1),i=n(5),r=n(23),s=n(4);class d{constructor(){d.constructor_.apply(this,arguments)}intersectsScaled(e,t){const o=C(e.x,t.x),n=E(e.x,t.x),a=C(e.y,t.y),i=E(e.y,t.y),r=this._maxx<o||this._minx>n||this._maxy<a||this._miny>i;if(r)return!1;const d=this.intersectsToleranceSquare(e,t);return s.a.isTrue(!(r&&d),'Found bad envelope test'),d}initCorners(e){const t=0.5;this._minx=e.x-t,this._maxx=e.x+t,this._miny=e.y-t,this._maxy=e.y+t,this._corner[0]=new a.a(this._maxx,this._maxy),this._corner[1]=new a.a(this._minx,this._maxy),this._corner[2]=new a.a(this._minx,this._miny),this._corner[3]=new a.a(this._maxx,this._miny)}intersects(e,t){return 1===this._scaleFactor?this.intersectsScaled(e,t):(this.copyScaled(e,this._p0Scaled),this.copyScaled(t,this._p1Scaled),this.intersectsScaled(this._p0Scaled,this._p1Scaled))}scale(e){return o(e*this._scaleFactor)}getCoordinate(){return this._originalPt}copyScaled(e,t){t.x=this.scale(e.x),t.y=this.scale(e.y)}getSafeEnvelope(){if(null===this._safeEnv){const e=d.SAFE_ENV_EXPANSION_FACTOR/this._scaleFactor;this._safeEnv=new r.a(this._originalPt.x-e,this._originalPt.x+e,this._originalPt.y-e,this._originalPt.y+e)}return this._safeEnv}intersectsPixelClosure(e,t){return!(this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!this._li.hasIntersection())||!(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),!this._li.hasIntersection())||!(this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),!this._li.hasIntersection())||(this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),!!this._li.hasIntersection())}intersectsToleranceSquare(e,t){let o=!1,n=!1;return!(this._li.computeIntersection(e,t,this._corner[0],this._corner[1]),!this._li.isProper())||!(this._li.computeIntersection(e,t,this._corner[1],this._corner[2]),!this._li.isProper())||!(this._li.hasIntersection()&&(o=!0),this._li.computeIntersection(e,t,this._corner[2],this._corner[3]),!this._li.isProper())||(this._li.hasIntersection()&&(n=!0),this._li.computeIntersection(e,t,this._corner[3],this._corner[0]),!!this._li.isProper()||o&&n||!!e.equals(this._pt)||!!t.equals(this._pt))}addSnappedNode(e,t){const o=e.getCoordinate(t),n=e.getCoordinate(t+1);return!!this.intersects(o,n)&&(e.addIntersection(this.getCoordinate(),t),!0)}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){this._li=null,this._pt=null,this._originalPt=null,this._ptScaled=null,this._p0Scaled=null,this._p1Scaled=null,this._scaleFactor=null,this._minx=null,this._maxx=null,this._miny=null,this._maxy=null,this._corner=[,,,,].fill(null),this._safeEnv=null;const e=arguments[0],t=arguments[1],o=arguments[2];if(this._originalPt=e,this._pt=e,this._scaleFactor=t,this._li=o,0>=t)throw new i.a('Scale factor must be non-zero');1!==t&&(this._pt=new a.a(this.scale(e.x),this.scale(e.y)),this._p0Scaled=new a.a,this._p1Scaled=new a.a),this.initCorners(this._pt)},d.SAFE_ENV_EXPANSION_FACTOR=0.75},function(e,t,o){'use strict';var a=o(358),i=o(201),r=o(107);class s{constructor(){s.constructor_.apply(this,arguments)}snap(){if(1===arguments.length){const e=arguments[0];return this.snap(e,null,-1)}if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=e.getSafeEnvelope(),a=new d(e,t,o);return this._index.query(n,new class{get interfaces_(){return[r.a]}visitItem(e){e.select(n,a)}}),a.isNodeAdded()}}getClass(){return s}get interfaces_(){return[]}}t.a=s;class d extends a.a{constructor(){super(),d.constructor_.apply(this,arguments)}isNodeAdded(){return this._isNodeAdded}select(){if(2===arguments.length&&n(arguments[1])&&arguments[0]instanceof i.a){const e=arguments[0],t=arguments[1],o=e.getContext();if(null!==this._parentEdge&&o===this._parentEdge&&t===this._hotPixelVertexIndex)return null;this._isNodeAdded=this._hotPixel.addSnappedNode(o,t)}else return super.select.apply(this,arguments)}getClass(){return d}get interfaces_(){return[]}}d.constructor_=function(){this._hotPixel=null,this._parentEdge=null,this._hotPixelVertexIndex=null,this._isNodeAdded=!1;const e=arguments[0],t=arguments[1],o=arguments[2];this._hotPixel=e,this._parentEdge=t,this._hotPixelVertexIndex=o},s.HotPixelSnapAction=d,s.constructor_=function(){this._index=null;const e=arguments[0];this._index=e}},function(e,t,o){'use strict';var n=o(68);class a{constructor(){a.constructor_.apply(this,arguments)}select(){if(1===arguments.length){arguments[0]}else if(2===arguments.length){const e=arguments[0],t=arguments[1];e.getLineSegment(t,this.selectedSegment),this.select(this.selectedSegment)}}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){this.selectedSegment=new n.a}},function(e,t,o){'use strict';var n=o(136),a=o(0);class i{constructor(){i.constructor_.apply(this,arguments)}processIntersections(e,t,o,n){if(e===o&&t===n)return null;const a=e.getCoordinates()[t],i=e.getCoordinates()[t+1],r=o.getCoordinates()[n],s=o.getCoordinates()[n+1];if(this._li.computeIntersection(a,i,r,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()){for(let e=0;e<this._li.getIntersectionNum();e++)this._interiorIntersections.add(this._li.getIntersection(e));e.addIntersections(this._li,t,0),o.addIntersections(this._li,n,1)}}isDone(){return!1}getInteriorIntersections(){return this._interiorIntersections}getClass(){return i}get interfaces_(){return[n.a]}}t.a=i,i.constructor_=function(){this._li=null,this._interiorIntersections=null;const e=arguments[0];this._li=e,this._interiorIntersections=new a.a}},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=o(93),s=o(138),d=o(74),l=o(54),p=o(140),_=o(388),g=o.n(_),c=Object.assign||function(e){for(var t=1,o;t<arguments.length;t++)for(var n in o=arguments[t],o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);return e},u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),y=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(n)},m=function(e){function t(e){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c({title:'Union',className:'ole-control-union',image:g.a},e)))}return i(t,e),u(t,[{key:'applyTopologyOperation',value:function(e){y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'applyTopologyOperation',this).call(this,e);var o=new r.a;o.inject(l.e,l.a,d.a,l.f,l.c,l.b,l.d);for(var n=1;n<e.length;n+=1){var a=o.read(e[0].getGeometry()),i=o.read(e[n].getGeometry()),p=s.a.union(a,i);e[0].setGeometry(o.write(p)),e[n].setGeometry(null)}}}]),t}(p.a);t.a=m},function(e,t,o){'use strict';var n=o(208),a=o(209)},function(e,t,o){'use strict';var n=o(27),a=o(36),i=o(5),r=o(64),s=o(49),d=o(83),l=o(50),p=o(65),_=o(25),g=o(0),c=o(47);class u{constructor(){u.constructor_.apply(this,arguments)}transformPoint(e){return this._factory.createPoint(this.transformCoordinates(e.getCoordinateSequence(),e))}transformPolygon(e){let t=!0;const o=this.transformLinearRing(e.getExteriorRing(),e);(null===o||!(o instanceof l.a)||o.isEmpty())&&(t=!1);const n=new g.a;for(let o=0;o<e.getNumInteriorRing();o++){const a=this.transformLinearRing(e.getInteriorRingN(o),e);null===a||a.isEmpty()||(a instanceof l.a||(t=!1),n.add(a))}if(t)return this._factory.createPolygon(o,n.toArray([]));else{const e=new g.a;return null!==o&&e.add(o),e.addAll(n),this._factory.buildGeometry(e)}}createCoordinateSequence(e){return this._factory.getCoordinateSequenceFactory().create(e)}getInputGeometry(){return this._inputGeom}transformMultiLineString(e){const t=new g.a;for(let o=0;o<e.getNumGeometries();o++){const n=this.transformLineString(e.getGeometryN(o),e);null===n||n.isEmpty()||t.add(n)}return this._factory.buildGeometry(t)}transformCoordinates(e){return this.copy(e)}transformLineString(e){return this._factory.createLineString(this.transformCoordinates(e.getCoordinateSequence(),e))}transformMultiPoint(e){const t=new g.a;for(let o=0;o<e.getNumGeometries();o++){const n=this.transformPoint(e.getGeometryN(o),e);null===n||n.isEmpty()||t.add(n)}return this._factory.buildGeometry(t)}transformMultiPolygon(e){const t=new g.a;for(let o=0;o<e.getNumGeometries();o++){const n=this.transformPolygon(e.getGeometryN(o),e);null===n||n.isEmpty()||t.add(n)}return this._factory.buildGeometry(t)}copy(e){return e.copy()}transformGeometryCollection(e){const t=new g.a;for(let o=0;o<e.getNumGeometries();o++){const n=this.transform(e.getGeometryN(o));null===n||this._pruneEmptyGeometry&&n.isEmpty()||t.add(n)}return this._preserveGeometryCollectionType?this._factory.createGeometryCollection(a.a.toGeometryArray(t)):this._factory.buildGeometry(t)}transform(e){if(this._inputGeom=e,this._factory=e.getFactory(),e instanceof r.a)return this.transformPoint(e,null);if(e instanceof d.a)return this.transformMultiPoint(e,null);if(e instanceof l.a)return this.transformLinearRing(e,null);if(e instanceof n.a)return this.transformLineString(e,null);if(e instanceof c.a)return this.transformMultiLineString(e,null);if(e instanceof s.a)return this.transformPolygon(e,null);if(e instanceof p.a)return this.transformMultiPolygon(e,null);if(e instanceof _.a)return this.transformGeometryCollection(e,null);throw new i.a('Unknown Geometry subtype: '+e.getClass().getName())}transformLinearRing(e){const t=this.transformCoordinates(e.getCoordinateSequence(),e);if(null===t)return this._factory.createLinearRing(null);const o=t.size();return 0<o&&4>o&&!this._preserveType?this._factory.createLineString(t):this._factory.createLinearRing(t)}getClass(){return u}get interfaces_(){return[]}}t.a=u,u.constructor_=function(){this._inputGeom=null,this._factory=null,this._pruneEmptyGeometry=!0,this._preserveGeometryCollectionType=!0,this._preserveCollections=!1,this._preserveType=!1}},function(e,t,o){'use strict';var n=o(364),a=o(365),i=o(0);class r{constructor(){r.constructor_.apply(this,arguments)}static toSegmentStrings(e){const t=new i.a;for(let o=e.iterator();o.hasNext();){const a=o.next();t.add(new n.a(a.getCoordinates(),a))}return t}static checkValid(e){const t=new r(e);t.checkValid()}checkValid(){this._nv.checkValid()}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._nv=null;const e=arguments[0];this._nv=new a.a(r.toSegmentStrings(e))}},function(e,t,o){'use strict';var n=o(66),a=o(131),i=o(199),r=o(200);class s{constructor(){s.constructor_.apply(this,arguments)}getCoordinates(){return this._pts}size(){return this._pts.length}getCoordinate(e){return this._pts[e]}isClosed(){return this._pts[0].equals(this._pts[this._pts.length-1])}getSegmentOctant(e){return e===this._pts.length-1?-1:i.a.octant(this.getCoordinate(e),this.getCoordinate(e+1))}setData(e){this._data=e}getData(){return this._data}toString(){return n.a.toLineString(new a.a(this._pts))}getClass(){return s}get interfaces_(){return[r.a]}}t.a=s,s.constructor_=function(){this._pts=null,this._data=null;const e=arguments[0],t=arguments[1];this._pts=e,this._data=t}},function(e,t,o){'use strict';var n=o(66),a=o(133),i=o(37),r=o(38),s=o(366);class d{constructor(){d.constructor_.apply(this,arguments)}static computeIntersections(e){const t=new d(e);return t.setFindAllIntersections(!0),t.isValid(),t.getIntersections()}execute(){return null===this._segInt?void this.checkInteriorIntersections():null}getIntersections(){return this._segInt.getIntersections()}isValid(){return this.execute(),this._isValid}setFindAllIntersections(e){this._findAllIntersections=e}checkInteriorIntersections(){this._isValid=!0,this._segInt=new s.a(this._li),this._segInt.setFindAllIntersections(this._findAllIntersections);const e=new a.a;if(e.setSegmentIntersector(this._segInt),e.computeNodes(this._segStrings),this._segInt.hasIntersection())return this._isValid=!1,null}checkValid(){if(this.execute(),!this._isValid)throw new i.a(this.getErrorMessage(),this._segInt.getInteriorIntersection())}getErrorMessage(){if(this._isValid)return'no intersections found';const e=this._segInt.getIntersectionSegments();return'found non-noded intersection between '+n.a.toLineString(e[0],e[1])+' and '+n.a.toLineString(e[2],e[3])}getClass(){return d}get interfaces_(){return[]}}t.a=d,d.constructor_=function(){this._li=new r.a,this._segStrings=null,this._findAllIntersections=!1,this._segInt=null,this._isValid=!0;const e=arguments[0];this._segStrings=e}},function(e,t,o){'use strict';var n=o(136),a=o(0);class i{constructor(){i.constructor_.apply(this,arguments)}static createAllIntersectionsFinder(e){const t=new i(e);return t.setFindAllIntersections(!0),t}static createAnyIntersectionFinder(e){return new i(e)}static createIntersectionCounter(e){const t=new i(e);return t.setFindAllIntersections(!0),t.setKeepIntersections(!1),t}getInteriorIntersection(){return this._interiorIntersection}setCheckEndSegmentsOnly(e){this._isCheckEndSegmentsOnly=e}getIntersectionSegments(){return this._intSegments}count(){return this._intersectionCount}getIntersections(){return this._intersections}setFindAllIntersections(e){this._findAllIntersections=e}setKeepIntersections(e){this._keepIntersections=e}processIntersections(e,t,o,n){if(!this._findAllIntersections&&this.hasIntersection())return null;if(e===o&&t===n)return null;if(this._isCheckEndSegmentsOnly){const a=this.isEndSegment(e,t)||this.isEndSegment(o,n);if(!a)return null}const a=e.getCoordinates()[t],i=e.getCoordinates()[t+1],r=o.getCoordinates()[n],s=o.getCoordinates()[n+1];this._li.computeIntersection(a,i,r,s),this._li.hasIntersection()&&this._li.isInteriorIntersection()&&(this._intSegments=[,,,,].fill(null),this._intSegments[0]=a,this._intSegments[1]=i,this._intSegments[2]=r,this._intSegments[3]=s,this._interiorIntersection=this._li.getIntersection(0),this._keepIntersections&&this._intersections.add(this._interiorIntersection),this._intersectionCount++)}isEndSegment(e,t){return!(0!==t)||!!(t>=e.size()-2)}hasIntersection(){return null!==this._interiorIntersection}isDone(){return!this._findAllIntersections&&null!==this._interiorIntersection}getClass(){return i}get interfaces_(){return[n.a]}}t.a=i,i.constructor_=function(){this._findAllIntersections=!1,this._isCheckEndSegmentsOnly=!1,this._li=null,this._interiorIntersection=null,this._intSegments=null,this._intersections=new a.a,this._intersectionCount=0,this._keepIntersections=!0;const e=arguments[0];this._li=e,this._interiorIntersection=null}},function(e,t,o){'use strict';var n=o(36),a=o(0);class i{constructor(){i.constructor_.apply(this,arguments)}static map(e,t){const o=new i(t);return o.map(e)}map(e){const t=new a.a;for(let o=0;o<e.getNumGeometries();o++){const n=this._mapOp.map(e.getGeometryN(o));n.isEmpty()||t.add(n)}return e.getFactory().createGeometryCollection(n.a.toGeometryArray(t))}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){this._mapOp=null;const e=arguments[0];this._mapOp=e}},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}map(){}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t,o){'use strict';var n=o(0),a=o(4),i=o(86);class r{constructor(){r.constructor_.apply(this,arguments)}collectLines(e){for(let t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){const o=t.next();this.collectLineEdge(o,e,this._lineEdgesList),this.collectBoundaryTouchEdge(o,e,this._lineEdgesList)}}labelIsolatedLine(t,e){const o=this._ptLocator.locate(t.getCoordinate(),this._op.getArgGeometry(e));t.getLabel().setLocation(e,o)}build(e){return this.findCoveredLineEdges(),this.collectLines(e),this.buildLines(e),this._resultLineList}collectLineEdge(t,o,n){const a=t.getLabel(),r=t.getEdge();t.isLineEdge()&&!t.isVisited()&&i.a.isResultOfOp(a,o)&&!r.isCovered()&&(n.add(r),t.setVisitedEdge(!0))}findCoveredLineEdges(){for(let e=this._op.getGraph().getNodes().iterator();e.hasNext();){const t=e.next();t.getEdges().findCoveredLineEdges()}for(let t=this._op.getGraph().getEdgeEnds().iterator();t.hasNext();){const o=t.next(),n=o.getEdge();if(o.isLineEdge()&&!n.isCoveredSet()){const e=this._op.isCoveredByA(o.getCoordinate());n.setCovered(e)}}}labelIsolatedLines(e){for(let t=e.iterator();t.hasNext();){const o=t.next(),e=o.getLabel();o.isIsolated()&&(e.isNull(0)?this.labelIsolatedLine(o,0):this.labelIsolatedLine(o,1))}}buildLines(){for(let t=this._lineEdgesList.iterator();t.hasNext();){const o=t.next(),e=o.getLabel(),n=this._geometryFactory.createLineString(o.getCoordinates());this._resultLineList.add(n),o.setInResult(!0)}}collectBoundaryTouchEdge(e,t,o){const n=e.getLabel();return e.isLineEdge()?null:e.isVisited()?null:e.isInteriorAreaEdge()?null:e.getEdge().isInResult()?null:void(a.a.isTrue(!(e.isInResult()||e.getSym().isInResult())||!e.getEdge().isInResult()),i.a.isResultOfOp(n,t)&&t===i.a.INTERSECTION&&(o.add(e.getEdge()),e.setVisitedEdge(!0)))}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._op=null,this._geometryFactory=null,this._ptLocator=null,this._lineEdgesList=new n.a,this._resultLineList=new n.a;const e=arguments[0],t=arguments[1],o=arguments[2];this._op=e,this._geometryFactory=t,this._ptLocator=o}},function(e,t,o){'use strict';var n=o(0),a=o(86);class i{constructor(){i.constructor_.apply(this,arguments)}filterCoveredNodeToPoint(e){const t=e.getCoordinate();if(!this._op.isCoveredByLA(t)){const e=this._geometryFactory.createPoint(t);this._resultPointList.add(e)}}extractNonCoveredResultNodes(e){for(let t=this._op.getGraph().getNodes().iterator();t.hasNext();){const o=t.next();if(!o.isInResult()&&!o.isIncidentEdgeInResult()&&(0===o.getEdges().getDegree()||e===a.a.INTERSECTION)){const t=o.getLabel();a.a.isResultOfOp(t,e)&&this.filterCoveredNodeToPoint(o)}}}build(e){return this.extractNonCoveredResultNodes(e),this._resultPointList}getClass(){return i}get interfaces_(){return[]}}t.a=i,i.constructor_=function(){this._op=null,this._geometryFactory=null,this._resultPointList=new n.a;const e=arguments[0],t=arguments[1],o=arguments[2];this._op=e,this._geometryFactory=t}},function(e,t,o){'use strict';var n=o(372),a=o(61),i=o(86);class r{constructor(){r.constructor_.apply(this,arguments)}static overlayOp(e,t,o){const n=new r(e,t);return n.getResultGeometry(o)}static union(e,t){return r.overlayOp(e,t,i.a.UNION)}static intersection(e,t){return r.overlayOp(e,t,i.a.INTERSECTION)}static symDifference(e,t){return r.overlayOp(e,t,i.a.SYMDIFFERENCE)}static difference(e,t){return r.overlayOp(e,t,i.a.DIFFERENCE)}getResultGeometry(e){let t=null,o=!1,r=null;try{t=i.a.overlayOp(this._geom[0],this._geom[1],e);o=!0}catch(e){if(e instanceof a.a)r=e;else throw e}finally{}if(!o)try{t=n.a.overlayOp(this._geom[0],this._geom[1],e)}catch(e){if(e instanceof a.a)throw r;else throw e}finally{}return t}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){this._geom=[,,].fill(null);const e=arguments[0],t=arguments[1];this._geom[0]=e,this._geom[1]=t}},function(e,t,o){'use strict';var n=o(208),a=o(28),i=o(373),r=o(86);class s{constructor(){s.constructor_.apply(this,arguments)}static overlayOp(e,t,o){const n=new s(e,t);return n.getResultGeometry(o)}static union(e,t){return s.overlayOp(e,t,r.a.UNION)}static intersection(e,t){return s.overlayOp(e,t,r.a.INTERSECTION)}static symDifference(e,t){return s.overlayOp(e,t,r.a.SYMDIFFERENCE)}static difference(e,t){return s.overlayOp(e,t,r.a.DIFFERENCE)}selfSnap(e){const t=new n.a(e),o=t.snapTo(e,this._snapTolerance);return o}removeCommonBits(e){this._cbr=new i.a,this._cbr.add(e[0]),this._cbr.add(e[1]);const t=[,,].fill(null);return t[0]=this._cbr.removeCommonBits(e[0].copy()),t[1]=this._cbr.removeCommonBits(e[1].copy()),t}prepareResult(e){return this._cbr.addCommonBits(e),e}getResultGeometry(e){const t=this.snap(this._geom),o=r.a.overlayOp(t[0],t[1],e);return this.prepareResult(o)}checkValid(e){e.isValid()||a.a.out.println('Snapped geometry is invalid')}computeSnapTolerance(){this._snapTolerance=n.a.computeOverlaySnapTolerance(this._geom[0],this._geom[1])}snap(e){const t=this.removeCommonBits(e),o=n.a.snap(t[0],t[1],this._snapTolerance);return o}getClass(){return s}get interfaces_(){return[]}}t.a=s,s.constructor_=function(){this._geom=[,,].fill(null),this._snapTolerance=null,this._cbr=null;const e=arguments[0],t=arguments[1];this._geom[0]=e,this._geom[1]=t,this.computeSnapTolerance()}},function(e,t,o){'use strict';var n=o(374),a=o(77),i=o(1),r=o(79);class s{constructor(){s.constructor_.apply(this,arguments)}addCommonBits(e){const t=new l(this._commonCoord);e.apply(t),e.geometryChanged()}removeCommonBits(e){if(0===this._commonCoord.x&&0===this._commonCoord.y)return e;const t=new i.a(this._commonCoord);t.x=-t.x,t.y=-t.y;const o=new l(t);return e.apply(o),e.geometryChanged(),e}getCommonCoordinate(){return this._commonCoord}add(e){e.apply(this._ccFilter),this._commonCoord=this._ccFilter.getCommonCoordinate()}getClass(){return s}get interfaces_(){return[]}}t.a=s;class d{constructor(){d.constructor_.apply(this,arguments)}filter(e){this._commonBitsX.add(e.x),this._commonBitsY.add(e.y)}getCommonCoordinate(){return new i.a(this._commonBitsX.getCommon(),this._commonBitsY.getCommon())}getClass(){return d}get interfaces_(){return[a.a]}}d.constructor_=function(){this._commonBitsX=new n.a,this._commonBitsY=new n.a};class l{constructor(){l.constructor_.apply(this,arguments)}filter(e,t){const o=e.getOrdinate(t,0)+this.trans.x,n=e.getOrdinate(t,1)+this.trans.y;e.setOrdinate(t,0,o),e.setOrdinate(t,1,n)}isDone(){return!1}isGeometryChanged(){return!0}getClass(){return l}get interfaces_(){return[r.a]}}l.constructor_=function(){this.trans=null;const e=arguments[0];this.trans=e},s.CommonCoordinateFilter=d,s.Translater=l,s.constructor_=function(){this._commonCoord=null,this._ccFilter=new d}},function(e,t,o){'use strict';var n=o(21),a=o(176);class r{constructor(){this._isFirst=!0,this._commonMantissaBitsCount=53,this._commonBits=new a.a,this._commonSignExp=null}getCommon(){return n.a.longBitsToDouble(this._commonBits)}add(e){const t=n.a.doubleToLongBits(e);if(this._isFirst)return this._commonBits=t,this._commonSignExp=r.signExpBits(this._commonBits),this._isFirst=!1,null;const o=r.signExpBits(t);return o===this._commonSignExp?void(this._commonMantissaBitsCount=r.numCommonMostSigMantissaBits(this._commonBits,t),this._commonBits=r.zeroLowerBits(this._commonBits,64-(12+this._commonMantissaBitsCount))):(this._commonBits.high=0,this._commonBits.low=0,null)}toString(){if(1===arguments.length){const e=arguments[0],t=n.a.longBitsToDouble(e),o=a.a.toBinaryString(e),i='0000000000000000000000000000000000000000000000000000000000000000'+o,r=i.substring(i.length-64),s=r.substring(0,1)+'  '+r.substring(1,12)+'(exp) '+r.substring(12)+' [ '+t+' ]';return s}}getClass(){return r}get interfaces_(){return[]}static getBit(e,t){const o=1<<t%32;return 32>t?0==(e.low&o)?0:1:0==(e.high&o)?0:1}static signExpBits(e){return e.high>>>20}static zeroLowerBits(e,t){let o='low';if(32<t&&(e.low=0,t%=32,o='high'),0<t){const n=32>t?~((1<<t)-1):0;e[o]&=n}return e}static numCommonMostSigMantissaBits(e,t){let o=0;for(let n=52;0<=n;n--){if(r.getBit(e,n)!==r.getBit(t,n))return o;o++}return 52}}t.a=r},function(e,t,o){'use strict';var n=o(95),a=o(376),i=o(38);class r{constructor(){r.constructor_.apply(this,arguments)}getArgGeometry(e){return this._arg[e].getGeometry()}setComputationPrecision(e){this._resultPrecisionModel=e,this._li.setPrecisionModel(this._resultPrecisionModel)}getClass(){return r}get interfaces_(){return[]}}t.a=r,r.constructor_=function(){if(this._li=new i.a,this._resultPrecisionModel=null,this._arg=null,1===arguments.length){const e=arguments[0];this.setComputationPrecision(e.getPrecisionModel()),this._arg=[,].fill(null),this._arg[0]=new a.a(0,e)}else if(2===arguments.length){const e=arguments[0],t=arguments[1];r.constructor_.call(this,e,t,n.a.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];0<=e.getPrecisionModel().compareTo(t.getPrecisionModel())?this.setComputationPrecision(e.getPrecisionModel()):this.setComputationPrecision(t.getPrecisionModel()),this._arg=[,,].fill(null),this._arg[0]=new a.a(0,e,o),this._arg[1]=new a.a(1,t,o)}}},function(e,t,o){'use strict';var n=o(210),a=o(9),i=o(27),r=o(188),s=o(24),d=o(3),l=o(10),p=o(1),_=o(64),c=o(49),u=o(83),g=o(377),y=o(50),m=o(95),h=o(17),f=o(211),x=o(65),I=o(29),E=o(25),C=o(46),N=o(82),T=o(381),S=o(4),L=o(137),O=o(47),R=o(105);class P extends R.a{constructor(){super(),P.constructor_.apply(this,arguments)}static determineBoundary(e,t){return e.isInBoundary(t)?a.a.BOUNDARY:a.a.INTERIOR}insertBoundaryPoint(e,t){const o=this._nodes.addNode(t),n=o.getLabel();let i=1,r=a.a.NONE;r=n.getLocation(e,l.a.ON),r===a.a.BOUNDARY&&i++;const s=P.determineBoundary(this._boundaryNodeRule,i);n.setLocation(e,s)}computeSelfNodes(){if(2===arguments.length){const e=arguments[0],t=arguments[1];return this.computeSelfNodes(e,t,!1)}if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2],n=new f.a(e,!0,!1);n.setIsDoneIfProperInt(o);const a=this.createEdgeSetIntersector(),i=this._parentGeom instanceof y.a||this._parentGeom instanceof c.a||this._parentGeom instanceof x.a;return a.computeIntersections(this._edges,n,t||!i),this.addSelfIntersectionNodes(this._argIndex),n}}computeSplitEdges(t){for(let o=this._edges.iterator();o.hasNext();){const n=o.next();n.eiList.addSplitEdges(t)}}computeEdgeIntersections(e,t,o){const n=new f.a(t,o,!0);n.setBoundaryNodes(this.getBoundaryNodes(),e.getBoundaryNodes());const a=this.createEdgeSetIntersector();return a.computeIntersections(this._edges,e._edges,n),n}getGeometry(){return this._parentGeom}getBoundaryNodeRule(){return this._boundaryNodeRule}hasTooFewPoints(){return this._hasTooFewPoints}addPoint(){if(arguments[0]instanceof _.a){const e=arguments[0],t=e.getCoordinate();this.insertPoint(this._argIndex,t,a.a.INTERIOR)}else if(arguments[0]instanceof p.a){const e=arguments[0];this.insertPoint(this._argIndex,e,a.a.INTERIOR)}}addPolygon(e){this.addPolygonRing(e.getExteriorRing(),a.a.EXTERIOR,a.a.INTERIOR);for(let t=0;t<e.getNumInteriorRing();t++){const o=e.getInteriorRingN(t);this.addPolygonRing(o,a.a.INTERIOR,a.a.EXTERIOR)}}addEdge(t){this.insertEdge(t);const e=t.getCoordinates();this.insertPoint(this._argIndex,e[0],a.a.BOUNDARY),this.insertPoint(this._argIndex,e[e.length-1],a.a.BOUNDARY)}addLineString(t){const o=C.a.removeRepeatedPoints(t.getCoordinates());if(2>o.length)return this._hasTooFewPoints=!0,this._invalidPoint=o[0],null;const n=new L.a(o,new I.a(this._argIndex,a.a.INTERIOR));this._lineEdgeMap.put(t,n),this.insertEdge(n),S.a.isTrue(2<=o.length,'found LineString with single point'),this.insertBoundaryPoint(this._argIndex,o[0]),this.insertBoundaryPoint(this._argIndex,o[o.length-1])}getInvalidPoint(){return this._invalidPoint}getBoundaryPoints(){const e=this.getBoundaryNodes(),t=Array(e.size()).fill(null);let o=0;for(let n=e.iterator();n.hasNext();){const e=n.next();t[o++]=e.getCoordinate().copy()}return t}getBoundaryNodes(){return null===this._boundaryNodes&&(this._boundaryNodes=this._nodes.getBoundaryNodes(this._argIndex)),this._boundaryNodes}addSelfIntersectionNode(e,t,o){return this.isBoundaryNode(e,t)?null:void(o===a.a.BOUNDARY&&this._useBoundaryDeterminationRule?this.insertBoundaryPoint(e,t):this.insertPoint(e,t,o))}addPolygonRing(t,o,n){if(t.isEmpty())return null;const i=C.a.removeRepeatedPoints(t.getCoordinates());if(4>i.length)return this._hasTooFewPoints=!0,this._invalidPoint=i[0],null;let r=o,s=n;h.a.isCCW(i)&&(r=n,s=o);const d=new L.a(i,new I.a(this._argIndex,a.a.BOUNDARY,r,s));this._lineEdgeMap.put(t,d),this.insertEdge(d),this.insertPoint(this._argIndex,i[0],a.a.BOUNDARY)}insertPoint(e,t,o){const a=this._nodes.addNode(t),n=a.getLabel();null===n?a._label=new I.a(e,o):n.setLocation(e,o)}createEdgeSetIntersector(){return new g.a}addSelfIntersectionNodes(t){for(let o=this._edges.iterator();o.hasNext();){const n=o.next(),e=n.getLabel().getLocation(t);for(let o=n.eiList.iterator();o.hasNext();){const n=o.next();this.addSelfIntersectionNode(t,n.coord,e)}}}add(){if(1===arguments.length&&arguments[0]instanceof s.a){const e=arguments[0];if(e.isEmpty())return null;if(e instanceof x.a&&(this._useBoundaryDeterminationRule=!1),e instanceof c.a)this.addPolygon(e);else if(e instanceof i.a)this.addLineString(e);else if(e instanceof _.a)this.addPoint(e);else if(e instanceof u.a)this.addCollection(e);else if(e instanceof O.a)this.addCollection(e);else if(e instanceof x.a)this.addCollection(e);else if(e instanceof E.a)this.addCollection(e);else throw new UnsupportedOperationException(e.getClass().getName())}else return super.add.apply(this,arguments)}addCollection(e){for(let t=0;t<e.getNumGeometries();t++){const o=e.getGeometryN(t);this.add(o)}}locate(e){return Object(d.a)(this._parentGeom,N.a)&&50<this._parentGeom.getNumGeometries()?(null===this._areaPtLocator&&(this._areaPtLocator=new T.a(this._parentGeom)),this._areaPtLocator.locate(e)):this._ptLocator.locate(e,this._parentGeom)}findEdge(){if(1===arguments.length&&arguments[0]instanceof i.a){const e=arguments[0];return this._lineEdgeMap.get(e)}return super.findEdge.apply(this,arguments)}getClass(){return P}get interfaces_(){return[]}}t.a=P,P.constructor_=function(){if(this._parentGeom=null,this._lineEdgeMap=new r.a,this._boundaryNodeRule=null,this._useBoundaryDeterminationRule=!0,this._argIndex=null,this._boundaryNodes=null,this._hasTooFewPoints=!1,this._invalidPoint=null,this._areaPtLocator=null,this._ptLocator=new n.a,2===arguments.length){const e=arguments[0],t=arguments[1];P.constructor_.call(this,e,t,m.a.OGC_SFS_BOUNDARY_RULE)}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];this._argIndex=e,this._parentGeom=t,this._boundaryNodeRule=o,null!==t&&this.add(t)}}},function(e,t,o){'use strict';var n=o(3),a=o(378),r=o(379),i=o(380),s=o(67),d=o(211),l=o(0),p=o(78);class _ extends i.a{constructor(){super(),_.constructor_.apply(this,arguments)}prepareEvents(){s.a.sort(this.events);for(let e=0;e<this.events.size();e++){const t=this.events.get(e);t.isDelete()&&t.getInsertEvent().setDeleteEventIndex(e)}}computeIntersections(){if(1===arguments.length){const e=arguments[0];this.nOverlaps=0,this.prepareEvents();for(let t=0;t<this.events.size();t++){const o=this.events.get(t);if(o.isInsert()&&this.processOverlaps(t,o.getDeleteEventIndex(),o,e),e.isDone())break}}else if(3===arguments.length)if(arguments[2]instanceof d.a&&Object(n.a)(arguments[0],p.a)&&Object(n.a)(arguments[1],p.a)){const e=arguments[0],t=arguments[1],o=arguments[2];this.addEdges(e,e),this.addEdges(t,t),this.computeIntersections(o)}else if('boolean'==typeof arguments[2]&&Object(n.a)(arguments[0],p.a)&&arguments[1]instanceof d.a){const e=arguments[0],t=arguments[1],o=arguments[2];o?this.addEdges(e,null):this.addEdges(e),this.computeIntersections(t)}}addEdge(e,t){const o=e.getMonotoneChainEdge(),n=o.getStartIndexes();for(let s=0;s<n.length-1;s++){const e=new a.a(o,s),n=new r.a(t,o.getMinX(s),e);this.events.add(n),this.events.add(new r.a(o.getMaxX(s),n))}}processOverlaps(e,t,o,n){const a=o.getObject();for(let r=e;r<t;r++){const e=this.events.get(r);if(e.isInsert()){const t=e.getObject();o.isSameLabel(e)||(a.computeIntersections(t,n),this.nOverlaps++)}}}addEdges(){if(1===arguments.length){const e=arguments[0];for(let t=e.iterator();t.hasNext();){const e=t.next();this.addEdge(e,e)}}else if(2===arguments.length){const e=arguments[0],t=arguments[1];for(let o=e.iterator();o.hasNext();){const e=o.next();this.addEdge(e,t)}}}getClass(){return _}get interfaces_(){return[]}}t.a=_,_.constructor_=function(){this.events=new l.a,this.nOverlaps=null}},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}computeIntersections(e,t){this.mce.computeIntersectsForChain(this.chainIndex,e.mce,e.chainIndex,t)}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){this.mce=null,this.chainIndex=null;const e=arguments[0],t=arguments[1];this.mce=e,this.chainIndex=t}},function(e,t,o){'use strict';var n=o(16);class a{constructor(){a.constructor_.apply(this,arguments)}isDelete(){return this._eventType===a.DELETE}setDeleteEventIndex(e){this._deleteEventIndex=e}getObject(){return this._obj}compareTo(e){const t=e;return this._xValue<t._xValue?-1:this._xValue>t._xValue?1:this._eventType<t._eventType?-1:this._eventType>t._eventType?1:0}getInsertEvent(){return this._insertEvent}isInsert(){return this._eventType===a.INSERT}isSameLabel(e){return null!==this._label&&this._label===e._label}getDeleteEventIndex(){return this._deleteEventIndex}getClass(){return a}get interfaces_(){return[n.a]}}t.a=a,a.constructor_=function(){if(this._label=null,this._xValue=null,this._eventType=null,this._insertEvent=null,this._deleteEventIndex=null,this._obj=null,2===arguments.length){const e=arguments[0],t=arguments[1];this._eventType=a.DELETE,this._xValue=e,this._insertEvent=t}else if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];this._eventType=a.INSERT,this._label=e,this._xValue=t,this._obj=o}},a.INSERT=1,a.DELETE=2},function(e,t){'use strict';class o{constructor(){o.constructor_.apply(this,arguments)}getClass(){return o}get interfaces_(){return[]}}t.a=o,o.constructor_=function(){}},function(e,t,o){'use strict';var n=o(3),a=o(5),i=o(107),r=o(204),s=o(50),d=o(382),l=o(68),p=o(82),_=o(385),g=o(386),c=o(191);class u{constructor(){u.constructor_.apply(this,arguments)}locate(e){const t=new c.a(e),o=new y(t);return this._index.query(e.y,e.y,o),t.getLocation()}getClass(){return u}get interfaces_(){return[r.a]}}t.a=u;class y{constructor(){y.constructor_.apply(this,arguments)}visitItem(e){const t=e;this._counter.countSegment(t.getCoordinate(0),t.getCoordinate(1))}getClass(){return y}get interfaces_(){return[i.a]}}y.constructor_=function(){this._counter=null;const e=arguments[0];this._counter=e};class m{constructor(){m.constructor_.apply(this,arguments)}init(e){const t=_.a.getLines(e);for(let o=t.iterator();o.hasNext();){const e=o.next(),t=e.getCoordinates();this.addLine(t)}}addLine(e){for(let t=1;t<e.length;t++){const o=new l.a(e[t-1],e[t]),n=C(o.p0.y,o.p1.y),a=E(o.p0.y,o.p1.y);this._index.insert(n,a,o)}}query(){if(2===arguments.length){const e=arguments[0],t=arguments[1],o=new g.a;return this._index.query(e,t,o),o.getItems()}if(3===arguments.length){const e=arguments[0],t=arguments[1],o=arguments[2];this._index.query(e,t,o)}}getClass(){return m}get interfaces_(){return[]}}m.constructor_=function(){this._index=new d.a;const e=arguments[0];this.init(e)},u.SegmentVisitor=y,u.IntervalIndexedGeometry=m,u.constructor_=function(){this._index=null;const e=arguments[0];if(!(Object(n.a)(e,p.a)||e instanceof s.a))throw new a.a('Argument must be Polygonal or LinearRing');this._index=new m(e)}},function(e,t,o){'use strict';var n=o(66),a=o(1),i=o(383),r=o(139),s=o(67),d=o(28),l=o(0),p=o(384);class _{constructor(){_.constructor_.apply(this,arguments)}buildTree(){s.a.sort(this._leaves,new r.a.NodeComparator);for(let e=this._leaves,t=null,o=new l.a;;){if(this.buildLevel(e,o),1===o.size())return o.get(0);t=e,e=o,o=t}}insert(e,t,o){if(null!==this._root)throw new IllegalStateException('Index cannot be added to once it has been queried');this._leaves.add(new i.a(e,t,o))}query(e,t,o){this.init(),this._root.query(e,t,o)}buildRoot(){return null===this._root?void(this._root=this.buildTree()):null}printNode(e){d.a.out.println(n.a.toLineString(new a.a(e._min,this._level),new a.a(e._max,this._level)))}init(){return null===this._root?void this.buildRoot():null}buildLevel(e,t){this._level++,t.clear();for(let o=0;o<e.size();o+=2){const n=e.get(o),a=o+1<e.size()?e.get(o):null;if(null===a)t.add(n);else{const n=new p.a(e.get(o),e.get(o+1));t.add(n)}}}getClass(){return _}get interfaces_(){return[]}}t.a=_,_.constructor_=function(){this._leaves=new l.a,this._root=null,this._level=0}},function(e,t,o){'use strict';var n=o(139);class a extends n.a{constructor(){super(),a.constructor_.apply(this,arguments)}query(e,t,o){return this.intersects(e,t)?void o.visitItem(this._item):null}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){this._item=null;const e=arguments[0],t=arguments[1],o=arguments[2];this._min=e,this._max=t,this._item=o}},function(e,t,o){'use strict';var n=o(139);class a extends n.a{constructor(){super(),a.constructor_.apply(this,arguments)}buildExtent(e,t){this._min=C(e._min,t._min),this._max=E(e._max,t._max)}query(e,t,o){return this.intersects(e,t)?void(null!==this._node1&&this._node1.query(e,t,o),null!==this._node2&&this._node2.query(e,t,o)):null}getClass(){return a}get interfaces_(){return[]}}t.a=a,a.constructor_=function(){this._node1=null,this._node2=null;const e=arguments[0],t=arguments[1];this._node1=e,this._node2=t,this.buildExtent(this._node1,this._node2)}},function(e,t,o){'use strict';var n=o(27),a=o(24),i=o(3),r=o(32),s=o(50),d=o(62),l=o(0);class p{constructor(){p.constructor_.apply(this,arguments)}static getGeometry(){if(1===arguments.length){const e=arguments[0];return e.getFactory().buildGeometry(p.getLines(e))}if(2===arguments.length){const e=arguments[0],t=arguments[1];return e.getFactory().buildGeometry(p.getLines(e,t))}}static getLines(){if(1===arguments.length){const e=arguments[0];return p.getLines(e,!1)}if(2===arguments.length){if(Object(i.a)(arguments[0],r.a)&&Object(i.a)(arguments[1],r.a)){const e=arguments[0],t=arguments[1];for(let o=e.iterator();o.hasNext();){const e=o.next();p.getLines(e,t)}return t}if(arguments[0]instanceof a.a&&'boolean'==typeof arguments[1]){const e=arguments[0],t=arguments[1],o=new l.a;return e.apply(new p(o,t)),o}if(arguments[0]instanceof a.a&&Object(i.a)(arguments[1],r.a)){const e=arguments[0],t=arguments[1];return e instanceof n.a?t.add(e):e.apply(new p(t)),t}}else if(3===arguments.length){if('boolean'==typeof arguments[2]&&Object(i.a)(arguments[0],r.a)&&Object(i.a)(arguments[1],r.a)){const e=arguments[0],t=arguments[1],o=arguments[2];for(let n=e.iterator();n.hasNext();){const e=n.next();p.getLines(e,t,o)}return t}if('boolean'==typeof arguments[2]&&arguments[0]instanceof a.a&&Object(i.a)(arguments[1],r.a)){const e=arguments[0],t=arguments[1],o=arguments[2];return e.apply(new p(t,o)),t}}}filter(e){if(this._isForcedToLineString&&e instanceof s.a){const t=e.getFactory().createLineString(e.getCoordinateSequence());return this._lines.add(t),null}e instanceof n.a&&this._lines.add(e)}setForceToLineString(e){this._isForcedToLineString=e}getClass(){return p}get interfaces_(){return[d.a]}}t.a=p,p.constructor_=function(){if(this._lines=null,this._isForcedToLineString=!1,1===arguments.length){const e=arguments[0];this._lines=e}else if(2===arguments.length){const e=arguments[0],t=arguments[1];this._lines=e,this._isForcedToLineString=t}}},function(e,t,o){'use strict';var n=o(107),a=o(0);class i{constructor(){i.constructor_.apply(this,arguments)}visitItem(e){this._items.add(e)}getItems(){return this._items}getClass(){return i}get interfaces_(){return[n.a]}}t.a=i,i.constructor_=function(){this._items=new a.a}},function(e,t){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=function(){function e(){o(this,e)}return n(e,null,[{key:'logError',value:function(t){console.error(t)}}]),e}();t.a=a},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NTMuNDk1IiBoZWlnaHQ9IjQ1NC42NDkiIHZpZXdCb3g9IjAgMCA0MjUuMTUxIDQyNi4yMzMiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNzEuMjIgLTM1MS40OSkiIHN0cm9rZS1saW5lY2FwPSJyb3VuZCIgc3Ryb2tlLWxpbmVqb2luPSJyb3VuZCI+PGNpcmNsZSBjeD0iMzA4Ljk0NiIgY3k9IjQ5MC4yODYiIHI9IjEyMy43NDQiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzhhOGE4YSIgc3Ryb2tlLXdpZHRoPSIyMCIvPjxjaXJjbGUgY3g9IjQ0Ni45NyIgY3k9IjYyOC4zMjIiIHI9IjEzOC4yMyIgZmlsbD0ibm9uZSIgc3Ryb2tlPSIjOGE4YThhIiBzdHJva2Utd2lkdGg9IjIyLjM0MSIvPjxwYXRoIGQ9Ik0zMDcuNDYyIDM2My45OUExMjMuNzQ0IDEyMy43NDQgMCAwIDAgMTgzLjcyIDQ4Ny43MzRhMTIzLjc0NCAxMjMuNzQ0IDAgMCAwIDEyMy43NDIgMTIzLjc0NCAxMjMuNzQ0IDEyMy43NDQgMCAwIDAgLjU2My0uMDIgMTM4LjIzIDEzOC4yMyAwIDAgMC0uNzY4IDE0LjMxMSAxMzguMjMgMTM4LjIzIDAgMCAwIDEzOC4yMyAxMzguMjMgMTM4LjIzIDEzOC4yMyAwIDAgMCAxMzguMjMtMTM4LjIzIDEzOC4yMyAxMzguMjMgMCAwIDAtMTM4LjIzLTEzOC4yMyAxMzguMjMgMTM4LjIzIDAgMCAwLTE0LjMxNi44OTggMTIzLjc0NCAxMjMuNzQ0IDAgMCAwIC4wMzUtLjcwM0ExMjMuNzQ0IDEyMy43NDQgMCAwIDAgMzA3LjQ2MiAzNjMuOTl6IiBmaWxsPSJub25lIiBzdHJva2U9IiMwMDAiIHN0cm9rZS13aWR0aD0iMjUiLz48L2c+PC9zdmc+'},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=o(93),s=o(138),d=o(74),l=o(54),p=o(140),_=o(390),g=o.n(_),c=Object.assign||function(e){for(var t=1,o;t<arguments.length;t++)for(var n in o=arguments[t],o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);return e},u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),y=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(n)},m=function(e){function t(e){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c({title:'Intersection',className:'ole-control-intersection',image:g.a},e)))}return i(t,e),u(t,[{key:'applyTopologyOperation',value:function(e){if(y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'applyTopologyOperation',this).call(this,e),!(2>e.length)){var o=new r.a;o.inject(l.e,l.a,d.a,l.f,l.c,l.b,l.d);for(var n=1;n<e.length;n+=1){var a=o.read(e[0].getGeometry()),i=o.read(e[n].getGeometry()),p=s.a.intersection(a,i);e[0].setGeometry(o.write(p)),e[n].setGeometry(null)}}}}]),t}(p.a);t.a=m},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NDkuMjQ3IiBoZWlnaHQ9IjQ0OS4yNTkiIHZpZXdCb3g9IjAgMCA0MjEuMTY5IDQyMS4xODEiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNzUuMjAyIC0zNTYuNTQyKSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48Y2lyY2xlIGN4PSIzMDguOTQ2IiBjeT0iNDkwLjI4NiIgcj0iMTIzLjc0NCIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjOGE4YThhIiBzdHJva2Utd2lkdGg9IjIwIi8+PGNpcmNsZSBjeD0iNDQ2Ljk3IiBjeT0iNjI4LjMyMiIgcj0iMTM4LjIzIiBmaWxsPSJub25lIiBzdHJva2U9IiM4YThhOGEiIHN0cm9rZS13aWR0aD0iMjIuMzQxIi8+PHBhdGggZD0iTTQzMy40MiA0ODguNzgxYTEzOC4yMyAxMzguMjMgMCAwIDAtMTI2Ljk2MiAxMjYuOTk2IDEyMy43NDQgMTIzLjc0NCAwIDAgMCAzLjM0LjE2NkExMjMuNzQ0IDEyMy43NDQgMCAwIDAgNDMzLjU0MiA0OTIuMmExMjMuNzQ0IDEyMy43NDQgMCAwIDAtLjEyMS0zLjQxOHoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyNSIvPjwvZz48L3N2Zz4='},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=o(93),s=o(138),d=o(74),l=o(54),p=o(140),_=o(392),g=o.n(_),c=Object.assign||function(e){for(var t=1,o;t<arguments.length;t++)for(var n in o=arguments[t],o)Object.prototype.hasOwnProperty.call(o,n)&&(e[n]=o[n]);return e},u=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),y=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(n)},m=function(e){function t(e){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).call(this,c({title:'Difference',className:'ole-control-difference',image:g.a},e)))}return i(t,e),u(t,[{key:'applyTopologyOperation',value:function(e){if(y(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'applyTopologyOperation',this).call(this,e),!(2>e.length)){var o=new r.a;o.inject(l.e,l.a,d.a,l.f,l.c,l.b,l.d);for(var n=1;n<e.length;n+=1){var a=o.read(e[0].getGeometry()),i=o.read(e[n].getGeometry()),p=s.a.difference(a,i);e[0].setGeometry(o.write(p)),e[n].setGeometry(null)}}}}]),t}(p.a);t.a=m},function(e){e.exports='data:image/svg+xml;base64,PHN2ZyB4bWxucz0iaHR0cDovL3d3dy53My5vcmcvMjAwMC9zdmciIHdpZHRoPSI0NDkuMjQ3IiBoZWlnaHQ9IjQ0OS4yNTkiIHZpZXdCb3g9IjAgMCA0MjEuMTY5IDQyMS4xODEiPjxnIHRyYW5zZm9ybT0idHJhbnNsYXRlKC0xNzUuMjAyIC0zNTYuNTQyKSIgc3Ryb2tlLWxpbmVjYXA9InJvdW5kIiBzdHJva2UtbGluZWpvaW49InJvdW5kIj48Y2lyY2xlIGN4PSIzMDguOTQ2IiBjeT0iNDkwLjI4NiIgcj0iMTIzLjc0NCIgZmlsbD0iI2ZmZiIgc3Ryb2tlPSIjOGE4YThhIiBzdHJva2Utd2lkdGg9IjIwIi8+PGNpcmNsZSBjeD0iNDQ2Ljk3IiBjeT0iNjI4LjMyMiIgcj0iMTM4LjIzIiBmaWxsPSJub25lIiBzdHJva2U9IiM4YThhOGEiIHN0cm9rZS13aWR0aD0iMjIuMzQxIi8+PHBhdGggZD0iTTMwOC45NDYgMzY2LjU0MmExMjMuNzQ0IDEyMy43NDQgMCAwIDAtMTIzLjc0NCAxMjMuNzQ0QTEyMy43NDQgMTIzLjc0NCAwIDAgMCAzMDguOTQ2IDYxNC4wM2ExMjMuNzQ0IDEyMy43NDQgMCAwIDAgLjU2My0uMDIgMTM4LjIzIDEzOC4yMyAwIDAgMSAxMjMuMTQ2LTEyMy4wMjMgMTIzLjc0NCAxMjMuNzQ0IDAgMCAwIC4wMzUtLjcgMTIzLjc0NCAxMjMuNzQ0IDAgMCAwLTEyMy43NDQtMTIzLjc0NXoiIGZpbGw9IiNmZmYiIHN0cm9rZT0iIzAwMCIgc3Ryb2tlLXdpZHRoPSIyNSIvPjwvZz48L3N2Zz4='},function(e,t,o){'use strict';Object.defineProperty(t,'__esModule',{value:!0});var n=o(394),a=o(212);o.d(t,'Storage',function(){return a.a}),o.d(t,'LocalStorage',function(){return n.a})},function(e,t,o){'use strict';function n(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}function a(e,t){if(!e)throw new ReferenceError('this hasn\'t been initialised - super() hasn\'t been called');return t&&('object'==typeof t||'function'==typeof t)?t:e}function i(e,t){if('function'!=typeof t&&null!==t)throw new TypeError('Super expression must either be null or a function, not '+typeof t);e.prototype=Object.create(t&&t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}),t&&(Object.setPrototypeOf?Object.setPrototypeOf(e,t):e.__proto__=t)}var r=o(212),s=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),d=function e(t,o,n){null===t&&(t=Function.prototype);var a=Object.getOwnPropertyDescriptor(t,o);if(a===void 0){var i=Object.getPrototypeOf(t);return null===i?void 0:e(i,o,n)}if('value'in a)return a.value;var r=a.get;return void 0===r?void 0:r.call(n)},l=function(e){function t(){return n(this,t),a(this,(t.__proto__||Object.getPrototypeOf(t)).apply(this,arguments))}return i(t,e),s(t,[{key:'storeProperties',value:function(e,o){var n=d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'storeProperties',this).call(this,e,o);window.localStorage.setItem(e,JSON.stringify(n))}},{key:'restoreProperties',value:function(){for(var e=0;e<this.controls.length;e+=1){var t=this.controls[e].getProperties().title,o=window.localStorage.getItem(t);o&&this.controls[e].setProperties(JSON.parse(o),!0)}}},{key:'storeActiveControls',value:function(){var e=d(t.prototype.__proto__||Object.getPrototypeOf(t.prototype),'storeActiveControls',this).call(this);window.localStorage.setItem('active',JSON.stringify(e))}},{key:'restoreActiveControls',value:function(){var e=window.localStorage.getItem('active');if(e=e?JSON.parse(e):[],!!e.length)for(var t=0,o;t<this.controls.length;t+=1)o=this.controls[t].getProperties().title,-1<e.indexOf(o)?this.controls[t].activate():this.controls[t].deactivate()}}]),t}(r.a);t.a=l},function(e,t){'use strict';function o(e,t){if(!(e instanceof t))throw new TypeError('Cannot call a class as a function')}var n=function(){function e(e,t){for(var o=0,n;o<t.length;o++)n=t[o],n.enumerable=n.enumerable||!1,n.configurable=!0,'value'in n&&(n.writable=!0),Object.defineProperty(e,n.key,n)}return function(t,o,n){return o&&e(t.prototype,o),n&&e(t,n),t}}(),a=function(){function e(){o(this,e),this.active=!1,this.editor=null,this.map=null}return n(e,[{key:'activate',value:function(){this.active=!0}},{key:'deactivate',value:function(){this.active=!1}},{key:'setEditor',value:function(e){this.editor=e}},{key:'setMap',value:function(e){this.map=e}}]),e}();t.a=a}])});
//# sourceMappingURL=index.js.map